# Taarifa za Msingi za TravisCI

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) za kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## Upatikanaji

TravisCI inaunganisha moja kwa moja na majukwaa tofauti ya git kama vile Github, Bitbucket, Assembla, na Gitlab. Itamwomba mtumiaji kumpa TravisCI ruhusa ya kupata repos anazotaka kuunganisha na TravisCI.

Kwa mfano, Github itaomba ruhusa zifuatazo:

* `user:email` (soma tu)
* `read:org` (soma tu)
* `repo`: Inatoa ufikiaji wa kusoma na kuandika kwa namna ya kanuni, hali za kuthibitisha, wenzake, na hali za kupeleka kwa repositori za umma na binafsi na mashirika.

## Siri Zilizofichwa

### Mazingira ya Mfumo

Katika TravisCI, kama ilivyo kwenye majukwaa mengine ya CI, ni **kupakia siri kwenye kiwango cha repo** ambazo zitahifadhiwa kwa njia iliyofichwa na **kufichuliwa na kupelekwa kwenye mazingira ya mfumo** ya mashine inayotekeleza ujenzi.

![](<../../.gitbook/assets/image (44).png>)

Inawezekana kuonyesha **matawi ambayo siri hizo zitapatikana** (kwa chaguo-msingi yote) na pia ikiwa TravisCI **inapaswa kuficha thamani yake** ikiwa itaonekana **kwenye magogo** (kwa chaguo-msingi itafanya hivyo).

### Siri Zilizofichwa za Kibinafsi

Kwa **kila repo** TravisCI inazalisha **jozi ya funguo ya RSA**, **inahifadhi** ile **ya kibinafsi**, na inafanya **funguo ya umma ya repositori** ipatikane kwa wale wanao **ufikiaji** wa repositori hiyo.

Unaweza kupata funguo la umma la repo moja kwa:
```
travis pubkey -r <owner>/<repo_name>
travis pubkey -r carlospolop/t-ci-test
```
Kisha, unaweza kutumia hii ili **kuchipua siri na kuziweka kwenye `.travis.yaml`**. Siri hizo zitakuwa **zimefichuliwa wakati ujenzi unapoendeshwa** na zinapatikana kwenye **mazingira ya mazingira**.

![](<../../.gitbook/assets/image (2) (2) (1) (1).png>)

Tafadhali kumbuka kuwa siri zilizochipuliwa kwa njia hii hazitaonekana kwenye mazingira ya mazingira ya mipangilio.

### Faili Zilizochipuliwa Kwa Kibinafsi

Kwa njia ile ile kama awali, TravisCI pia inaruhusu **kuchipua faili na kuzifichua wakati wa ujenzi**:
```
travis encrypt-file super_secret.txt -r carlospolop/t-ci-test

encrypting super_secret.txt for carlospolop/t-ci-test
storing result as super_secret.txt.enc
storing secure env variables for decryption

Please add the following to your build script (before_install stage in your .travis.yml, for instance):

openssl aes-256-cbc -K $encrypted_355e94ba1091_key -iv $encrypted_355e94ba1091_iv -in super_secret.txt.enc -out super_secret.txt -d

Pro Tip: You can add it automatically by running with --add.

Make sure to add super_secret.txt.enc to the git repository.
Make sure not to add super_secret.txt to the git repository.
Commit all changes to your .travis.yml.
```
Note kwamba wakati wa kusimbua faili 2 Env Variables zitaundwa ndani ya repo kama vile:

![](<../../.gitbook/assets/image (23).png>)

## TravisCI Enterprise

Travis CI Enterprise ni **toleo la ndani la Travis CI**, ambalo unaweza kusakinisha **katika miundombinu yako**. Fikiria toleo la 'seva' la Travis CI. Kutumia Travis CI inakuwezesha kuwezesha mfumo rahisi wa Uingizaji wa Kiotomatiki/Utoaji wa Kiotomatiki (CI/CD) katika mazingira, ambayo unaweza kusanidi na kulinda kama unavyotaka.

**Travis CI Enterprise ina sehemu kuu mbili:**

1. Huduma za TCI (au Huduma Kuu za TCI), zinazohusika na uingizaji wa mifumo ya kudhibiti toleo, kuidhinisha ujenzi, kupanga kazi za ujenzi, n.k.
2. Mfanyakazi wa TCI na picha za mazingira ya ujenzi (zinaitwa picha za OS pia).

**Huduma za TCI Core inahitaji yafuatayo:**

1. **PostgreSQL11** (au baadaye) database.
2. Miundombinu ya kusakinisha kikundi cha Kubernetes; inaweza kusakinishwa katika kikundi cha seva au kwenye mashine moja ikihitajika.
3. Kulingana na usanidi wako, unaweza kutaka kusakinisha na kusanidi baadhi ya vipengele kwa urahisi, k.m., RabbitMQ - angalia [Kuanzisha Travis CI Enterprise](https://docs.travis-ci.com/user/enterprise/tcie-3.x-setting-up-travis-ci-enterprise/) kwa maelezo zaidi.

**TCI Worker inahitaji yafuatayo:**

1. Miundombinu ambapo picha ya docker inayohusisha **Mfanyakazi na picha iliyounganishwa ya ujenzi inaweza kusakinishwa**.
2. Uunganisho kwa baadhi ya vipengele vya Huduma Kuu za TCI Core - angalia [Kuanzisha Mfanyakazi](https://docs.travis-ci.com/user/enterprise/setting-up-worker/) kwa maelezo zaidi.

Idadi ya TCI Worker iliyosakinishwa na picha za mazingira ya ujenzi wa OS itaamua uwezo wa jumla wa kusakinisha Travis CI Enterprise katika miundombinu yako.

![](<../../.gitbook/assets/image (8) (1) (1) (1) (1) (1).png>)

<details>

<summary><strong>Jifunze kuhusu kuvamia AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kuvamia kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
