# Basiese TravisCI-inligting

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>

## Toegang

TravisCI integreer direk met verskillende git-platforms soos Github, Bitbucket, Assembla en Gitlab. Dit sal die gebruiker vra om TravisCI toestemming te gee om toegang te verkry tot die repos wat hy wil integreer met TravisCI.

Byvoorbeeld, in Github sal dit vra vir die volgende toestemmings:

* `user:email` (alleen lees)
* `read:org` (alleen lees)
* `repo`: Verleen lees- en skryftoegang tot kode, commit-statusse, samewerkers en implementeringsstatusse vir openbare en private repositoriums en organisasies.

## Versleutelde Geheime

### Omgewingsveranderlikes

In TravisCI, soos in ander CI-platforms, is dit moontlik om **geheime op repo-vlak te stoor** wat versleutel word en **ontsleutel en gedruk word in die omgewingsveranderlike** van die masjien wat die bou uitvoer.

![](<../../.gitbook/assets/image (44).png>)

Dit is moontlik om aan te dui **watter takke die geheime beskikbaar sal wees** (standaard almal) en ook of TravisCI **sy waarde moet verberg** as dit **in die logboeke verskyn** (standaard sal dit).

### Aangepaste Versleutelde Geheime

Vir **elke repo** genereer TravisCI 'n **RSA-sleutelpaar**, **bewaar** die **privaat** een, en maak die **publieke sleutel van die repositorium beskikbaar** vir diegene wat **toegang** tot die repositorium het.

Jy kan die publieke sleutel van 'n repo kry met:
```
travis pubkey -r <owner>/<repo_name>
travis pubkey -r carlospolop/t-ci-test
```
Dan kan jy hierdie opset gebruik om geheime te versleutel en dit by jou `.travis.yaml` te voeg. Die geheime sal ontsluit word wanneer die bou uitgevoer word en toeganklik wees in die omgewingsveranderlikes.

![](<../../.gitbook/assets/image (2) (2) (1) (1).png>)

Let daarop dat die geheime wat op hierdie manier versleutel is, nie gelys sal word in die omgewingsveranderlikes van die instellings nie.

### Aangepaste Versleutelde L√™ers

Op dieselfde manier as voorheen, laat TravisCI ook toe om l√™ers te versleutel en dit dan tydens die bou te ontsluit:
```
travis encrypt-file super_secret.txt -r carlospolop/t-ci-test

encrypting super_secret.txt for carlospolop/t-ci-test
storing result as super_secret.txt.enc
storing secure env variables for decryption

Please add the following to your build script (before_install stage in your .travis.yml, for instance):

openssl aes-256-cbc -K $encrypted_355e94ba1091_key -iv $encrypted_355e94ba1091_iv -in super_secret.txt.enc -out super_secret.txt -d

Pro Tip: You can add it automatically by running with --add.

Make sure to add super_secret.txt.enc to the git repository.
Make sure not to add super_secret.txt to the git repository.
Commit all changes to your .travis.yml.
```
Let daarop dat wanneer 'n l√™er ge√´nkripteer word, 2 omgewingsveranderlikes binne die repo gekonfigureer sal word, soos:

![](<../../.gitbook/assets/image (23).png>)

## TravisCI Enterprise

Travis CI Enterprise is 'n **on-prem weergawe van Travis CI**, wat jy kan implementeer **in jou infrastruktuur**. Dink aan die 'bediener'-weergawe van Travis CI. Deur Travis CI te gebruik, kan jy 'n maklik-om-te-gebruik Continuous Integration/Continuous Deployment (CI/CD) stelsel in 'n omgewing aktiveer wat jy kan konfigureer en beveilig soos jy wil.

**Travis CI Enterprise bestaan uit twee belangrike dele:**

1. TCI **dienste** (of TCI-kern-dienste), verantwoordelik vir integrasie met weergawebeheerstelsels, goedkeuring van bouwerk, skedulering van bouwerkopdragte, ens.
2. TCI **Werker** en bou-omgewingsbeeldmateriaal (ook bekend as OS-beelde).

**TCI-kern-dienste vereis die volgende:**

1. 'n **PostgreSQL11** (of later) databasis.
2. 'n infrastruktuur om 'n Kubernetes-tros te implementeer; dit kan in 'n bediener-tros of in 'n enkele masjien ge√Ømplementeer word indien nodig.
3. Afhangend van jou opset, wil jy dalk sommige van die komponente self implementeer en konfigureer, bv. RabbitMQ - sien die [Instelling van Travis CI Enterprise](https://docs.travis-ci.com/user/enterprise/tcie-3.x-setting-up-travis-ci-enterprise/) vir meer besonderhede.

**TCI Werker vereis die volgende:**

1. 'n infrastruktuur waar 'n Docker-beeld wat die **Werker en 'n gekoppelde boubeeldmateriaal bevat**, ge√Ømplementeer kan word.
2. Konnektiwiteit met sekere Travis CI-kern-dienste-komponente - sien die [Instelling van Werker](https://docs.travis-ci.com/user/enterprise/setting-up-worker/) vir meer besonderhede.

Die hoeveelheid ge√Ømplementeerde TCI Werker- en bou-omgewings-OS-beelde sal die totale gelyktydige kapasiteit van die Travis CI Enterprise-implementering in jou infrastruktuur bepaal.

![](<../../.gitbook/assets/image (8) (1) (1) (1) (1) (1).png>)

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks-uitrusting**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou haktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-opslagplekke.

</details>
