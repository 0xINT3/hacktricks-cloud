# Grundlegende TravisCI-Informationen

<details>

<summary><strong>Erlernen Sie AWS-Hacking von Null auf Held mit</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Andere M√∂glichkeiten, HackTricks zu unterst√ºtzen:

* Wenn Sie Ihr **Unternehmen in HackTricks beworben sehen m√∂chten** oder **HackTricks im PDF-Format herunterladen m√∂chten**, √ºberpr√ºfen Sie die [**ABONNEMENTPL√ÑNE**](https://github.com/sponsors/carlospolop)!
* Holen Sie sich das [**offizielle PEASS & HackTricks-Merchandise**](https://peass.creator-spring.com)
* Entdecken Sie [**The PEASS Family**](https://opensea.io/collection/the-peass-family), unsere Sammlung exklusiver [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teilen Sie Ihre Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) Github-Repositorys einreichen.

</details>

## Zugriff

TravisCI integriert sich direkt mit verschiedenen Git-Plattformen wie Github, Bitbucket, Assembla und Gitlab. Es wird den Benutzer auffordern, TravisCI Berechtigungen zum Zugriff auf die Repos zu geben, die er mit TravisCI integrieren m√∂chte.

Beispielsweise wird in Github um folgende Berechtigungen gebeten:

* `user:email` (nur lesen)
* `read:org` (nur lesen)
* `repo`: Gew√§hrt Lese- und Schreibzugriff auf Code, Commit-Status, Mitwirkende und Bereitstellungsstatus f√ºr √∂ffentliche und private Repositories und Organisationen.

## Verschl√ºsselte Secrets

### Umgebungsvariablen

In TravisCI, wie auch in anderen CI-Plattformen, ist es m√∂glich, **auf Repo-Ebene Secrets zu speichern**, die verschl√ºsselt werden und **entschl√ºsselt und in die Umgebungsvariable** der Maschine, die den Build ausf√ºhrt, **eingef√ºgt werden**.

![](<../../.gitbook/assets/image (203).png>)

Es ist m√∂glich anzugeben, f√ºr **welche Branches die Secrets verf√ºgbar sein sollen** (standardm√§√üig alle) und auch, ob TravisCI **den Wert verbergen sollte**, wenn er **in den Logs erscheint** (standardm√§√üig wird er das).

### Benutzerdefinierte verschl√ºsselte Secrets

F√ºr **jedes Repo** generiert TravisCI ein **RSA-Schl√ºsselpaar**, **beh√§lt** den **privaten** Schl√ºssel und stellt den **√∂ffentlichen Schl√ºssel des Repositories** denen zur Verf√ºgung, die **Zugriff** auf das Repository haben.

Sie k√∂nnen den √∂ffentlichen Schl√ºssel eines Repos mit:
```
travis pubkey -r <owner>/<repo_name>
travis pubkey -r carlospolop/t-ci-test
```
Dann k√∂nnen Sie dieses Setup verwenden, um Geheimnisse zu **verschl√ºsseln und sie zu Ihrer `.travis.yaml` hinzuzuf√ºgen**. Die Geheimnisse werden **entschl√ºsselt, wenn der Build ausgef√ºhrt wird** und sind in den **Umgebungsvariablen** zug√§nglich.

![](<../../.gitbook/assets/image (139).png>)

Beachten Sie, dass die auf diese Weise verschl√ºsselten Geheimnisse nicht in den Umgebungsvariablen der Einstellungen aufgef√ºhrt werden.

### Benutzerdefinierte verschl√ºsselte Dateien

Auf die gleiche Weise wie zuvor erlaubt es TravisCI auch, **Dateien zu verschl√ºsseln und sie w√§hrend des Builds zu entschl√ºsseln**:
```
travis encrypt-file super_secret.txt -r carlospolop/t-ci-test

encrypting super_secret.txt for carlospolop/t-ci-test
storing result as super_secret.txt.enc
storing secure env variables for decryption

Please add the following to your build script (before_install stage in your .travis.yml, for instance):

openssl aes-256-cbc -K $encrypted_355e94ba1091_key -iv $encrypted_355e94ba1091_iv -in super_secret.txt.enc -out super_secret.txt -d

Pro Tip: You can add it automatically by running with --add.

Make sure to add super_secret.txt.enc to the git repository.
Make sure not to add super_secret.txt to the git repository.
Commit all changes to your .travis.yml.
```
## TravisCI Enterprise

Travis CI Enterprise ist eine **On-Prem-Version von Travis CI**, die Sie **in Ihrer Infrastruktur** bereitstellen k√∂nnen. Denken Sie an die ‚ÄûServer‚Äú-Version von Travis CI. Die Verwendung von Travis CI erm√∂glicht es Ihnen, ein benutzerfreundliches Continuous Integration/Continuous Deployment (CI/CD)-System in einer Umgebung zu aktivieren, die Sie konfigurieren und sichern k√∂nnen, wie Sie m√∂chten.

**Travis CI Enterprise besteht aus zwei Hauptteilen:**

1. TCI **Dienste** (oder TCI-Kernservices), die f√ºr die Integration mit Versionskontrollsystemen, die Autorisierung von Builds, die Planung von Build-Jobs usw. verantwortlich sind.
2. TCI **Worker** und Build-Umgebungsbilder (auch OS-Bilder genannt).

**TCI-Kernservices erfordern Folgendes:**

1. Eine **PostgreSQL11** (oder neuere) Datenbank.
2. Eine Infrastruktur zur Bereitstellung eines Kubernetes-Clusters; es kann in einem Servercluster bereitgestellt werden oder in einer einzelnen Maschine, wenn erforderlich.
3. Je nach Ihrer Konfiguration m√∂chten Sie m√∂glicherweise einige der Komponenten selbst bereitstellen und konfigurieren, z. B. RabbitMQ - siehe [Einrichten von Travis CI Enterprise](https://docs.travis-ci.com/user/enterprise/tcie-3.x-setting-up-travis-ci-enterprise/) f√ºr weitere Details.

**TCI Worker erfordert Folgendes:**

1. Eine Infrastruktur, auf der ein Docker-Image bereitgestellt werden kann, das den **Worker und ein verkn√ºpftes Build-Image enth√§lt**.
2. Konnektivit√§t zu bestimmten Komponenten der Travis CI-Kernservices - siehe [Einrichten des Workers](https://docs.travis-ci.com/user/enterprise/setting-up-worker/) f√ºr weitere Details.

Die Anzahl der bereitgestellten TCI Worker und Build-Umgebung-OS-Bilder bestimmt die Gesamtkapazit√§t von Travis CI Enterprise in Ihrer Infrastruktur.
