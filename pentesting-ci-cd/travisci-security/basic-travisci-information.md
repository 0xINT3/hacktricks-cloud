# Basiese TravisCI-inligting

<details>

<summary><strong>Leer AWS-hacking vanaf nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat** Kontroleer die [**INSKRYWINGSPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**Die PEASS-familie**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFT's**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel jou haktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>

## Toegang

TravisCI integreer direk met verskillende git-platforms soos Github, Bitbucket, Assembla, en Gitlab. Dit sal die gebruiker vra om TravisCI toestemmings te gee om toegang te verkry tot die repositorsies waarmee hy wil integreer met TravisCI.

Byvoorbeeld, in Github sal dit vra vir die volgende toestemmings:

* `user:email` (alleen leesbaar)
* `read:org` (alleen leesbaar)
* `repo`: Verleen lees- en skryftoegang tot kode, commit-statusse, medewerkers, en implementeringsstatusse vir openbare en private repositorsies en organisasies.

## Versleutelde Geheime

### Omgewingsveranderlikes

In TravisCI, soos in ander CI-platforms, is dit moontlik om **op reposito-vlak geheime te stoor** wat versleutel sal word en **ontsleutel en gedruk word in die omgewingsveranderlike** van die masjien wat die bou uitvoer.

![](<../../.gitbook/assets/image (203).png>)

Dit is moontlik om aan te dui na **watter takke die geheime beskikbaar gaan wees** (standaard almal) en ook of TravisCI **sy waarde moet verberg** as dit verskyn **in die logboeke** (standaard sal dit).

### Aangepaste Versleutelde Geheime

Vir **elke reposito** genereer TravisCI 'n **RSA-sleutelpaar**, **hou** die **privaat** een, en maak die reposito se **publieke sleutel beskikbaar** vir diegene wat toegang het tot die reposito.

Jy kan die publieke sleutel van 'n reposito kry met:
```
travis pubkey -r <owner>/<repo_name>
travis pubkey -r carlospolop/t-ci-test
```
Dan kan jy hierdie opstelling gebruik om **geheime te enkripteer en by jou `.travis.yaml` toe te voeg**. Die geheime sal **gedekripteer word wanneer die bouproses uitgevoer word** en toeganklik wees in die **omgewingsveranderlikes**.

![](<../../.gitbook/assets/image (139).png>)

Merk op dat die geheime wat op hierdie manier enkripteer is, nie in die omgewingsveranderlikes van die instellings gelys sal word nie.

### Aangepaste Enkripteerde L√™ers

Op dieselfde manier as voorheen, laat TravisCI ook toe om **l√™ers te enkripteer en hulle tydens die bouproses te dekripteer**:
```
travis encrypt-file super_secret.txt -r carlospolop/t-ci-test

encrypting super_secret.txt for carlospolop/t-ci-test
storing result as super_secret.txt.enc
storing secure env variables for decryption

Please add the following to your build script (before_install stage in your .travis.yml, for instance):

openssl aes-256-cbc -K $encrypted_355e94ba1091_key -iv $encrypted_355e94ba1091_iv -in super_secret.txt.enc -out super_secret.txt -d

Pro Tip: You can add it automatically by running with --add.

Make sure to add super_secret.txt.enc to the git repository.
Make sure not to add super_secret.txt to the git repository.
Commit all changes to your .travis.yml.
```
Let wel dat wanneer 'n l√™er versleutel word, 2 Env-veranderlikes binne die repo ingestel sal word soos:

![](<../../.gitbook/assets/image (170).png>)

## TravisCI Enterprise

Travis CI Enterprise is 'n **on-prem weergawe van Travis CI**, wat jy kan implementeer **binne jou infrastruktuur**. Dink aan die 'bediener' weergawe van Travis CI. Die gebruik van Travis CI stel jou in staat om 'n maklik om te gebruik Continuous Integration/Continuous Deployment (CI/CD) stelsel in 'n omgewing te aktiveer, wat jy kan konfigureer en beveilig soos jy wil.

**Travis CI Enterprise bestaan uit twee hoofdele:**

1. TCI **diens** (of TCI Kern Dienste), verantwoordelik vir integrasie met weergawebeheerstelsels, bou-autorisasie, skedulering van bou take, ens.
2. TCI **Werker** en bou-omgewingsbeeld (ook genoem OS-beelde).

**TCI Kern dienste vereis die volgende:**

1. 'n **PostgreSQL11** (of later) databasis.
2. 'n infrastruktuur om 'n Kubernetes-kluster te implementeer; dit kan in 'n bedienerskluster ge√Ømplementeer word of in 'n enkele masjien indien nodig.
3. Afhangende van jou opstelling, mag jy wil h√™ dat sommige van die komponente op jou eie ge√Ømplementeer en gekonfigureer word, bv., RabbitMQ - sien die [Instelling van Travis CI Enterprise](https://docs.travis-ci.com/user/enterprise/tcie-3.x-setting-up-travis-ci-enterprise/) vir meer besonderhede.

**TCI Werker vereis die volgende:**

1. 'n infrastruktuur waar 'n docker-beeld wat die **Werker en 'n gekoppelde boubeeld bevat, ge√Ømplementeer kan word**.
2. Koppelvlak met sekere Travis CI Kern Dienste komponente - sien die [Instelling van Werker](https://docs.travis-ci.com/user/enterprise/setting-up-worker/) vir meer besonderhede.

Die hoeveelheid ge√Ømplementeerde TCI Werker en bou-omgewings-OS-beelde sal die totale gelyktydige kapasiteit van die Travis CI Enterprise-implementering in jou infrastruktuur bepaal.

![](<../../.gitbook/assets/image (199).png>)

<details>

<summary><strong>Leer AWS hak van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks in PDF aflaai** Kyk na die [**INSKRYWINGSPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**Die PEASS Familie**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord groep**](https://discord.gg/hRep4RUj7f) of die [**telegram groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel jou haktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
