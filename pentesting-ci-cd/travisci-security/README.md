# TravisCI-sekuriteit

<details>

<summary><strong>Leer AWS-hacking vanaf nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat** Kyk na die [**INSKRYWINGSPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**Die PEASS-familie**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFT's**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel jou hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>

## Wat is TravisCI

**Travis CI** is 'n **gehoste** of op **perseel** **deurlopende-integrasie**-diens wat gebruik word om sagtewareprojekte te bou en te toets wat op verskeie **verskillende git-platforms** gehuisves word.

{% content-ref url="basic-travisci-information.md" %}
[basic-travisci-information.md](basic-travisci-information.md)
{% endcontent-ref %}

## Aanvalle

### Aanvure

Om 'n aanval te lanceer, moet jy eers weet hoe om 'n bou te begin. Standaard sal TravisCI 'n bou **aanvuur met drukkies en trekversoeke**:

![](<../../.gitbook/assets/image (19) (1).png>)

#### Cron-werk

As jy toegang het tot die webtoepassing, kan jy **cronjobs instel om die bou te hardloop**, dit kan nuttig wees vir volharding of om 'n bou aan te vuur:

![](<../../.gitbook/assets/image (42).png>)

{% hint style="info" %}
Dit lyk asof dit nie moontlik is om cronjobs binne die `.travis.yml` in te stel nie volgens [hierdie](https://github.com/travis-ci/travis-ci/issues/9162).
{% endhint %}

### Derdeparty-trekversoeke

TravisCI skakel standaard die deel van omgewingsveranderlikes met trekversoeke van derdepartye af, maar iemand mag dit aktiveer en dan kan jy trekversoeke na die bewaarplek skep en die geheime uitlek:

![](<../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png>)

### Uitlek van Geheime

Soos verduidelik op die [**basiese inligting**](basic-travisci-information.md) bladsy, is daar 2 soorte geheime. **Omgewingsveranderlikes-geheime** (wat gelys word op die webblad) en **aangepaste versleutelde geheime**, wat binne die `.travis.yml`-l√™er as base64 gestoor word (let daarop dat beide as versleutelde geheime gestoor sal word en as omgewingsveranderlikes op die finale masjiene sal eindig).

* Om **geheime op te som** wat ingestel is as **Omgewingsveranderlikes**, gaan na die **instellings** van die **projek** en kyk na die lys. Let egter daarop dat alle projek-omgewingsveranderlikes wat hier ingestel is, sal verskyn wanneer 'n bou aangevuur word.
* Om die **aangepaste versleutelde geheime** op te som, is die beste wat jy kan doen om die `.travis.yml`-l√™er te **ondersoek**.
* Om **versleutelde l√™ers op te som** kan jy soek na **`.enc`-l√™ers** in die bewaarplek, vir lyne soortgelyk aan `openssl aes-256-cbc -K $encrypted_355e94ba1091_key -iv $encrypted_355e94ba1091_iv -in super_secret.txt.enc -out super_secret.txt -d` in die konfigurasie-l√™er, of vir **versleutelde iv en sleutels** in die **Omgewingsveranderlikes** soos:

![](<../../.gitbook/assets/image (71).png>)

### TODO:

* Voorbeeldbou met omgekeerde dop wat op Windows/Mac/Linux hardloop
* Voorbeeldbou wat die omgewingsbasis64 in die log-lek

### TravisCI-onderneming

As 'n aanvaller in 'n omgewing beland wat **TravisCI-onderneming** gebruik (meer inligting oor wat dit is in die [**basiese inligting**](basic-travisci-information.md#travisci-enterprise)), sal hy in staat wees om **boue in die Werker aan te vuur**. Dit beteken dat 'n aanvaller lateraal na daardie bediener kan beweeg waarvandaan hy in staat sou wees om:

* ontsnap na die gasheer?
* kubernetes kompromitteer?
* ander masjiene wat in dieselfde netwerk hardloop, kompromitteer?
* nuwe wolklegitimasie kompromitteer?

## Verwysings

* [https://docs.travis-ci.com/user/encrypting-files/](https://docs.travis-ci.com/user/encrypting-files/)
* [https://docs.travis-ci.com/user/best-practices-security](https://docs.travis-ci.com/user/best-practices-security)

<details>

<summary><strong>Leer AWS-hacking vanaf nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat** Kyk na die [**INSKRYWINGSPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**Die PEASS-familie**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFT's**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel jou hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>
