# TravisCI Sekuriteit

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy geadverteer wil sien in HackTricks** of **HackTricks in PDF wil aflaai**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-opslagplekke.

</details>

## Wat is TravisCI

**Travis CI** is 'n **gehoste** of **plaaslike** **deurlopende-integrasie**-diens wat gebruik word om sagtewareprojekte te bou en te toets wat op verskeie **verskillende git-platforms** gehuisves is.

{% content-ref url="basic-travisci-information.md" %}
[basic-travisci-information.md](basic-travisci-information.md)
{% endcontent-ref %}

## Aanvalle

### Aanlokking

Om 'n aanval te begin, moet jy eers weet hoe om 'n bou te laat plaasvind. Standaard sal TravisCI 'n bou **aanlok met drukke en pull-aanvrae**:

![](<../../.gitbook/assets/image (19) (1).png>)

#### Cron-werkies

As jy toegang het tot die webtoepassing, kan jy **cron-werkies instel om die bou te laat plaasvind**. Dit kan nuttig wees vir volharding of om 'n bou te laat plaasvind:

![](<../../.gitbook/assets/image (42).png>)

{% hint style="info" %}
Dit lyk nie asof dit moontlik is om cron-werkies binne die `.travis.yml` in te stel nie, volgens [hierdie](https://github.com/travis-ci/travis-ci/issues/9162).
{% endhint %}

### Derde Party PR

TravisCI deaktiveer standaard die deel van omgewingsveranderlikes met PR's wat afkomstig is van derde partye, maar iemand kan dit moontlik maak en dan kan jy PR's na die bewaarplek skep en die geheime uitlek:

![](<../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png>)

### Uitlek van Geheime

Soos verduidelik in die [**basiese inligting**](basic-travisci-information.md) bladsy, is daar 2 tipes geheime. **Omgewingsveranderlike geheime** (wat gelys word op die webblad) en **aangepaste ge√´nkripteerde geheime**, wat binne die `.travis.yml`-l√™er as base64 gestoor word (let daarop dat beide ge√´nkripteerd gestoor sal word as omgewingsveranderlikes op die finale masjiene).

* Om geheime wat as **omgewingsveranderlikes** ingestel is, op te som, gaan na die **instellings** van die **projek** en kyk na die lys. Let egter daarop dat alle projek-omgewingsveranderlikes wat hier ingestel is, sal verskyn wanneer 'n bou aangelok word.
* Om die **aangepaste ge√´nkripteerde geheime** op te som, is die beste wat jy kan doen, om die `.travis.yml`-l√™er te **ondersoek**.
* Om **ge√´nkripteerde l√™ers** op te som, kan jy kyk vir **`.enc`-l√™ers** in die bewaarplek, vir lyne soortgelyk aan `openssl aes-256-cbc -K $encrypted_355e94ba1091_key -iv $encrypted_355e94ba1091_iv -in super_secret.txt.enc -out super_secret.txt -d` in die konfigurasie-l√™er, of vir **ge√´nkripteerde iv en sleutels** in die **omgewingsveranderlikes**, soos:

![](<../../.gitbook/assets/image (71).png>)

### TODO:

* Voorbeeldbou met omgekeerde dop wat op Windows/Mac/Linux loop
* Voorbeeldbou wat die omgewing basis-64 gekodeer in die logboeke uitlek

### TravisCI Enterprise

As 'n aanvaller in 'n omgewing beland wat **TravisCI Enterprise** gebruik (meer inligting oor wat dit is in die [**basiese inligting**](basic-travisci-information.md#travisci-enterprise)), sal hy in staat wees om boue in die werker te **aanlok**. Dit beteken dat 'n aanvaller lateraal na daardie bediener kan beweeg waarvandaan hy in staat sou wees om:

* te ontsnap na die gasheer?
* kubernetes kompromitteer?
* ander masjiene wat in dieselfde netwerk loop, kompromitteer?
* nuwe wolklegitimasie kompromitteer?

## Verwysings

* [https://docs.travis-ci.com/user/encrypting-files/](https://docs.travis-ci.com/user/encrypting-files/)
* [https://docs.travis-ci.com/user/best-practices-security](https://docs.travis-ci.com/user/best-practices-security)

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy geadverteer wil sien in HackTricks** of **HackTricks in PDF wil aflaai**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-opslagplekke.

</details>
