# TravisCI Güvenliği

<details>

<summary><strong>AWS hackleme konusunda sıfırdan kahraman olmaya kadar öğrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklamını görmek istiyorsanız** veya **HackTricks'i PDF olarak indirmek istiyorsanız** [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **Katılın** 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya bizi **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking püf noktalarınızı göndererek HackTricks** ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına PR gönderin.

</details>

## TravisCI Nedir

**Travis CI**, çeşitli **farklı git platformlarında barındırılan** ve yazılım projelerini derlemek ve test etmek için kullanılan **barındırılan** veya **yerinde** bir **sürekli entegrasyon** hizmetidir.

{% content-ref url="basic-travisci-information.md" %}
[basic-travisci-information.md](basic-travisci-information.md)
{% endcontent-ref %}

## Saldırılar

### Tetikleyiciler

Bir saldırı başlatmak için önce bir derleme nasıl tetikleyeceğinizi bilmelisiniz. Varsayılan olarak TravisCI, derlemeleri **itmelere ve çekme isteklerine göre tetikler**:

![](<../../.gitbook/assets/image (19) (1).png>)

#### Cron İşleri

Web uygulamasına erişiminiz varsa, derlemeyi çalıştırmak için **cronlar ayarlayabilirsiniz**, bu kalıcılık için veya bir derlemeyi tetiklemek için yararlı olabilir:

![](<../../.gitbook/assets/image (42).png>)

{% hint style="info" %}
[Şu](https://github.com/travis-ci/travis-ci/issues/9162) adresine göre `.travis.yml` içinde cronlar ayarlamak mümkün görünmüyor.
{% endhint %}

### Üçüncü Taraf Çekme İsteği

TravisCI, varsayılan olarak üçüncü taraflardan gelen çekme istekleriyle env değişkenlerini paylaşmayı devre dışı bırakır, ancak biri bunu etkinleştirebilir ve sonra repo'ya çekme istekleri oluşturarak sırları dışa aktarabilirsiniz:

![](<../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png>)

### Sırların Sızdırılması

[**Temel bilgiler**](basic-travisci-information.md) sayfasında açıklandığı gibi, 2 tür sır vardır. **Çevre Değişkeni sırları** (web sayfasında listelenenler) ve **özel şifreli sırlar**, `.travis.yml` dosyasının içinde base64 olarak saklanır (her ikisi de şifreli olarak saklandığında son makinelerde env değişkenleri olarak sona erer).

* **Çevre Değişkeni olarak yapılandırılmış sırları** **numaralandırmak** için **projenin ayarlarına** gidin ve listeyi kontrol edin. Ancak, burada ayarlanan tüm proje çevre değişkenleri, bir derleme tetiklendiğinde görünecektir.
* **Özel şifreli sırları** numaralandırmak için en iyi şey **`.travis.yml` dosyasını kontrol etmektir**.
* **Şifreli dosyaları numaralandırmak** için repo'da **`.enc` dosyalarını**, yapılandırma dosyasında `openssl aes-256-cbc -K $encrypted_355e94ba1091_key -iv $encrypted_355e94ba1091_iv -in super_secret.txt.enc -out super_secret.txt -d` gibi satırları veya **Çevre Değişkenlerindeki** **şifreli iv ve anahtarları** kontrol edebilirsiniz:

![](<../../.gitbook/assets/image (71).png>)

### YAPILACAKLAR:

* Windows/Mac/Linux üzerinde çalışan ters kabuklu örnek derleme
* Günlüklerde base64 kodlanmış env sızdıran örnek derleme

### TravisCI Enterprise

Bir saldırgan, **TravisCI enterprise** kullanan bir ortama girerse (bu hakkında daha fazla bilgiyi [**temel bilgiler**](basic-travisci-information.md#travisci-enterprise) bölümünde bulabilirsiniz), **Worker'da derlemeleri tetikleyebilecektir.** Bu, bir saldırganın o sunucuya yatay olarak hareket edebileceği anlamına gelir ve ardından:

* ana bilgisayara kaçış?
* kubernetes'i tehlikeye atmak?
* aynı ağda çalışan diğer makineleri tehlikeye atmak?
* yeni bulut kimlik bilgilerini tehlikeye atmak?

## Referanslar

* [https://docs.travis-ci.com/user/encrypting-files/](https://docs.travis-ci.com/user/encrypting-files/)
* [https://docs.travis-ci.com/user/best-practices-security](https://docs.travis-ci.com/user/best-practices-security)

<details>

<summary><strong>AWS hackleme konusunda sıfırdan kahraman olmaya kadar öğrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklamını görmek istiyorsanız** veya **HackTricks'i PDF olarak indirmek istiyorsanız** [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **Katılın** 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya bizi **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking püf noktalarınızı göndererek HackTricks** ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına PR gönderin.

</details>
