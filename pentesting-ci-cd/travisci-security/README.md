# TravisCI Güvenliği

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sıfırdan kahraman olmak için AWS hackleme öğrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamınızı görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* Özel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluşan [**The PEASS Family**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu keşfedin
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın veya **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)'ı takip edin.
* Hacking hilelerinizi [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR göndererek paylaşın.

</details>

## TravisCI Nedir

**Travis CI**, **barındırılan** veya **yerinde** kullanılan, çeşitli **farklı git platformlarında** barındırılan yazılım projelerini derlemek ve test etmek için kullanılan bir **sürekli entegrasyon** hizmetidir.

{% content-ref url="basic-travisci-information.md" %}
[basic-travisci-information.md](basic-travisci-information.md)
{% endcontent-ref %}

## Saldırılar

### Tetikleyiciler

Bir saldırı başlatmak için öncelikle bir derleme nasıl tetikleneceğini bilmelisiniz. Varsayılan olarak TravisCI, derlemeleri itmelere ve çekme isteklerine göre **tetikler**:

![](<../../.gitbook/assets/image (19) (1).png>)

#### Cron İşleri

Web uygulamasına erişiminiz varsa, derlemeyi çalıştırmak için **cronlar ayarlayabilirsiniz**, bu kalıcılık için veya bir derleme tetiklemek için kullanışlı olabilir:

![](<../../.gitbook/assets/image (42).png>)

{% hint style="info" %}
[Şu](https://github.com/travis-ci/travis-ci/issues/9162) adresine göre `.travis.yml` içinde cron ayarlamak mümkün görünmüyor.
{% endhint %}

### Üçüncü Taraf PR'ları

TravisCI, varsayılan olarak üçüncü taraflardan gelen PR'larla ortam değişkenlerini paylaşmayı devre dışı bırakır, ancak biri bunu etkinleştirebilir ve sonra repo'ya PR'lar oluşturarak sırları dışarı çıkarabilirsiniz:

![](<../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png>)

### Sırları Sızdırma

[**Temel bilgiler**](basic-travisci-information.md) sayfasında açıklandığı gibi, 2 tür sır vardır. **Ortam Değişkeni sırları** (web sayfasında listelenenler) ve `.travis.yml` dosyasında base64 olarak depolanan **özel şifrelenmiş sırlar** (her ikisi de şifrelenmiş olarak depolandığında son makinelerde ortam değişkenleri olarak sonuçlanır).

* **Ortam Değişkeni olarak yapılandırılmış sırları** listelemek için projenin **ayarlarına** gidin ve listeyi kontrol edin. Bununla birlikte, burada ayarlanan tüm proje ortam değişkenleri, bir derleme tetiklendiğinde görünecektir.
* **Özel şifrelenmiş sırları** listelemek için en iyi seçenek, `.travis.yml` dosyasını kontrol etmektir.
* **Şifrelenmiş dosyaları** listelemek için repo'da **`.enc` dosyalarını** veya yapılandırma dosyasında `openssl aes-256-cbc -K $encrypted_355e94ba1091_key -iv $encrypted_355e94ba1091_iv -in super_secret.txt.enc -out super_secret.txt -d` gibi satırları veya **Ortam Değişkenleri**'nde şifrelenmiş iv ve anahtarları kontrol edebilirsiniz:

![](<../../.gitbook/assets/image (71).png>)

### YAPILACAKLAR:

* Windows/Mac/Linux üzerinde çalışan ters kabuk çalıştıran örnek derleme
* Günlüklerde env base64 kodlanmış şekilde sızan örnek derleme

### TravisCI Enterprise

Bir saldırgan, **TravisCI enterprise** kullanan bir ortama ulaşırsa (bu hakkında daha fazla bilgi için [**temel bilgiler**](basic-travisci-information.md#travisci-enterprise)), o zaman **Worker'da derlemeleri tetikleyebilecektir**. Bu, bir saldırganın o sunucuya lateral hareket edebileceği anlamına gelir ve bu durumda aşağıdakileri yapabilir:

* Ana bilgisayara kaçmak?
* Kubernetes'i tehlikeye atmak?
* Aynı ağda çalışan diğer makineleri tehlikeye atmak?
* Yeni bulut kimlik bilgilerini tehlikeye atmak?

## Referanslar

* [https://docs.travis-ci.com/user/encrypting-files/](https://docs.travis-ci.com/user/encrypting-files/)
* [https://docs.travis-ci.com/user/best-practices-security](https://docs.travis-ci.com/user/best-practices-security)

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sıfırdan kahraman olmak için AWS hackleme öğrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamınızı görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* Özel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluşan [**The PEASS Family**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu keşfedin
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın veya **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)'ı takip edin.
* Hacking hilelerinizi [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR göndererek paylaşın.

</details>
