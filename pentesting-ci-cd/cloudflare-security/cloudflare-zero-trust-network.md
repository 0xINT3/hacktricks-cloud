# Red de Confianza Cero de Cloudflare

<details>

<summary><strong>Aprende hacking en AWS de cero a h√©roe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si quieres ver a tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF** revisa los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!
* Consigue el [**merchandising oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **√önete al** üí¨ [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s√≠gueme** en **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de github de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

En una cuenta de **Red de Confianza Cero de Cloudflare** hay algunos **ajustes y servicios** que se pueden configurar. En esta p√°gina vamos a **analizar los ajustes relacionados con la seguridad de cada secci√≥n:**

<figure><img src="../../.gitbook/assets/image (84).png" alt=""><figcaption></figcaption></figure>

## An√°lisis

* [ ] √ötil para **conocer el entorno**

## **Gateway**

* [ ] En **`Pol√≠ticas`** es posible generar pol√≠ticas para **restringir** por **DNS**, **red** o solicitud **HTTP** qui√©n puede acceder a las aplicaciones.
* Si se utiliza, se podr√≠an crear **pol√≠ticas** para **restringir** el acceso a sitios maliciosos.
* Esto es **solo relevante si se est√° utilizando un gateway**, si no, no hay raz√≥n para crear pol√≠ticas defensivas.

## Acceso

### Aplicaciones

En cada aplicaci√≥n:

* [ ] Verificar **qui√©n** puede acceder a la aplicaci√≥n en las **Pol√≠ticas** y asegurarse de que **solo** los **usuarios** que **necesitan acceso** a la aplicaci√≥n puedan acceder.
* Para permitir el acceso se van a utilizar **`Grupos de Acceso`** (y tambi√©n se pueden establecer **reglas adicionales**)
* [ ] Revisar los **proveedores de identidad disponibles** y asegurarse de que **no sean demasiado abiertos**
* [ ] En **`Configuraci√≥n`**:
* [ ] Verificar que **CORS no est√© habilitado** (si est√° habilitado, comprobar que sea **seguro** y no permita todo)
* [ ] Las cookies deben tener el atributo **Strict Same-Site**, **HTTP Only** y el **enlace de cookie** debe estar **habilitado** si la aplicaci√≥n es HTTP.
* [ ] Considerar tambi√©n habilitar **Renderizado del navegador** para una mejor **protecci√≥n. M√°s informaci√≥n sobre** [**aislamiento del navegador remoto aqu√≠**](https://blog.cloudflare.com/cloudflare-and-remote-browser-isolation/)**.**

### **Grupos de Acceso**

* [ ] Verificar que los grupos de acceso generados est√©n **correctamente restringidos** a los usuarios que deber√≠an permitir.
* [ ] Es especialmente importante comprobar que el **grupo de acceso predeterminado no sea muy abierto** (que **no permita demasiadas personas**) ya que por **defecto** cualquiera en ese **grupo** podr√° **acceder a las aplicaciones**.
* Tenga en cuenta que es posible dar **acceso** a **TODOS** y otras **pol√≠ticas muy abiertas** que no se recomiendan a menos que sean 100% necesarias.

### Autenticaci√≥n de Servicio

* [ ] Verificar que todos los tokens de servicio **expiren en 1 a√±o o menos**

### T√∫neles

TODO

## Mi Equipo

TODO

## Registros

* [ ] Podr√≠a buscar **acciones inesperadas** de los usuarios

## Configuraci√≥n

* [ ] Verificar el **tipo de plan**
* [ ] Es posible ver el **nombre del titular de la tarjeta de cr√©dito**, los **√∫ltimos 4 d√≠gitos**, la fecha de **vencimiento** y la **direcci√≥n**
* [ ] Se recomienda **agregar una Expiraci√≥n de Asiento de Usuario** para eliminar usuarios que realmente no usan este servicio

<details>

<summary><strong>Aprende hacking en AWS de cero a h√©roe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si quieres ver a tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF** revisa los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!
* Consigue el [**merchandising oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **√önete al** üí¨ [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s√≠gueme** en **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de github de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
