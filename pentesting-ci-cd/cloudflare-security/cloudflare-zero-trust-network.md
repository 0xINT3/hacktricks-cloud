# Red de Confianza Cero de Cloudflare

<details>

<summary><strong>¬°Apoya a HackTricks y obt√©n beneficios!</strong></summary>

* Si quieres ver a tu **empresa anunciada en HackTricks** o si quieres acceder a la **√∫ltima versi√≥n de PEASS o descargar HackTricks en PDF** ¬°Consulta los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!
* Obt√©n el [**oficial PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n de exclusivos [**NFTs**](https://opensea.io/collection/the-peass-family)
* **√önete al** üí¨ [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s√≠gueme** en **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm).
* **Comparte tus trucos de hacking enviando PR a los repositorios de GitHub de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

En una cuenta de **Red de Confianza Cero de Cloudflare** hay algunos **ajustes y servicios** que se pueden configurar. En esta p√°gina vamos a **analizar los ajustes relacionados con la seguridad de cada secci√≥n:**

<figure><img src="../../.gitbook/assets/image (84).png" alt=""><figcaption></figcaption></figure>

## An√°lisis

* [ ] √ötil para **conocer el entorno**

## **Gateway**

* [ ] En **`Pol√≠ticas`** es posible generar pol√≠ticas para **restringir** por **DNS**, **red** o **solicitud HTTP** qui√©n puede acceder a las aplicaciones.
  * Si se usan, se podr√≠an crear **pol√≠ticas** para **restringir** el acceso a sitios maliciosos.
  * Esto es **s√≥lo relevante si se est√° usando un gateway**, si no, no hay raz√≥n para crear pol√≠ticas defensivas.

## Acceso

### Aplicaciones

En cada aplicaci√≥n:

* [ ] Comprueba **qui√©n** puede acceder a la aplicaci√≥n en las **Pol√≠ticas** y comprueba que **s√≥lo** los **usuarios** que **necesitan acceso** a la aplicaci√≥n pueden acceder.
  * Para permitir el acceso se van a utilizar **`Grupos de Acceso`** (y tambi√©n se pueden establecer **reglas adicionales**)
* [ ] Comprueba los **proveedores de identidad disponibles** y aseg√∫rate de que no son demasiado abiertos.
* [ ] En **`Ajustes`**:
  * [ ] Comprueba que **CORS no est√° habilitado** (si est√° habilitado, comprueba que es **seguro** y que no lo permite todo)
  * [ ] Las cookies deben tener el atributo **Strict Same-Site**, **HTTP Only** y la **cookie de enlace** debe estar **habilitada** si la aplicaci√≥n es HTTP.
  * [ ] Considera habilitar tambi√©n el **renderizado del navegador** para una mejor **protecci√≥n**. M√°s informaci√≥n sobre [**el aislamiento remoto del navegador aqu√≠**](https://blog.cloudflare.com/cloudflare-and-remote-browser-isolation/)**.**

### **Grupos de Acceso**

* [ ] Comprueba que los grupos de acceso generados est√°n **correctamente restringidos** a los usuarios que deben permitir.
* [ ] Es especialmente importante comprobar que el **grupo de acceso predeterminado no es muy abierto** (no est√° permitiendo a demasiadas personas) ya que por **defecto** cualquier persona en ese **grupo** va a poder **acceder a las aplicaciones**.
  * Ten en cuenta que es posible dar **acceso** a **TODOS** y a otras **pol√≠ticas muy abiertas** que no se recomiendan a menos que sea 100% necesario.

### Service Auth

* [ ] Comprueba que todos los tokens de servicio **caducan en 1 a√±o o menos**

### T√∫neles

TODO

## Mi Equipo

TODO

## Registros

* [ ] Se pueden buscar **acciones inesperadas** de los usuarios

## Ajustes

* [ ] Comprueba el **tipo de plan**
* [ ] Es posible ver el **nombre del propietario de la tarjeta de cr√©dito**, los **√∫ltimos 4 d√≠gitos**, la fecha de **vencimiento** y la **direcci√≥n**
* [ ] Se recomienda **a√±adir una fecha de caducidad del asiento de usuario** para eliminar a los usuarios que no utilizan realmente este servicio. 

<details>

<summary><strong>¬°Apoya a HackTricks y obt√©n beneficios!</strong></summary>

* Si quieres ver a tu **empresa anunciada en HackTricks** o si quieres acceder a la **√∫ltima versi√≥n de PEASS o descargar HackTricks en PDF** ¬°Consulta los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!
* Obt√©n el [**oficial PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n de exclusivos [**NFTs**](https://opensea.io/collection/the-peass-family)
* **√önete al** üí¨ [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s√≠gueme** en **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm).
* **Comparte tus trucos de hacking enviando PR a los repositorios de GitHub de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>