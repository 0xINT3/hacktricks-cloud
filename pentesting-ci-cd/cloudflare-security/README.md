# Cloudflare Güvenliği

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sıfırdan kahraman olmak için AWS hackleme öğrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamınızı görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARI**](https://github.com/sponsors/carlospolop)'na göz atın!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) koleksiyonumuzdaki özel [**NFT'leri**](https://opensea.io/collection/the-peass-family) keşfedin
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)'ı takip edin.
* Hacking hilelerinizi göndererek HackTricks ve HackTricks Cloud github depolarına PR göndererek **hacking hilelerinizi paylaşın**.

</details>

Bir Cloudflare hesabında yapılandırılabilecek bazı **genel ayarlar ve hizmetler** bulunmaktadır. Bu sayfada her bölümün **güvenlikle ilgili ayarlarını** inceleyeceğiz:

<figure><img src="../../.gitbook/assets/image (85) (1).png" alt=""><figcaption></figcaption></figure>

## Web Siteleri

Her biriyle ilgili olarak:

{% content-ref url="cloudflare-domains.md" %}
[cloudflare-domains.md](cloudflare-domains.md)
{% endcontent-ref %}

### Alan Kaydı

* [ ] **`Alanları Transfer Et`** bölümünde herhangi bir alanın transfer edilemeyeceğini kontrol edin.

Her biriyle ilgili olarak:

{% content-ref url="cloudflare-domains.md" %}
[cloudflare-domains.md](cloudflare-domains.md)
{% endcontent-ref %}

## Analitik

_İncelemek için herhangi bir yapılandırma güvenlik incelemesi bulamadım._

## Sayfalar

Her Cloudflare sayfasında:

* [ ] **`Build log`** içinde **hassas bilgileri** kontrol edin.
* [ ] Sayfalara atanan **Github deposunda** **hassas bilgileri** kontrol edin.
* [ ] **Workflow komut enjeksiyonu** veya `pull_request_target` kompromisine karşı potansiyel github repo kompromisini kontrol edin. Daha fazla bilgi için [**Github Güvenlik sayfasına**](../github-security/) bakın.
* [ ] `/fuctions` dizinindeki **zafiyetli fonksiyonları**, `_redirects` dosyasındaki **yönlendirmeleri** (varsa) ve `_headers` dosyasındaki **hatalı yapılandırılmış başlıkları** kontrol edin.
* [ ] **Web sayfasındaki zafiyetleri** **siyah kutu** veya **beyaz kutu** olarak kontrol edin, eğer **koda erişebiliyorsanız**
* [ ] Her sayfanın ayrıntılarında `/<page_id>/pages/view/blocklist/settings/functions`. bölümünde **`Çevre değişkenlerinde`** **hassas bilgileri** kontrol edin.
* [ ] Ayrıntılar sayfasında ayrıca **derleme komutunu** ve **kök dizinini** kontrol edin, sayfayı tehlikeye atmak için **potansiyel enjeksiyonları** kontrol edin.

## **Çalışanlar**

Her bir Cloudflare çalışanında kontrol edin:

* [ ] Tetikleyiciler: Çalışanı tetikleyen şey nedir? Bir kullanıcı, çalışan tarafından **kullanılacak veri** gönderebilir mi?
* [ ] **`Ayarlar`** bölümünde, **hassas bilgiler** içeren **`Değişkenler`** kontrol edin.
* [ ] Çalışanın **kodunu** kontrol edin ve **zafiyetleri** arayın (özellikle kullanıcının girişimi yönetebileceği yerlerde)
* Kontrol edilebilen belirtilen sayfayı döndüren SSRF'leri kontrol edin
* JS'yi bir svg görüntüsü içinde çalıştıran XSS'leri kontrol edin

{% hint style="warning" %}
Varsayılan olarak bir **Çalışana** `<worker-adı>.<hesap>.workers.dev` gibi bir URL verilir. Kullanıcı bunu bir **alt alan adına** ayarlayabilir, ancak bilirseniz her zaman o **orijinal URL** ile erişebilirsiniz.
{% endhint %}

## R2

TODO

## Stream

TODO

## Görseller

TODO

## Güvenlik Merkezi

* [ ] Mümkünse, **`Güvenlik İncelemeleri`** **taraması** ve **`Altyapı`** **taraması** çalıştırın, çünkü bunlar ilginç bilgileri **güvenlik** açısından **vurgulayacaktır**.
* [ ] Güvenlik yanlış yapılandırmaları ve ilginç bilgiler için bu bilgileri **kontrol edin**

## Turnstile

TODO

## **Sıfır Güven**

{% content-ref url="cloudflare-zero-trust-network.md" %}
[cloudflare-zero-trust-network.md](cloudflare-zero-trust-network.md)
{% endcontent-ref %}

## Toplu Yönlendirmeler

{% hint style="info" %}
[**Toplu Yönlendirmeler**](https://developers.cloudflare.com/rules/url-forwarding/bulk-redirects/), [Dinamik Yönlendirmeler](https://developers.cloudflare.com/rules/url-forwarding/dynamic-redirects/) gibi değildir ve temelde statiktir - herhangi bir dize değiştirme işlemi veya düzenli ifadeleri **desteklemez**. Bununla birlikte, URL eşleme davranışlarını ve çalışma zamanı davranışlarını etkileyen URL yönlendirme parametrelerini yapılandırabilirsiniz.
{% endhint %}

* [ ] Yönlendirmeler için **ifadeleri** ve **gereksinimleri** kontrol edin, **mantıklı** olup olmadığını kontrol edin.
* [ ] Ayrıca, ilginç bilgiler içeren **hassas gizli uç noktaları** için kontrol edin.

## Bildirimler

* [ ] **Bildirimleri** kontrol edin. Bu bildirimler güvenlik için önerilir:
* `Kullanıma Dayalı Faturalandırma`
* `HTTP DDoS Saldırısı Uyarısı`
* `Katman 3/4 DDoS Saldırısı Uyarısı`
* `Gelişmiş HTTP DDoS Saldırısı Uyarısı`
* `Gelişmiş Katman 3/4 DDoS Saldırısı Uyarısı`
* `Akış Tabanlı İzleme: Hacimsel Saldırı`
* `Rota Sızıntısı Algılama Uyarısı`
* `Erişim mTLS Sertifika Süresi Uyarısı`
* `SaaS Özel Ana Bilgisayarı için SSL Uyarısı`
* `Evrensel SSL Uyarısı`
* `Komut İzleme Yeni Kod Değişikliği Algılama Uyarısı`
* `Komut İzleme Yeni Alan Adı Uyarısı`
* `Komut İzleme Yeni Kötü Amaçlı Alan Adı Uyarısı`
* `Komut İzleme Yeni Kötü Amaçlı Komut Uyarısı`
* `Komut İzleme Yeni Kötü Amaçlı URL Uyarısı`
* `Komut İzleme Yeni Komutlar Uyarısı`
* `Komut İzleme Yeni Komut Maksimum URL Uzunluğunu Aşıyor Uyarısı`
* `Gelişmiş Güvenlik Olayları Uyarısı`
* `Güvenlik Olayları Uyarısı`
* [ ] Tüm **hedefleri** kontrol edin, çünkü webhook URL'lerinde **hassas bilgiler** (temel http kimlik doğrulaması) olabilir. Ayrıca webhook URL'lerinin **HTTPS** kullandığından emin olun
* [ ] Ek bir kontrol olarak, üçüncü bir tarafa bir Cloudflare bildirimi **taklit etmeyi** deneyebilirsiniz, belki de bir şekilde **tehlikeli bir şey enjekte edebilirsiniz**

## Hesabı Yönet

* [ ] **`Fatura` -> `Ödeme
## DDoS İncelemesi

[Bu bölüme bakın](cloudflare-domains.md#cloudflare-ddos-koruma).

<details>

<summary><strong>AWS hackleme konusunda sıfırdan kahramana dönüşün</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong></a><strong> ile öğrenin!</strong></summary>

HackTricks'i desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamınızı görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**'ı takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR göndererek paylaşın**.

</details>
