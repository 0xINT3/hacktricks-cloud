# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—ó Concourse

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ **—Ä–µ–∫–ª–∞–º—É –≤–∞—à–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó –Ω–∞ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) **—ñ** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ GitHub**.

</details>

## –¢–µ—Å—Ç–æ–≤–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ

### –ó–∞–ø—É—Å–∫ Concourse

#### –ó Docker-Compose

–¶–µ–π —Ñ–∞–π–ª docker-compose —Å–ø—Ä–æ—â—É—î –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è –¥–µ—è–∫–∏—Ö —Ç–µ—Å—Ç—ñ–≤ –∑ Concourse:
```bash
wget https://raw.githubusercontent.com/starkandwayne/concourse-tutorial/master/docker-compose.yml
docker-compose up -d
```
–í–∏ –º–æ–∂–µ—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∫–æ–º–∞–Ω–¥–Ω–∏–π —Ä—è–¥–æ–∫ `fly` –¥–ª—è –≤–∞—à–æ—ó –û–° –∑ –≤–µ–±-—Å–∞–π—Ç—É –∑–∞ –∞–¥—Ä–µ—Å–æ—é `127.0.0.1:8080`

#### –ó Kubernetes (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

–í–∏ –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ concourse –≤ **Kubernetes** (—É **minikube**, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥) –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é helm-—á–∞—Ä—Ç—É: [**concourse-chart**](https://github.com/concourse/concourse-chart).
```bash
brew install helm
helm repo add concourse https://concourse-charts.storage.googleapis.com/
helm install concourse-release concourse/concourse
# concourse-release will be the prefix name for the concourse elements in k8s
# After the installation you will find the indications to connect to it in the console

# If you need to delete it
helm delete concourse-release
```
–ü—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ concourse, –≤–∏ –º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Å–µ–∫—Ä–µ—Ç —Ç–∞ –Ω–∞–¥–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ SA, —è–∫–∏–π –ø—Ä–∞—Ü—é—î –≤ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ concourse, –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ —Å–µ–∫—Ä–µ—Ç—ñ–≤ K8s:
```yaml
echo 'apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
name: read-secrets
rules:
- apiGroups: [""]
resources: ["secrets"]
verbs: ["get"]

---

apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
name: read-secrets-concourse
roleRef:
apiGroup: rbac.authorization.k8s.io
kind: ClusterRole
name: read-secrets
subjects:
- kind: ServiceAccount
name: concourse-release-web
namespace: default

---

apiVersion: v1
kind: Secret
metadata:
name: super
namespace: concourse-release-main
type: Opaque
data:
secret: MWYyZDFlMmU2N2Rm

' | kubectl apply -f -
```
### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω–≤–µ—î—Ä–∞

–ö–æ–Ω–≤–µ—î—Ä —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑—ñ —Å–ø–∏—Å–∫—É [–∑–∞–≤–¥–∞–Ω—å](https://concourse-ci.org/jobs.html), —è–∫—ñ –º—ñ—Å—Ç—è—Ç—å —É–ø–æ—Ä—è–¥–∫–æ–≤–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫ [–∫—Ä–æ–∫—ñ–≤](https://concourse-ci.org/steps.html).

### –ö—Ä–æ–∫–∏

–ú–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∫—Ä–æ–∫—ñ–≤:

* **–∫—Ä–æ–∫** [**`task` step**](https://concourse-ci.org/task-step.html) **–≤–∏–∫–æ–Ω—É—î** [**–∑–∞–≤–¥–∞–Ω–Ω—è**](https://concourse-ci.org/tasks.html)
* –∫—Ä–æ–∫ [`get`](https://concourse-ci.org/get-step.html) –æ—Ç—Ä–∏–º—É—î [—Ä–µ—Å—É—Ä—Å](https://concourse-ci.org/resources.html)
* –∫—Ä–æ–∫ [`put`](https://concourse-ci.org/put-step.html) –æ–Ω–æ–≤–ª—é—î [—Ä–µ—Å—É—Ä—Å](https://concourse-ci.org/resources.html)
* –∫—Ä–æ–∫ [`set_pipeline`](https://concourse-ci.org/set-pipeline-step.html) –Ω–∞–ª–∞—à—Ç–æ–≤—É—î [–∫–æ–Ω–≤–µ—î—Ä](https://concourse-ci.org/pipelines.html)
* –∫—Ä–æ–∫ [`load_var`](https://concourse-ci.org/load-var-step.html) –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –∑–Ω–∞—á–µ–Ω–Ω—è –≤ [–ª–æ–∫–∞–ª—å–Ω—É –∑–º—ñ–Ω–Ω—É](https://concourse-ci.org/vars.html#local-vars)
* –∫—Ä–æ–∫ [`in_parallel`](https://concourse-ci.org/in-parallel-step.html) –≤–∏–∫–æ–Ω—É—î –∫—Ä–æ–∫–∏ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ
* –∫—Ä–æ–∫ [`do`](https://concourse-ci.org/do-step.html) –≤–∏–∫–æ–Ω—É—î –∫—Ä–æ–∫–∏ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ
* –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∫—Ä–æ–∫—É [`across`](https://concourse-ci.org/across-step.html#schema.across) –≤–∏–∫–æ–Ω—É—î –∫—Ä–æ–∫ –∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤; –æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –∫–æ–∂–Ω–æ—ó –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó –∑–Ω–∞—á–µ–Ω—å –∑–º—ñ–Ω–Ω–∏—Ö
* –∫—Ä–æ–∫ [`try`](https://concourse-ci.org/try-step.html) –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –≤–∏–∫–æ–Ω–∞—Ç–∏ –∫—Ä–æ–∫ —ñ —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –∫—Ä–æ–∫ –Ω–µ –≤–¥–∞—î—Ç—å—Å—è

–ö–æ–∂–µ–Ω [–∫—Ä–æ–∫](https://concourse-ci.org/steps.html) —É [–ø–ª–∞–Ω—ñ –∑–∞–≤–¥–∞–Ω—å](https://concourse-ci.org/jobs.html#schema.job.plan) –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è —É **–≤–ª–∞—Å–Ω–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ**. –í–∏ –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å–µ, —â–æ –∑–∞–≤–≥–æ–¥–Ω–æ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ _(—Ç–æ–±—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –º–æ—ó —Ç–µ—Å—Ç–∏, –≤–∏–∫–æ–Ω–∞—Ç–∏ —Ü–µ–π bash-—Å–∫—Ä–∏–ø—Ç, –ø–æ–±—É–¥—É–≤–∞—Ç–∏ —Ü–µ–π –æ–±—Ä–∞–∑ —Ç–æ—â–æ)_. –¢–∞–∫–∏–º —á–∏–Ω–æ–º, —è–∫—â–æ —É –≤–∞—Å —î –∑–∞–≤–¥–∞–Ω–Ω—è –∑ –ø'—è—Ç—å–º–∞ –∫—Ä–æ–∫–∞–º–∏, Concourse —Å—Ç–≤–æ—Ä–∏—Ç—å –ø'—è—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤, –ø–æ –æ–¥–Ω–æ–º—É –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∫—Ä–æ–∫—É.

–û—Ç–∂–µ, –º–æ–∂–Ω–∞ –≤–∫–∞–∑–∞—Ç–∏ —Ç–∏–ø –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, —É —è–∫–æ–º—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ–Ω–∞—Ç–∏ –∫–æ–∂–µ–Ω –∫—Ä–æ–∫.

### –ü—Ä–∏–∫–ª–∞–¥ –ø—Ä–æ—Å—Ç–æ–≥–æ –∫–æ–Ω–≤–µ—î—Ä–∞
```yaml
jobs:
- name: simple
plan:
- task: simple-task
privileged: true
config:
# Tells Concourse which type of worker this task should run on
platform: linux
image_resource:
type: registry-image
source:
repository: busybox # images are pulled from docker hub by default
run:
path: sh
args:
- -cx
- |
sleep 1000
echo "$SUPER_SECRET"
params:
SUPER_SECRET: ((super.secret))
```

```bash
fly -t tutorial set-pipeline -p pipe-name -c hello-world.yml
# pipelines are paused when first created
fly -t tutorial unpause-pipeline -p pipe-name
# trigger the job and watch it run to completion
fly -t tutorial trigger-job --job pipe-name/simple --watch
# From another console
fly -t tutorial intercept --job pipe-name/simple
```
–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ **127.0.0.1:8080**, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –ø–æ—Ç—ñ–∫ –∫–æ–Ω–≤–µ—î—Ä–∞.

### –°—Ü–µ–Ω–∞—Ä—ñ–π Bash –∑ –ø–æ—Ç–æ–∫–æ–º –≤–∏–≤–æ–¥—É/–≤–≤–æ–¥—É

–ú–æ–∂–ª–∏–≤–æ **–∑–±–µ—Ä–µ–≥—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –æ–¥–Ω–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è —É —Ñ–∞–π–ª—ñ** —Ç–∞ –≤–∫–∞–∑–∞—Ç–∏, —â–æ —Ü–µ –≤–∏–≤—ñ–¥, –∞ –ø–æ—Ç—ñ–º –≤–∫–∞–∑–∞—Ç–∏ –≤–≤—ñ–¥ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è —è–∫ –≤–∏–≤—ñ–¥ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è. Concourse —Ä–æ–±–∏—Ç—å —Ç–∞–∫, —â–æ **–ø—ñ–¥–∫–ª—é—á–∞—î –∫–∞—Ç–∞–ª–æ–≥ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è –¥–æ –Ω–æ–≤–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è, –¥–µ –≤–∏ –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ —Ñ–∞–π–ª—ñ–≤, —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–º –∑–∞–≤–¥–∞–Ω–Ω—è–º**.

### –¢—Ä–∏–≥–µ—Ä–∏

–í–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç–∏ —Ä–æ–±–æ—Ç–∏ –≤—Ä—É—á–Ω—É –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É, –∫–æ–ª–∏ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —ó—Ö –∑–∞–ø—É—Å—Ç–∏—Ç–∏, –≤–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –∑–∞–ø—Ä–æ–≥—Ä–∞–º—É–≤–∞—Ç–∏ —ó—Ö –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–ø—É—Å–∫ –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É:

* –ü—Ä–æ–π—à–ª–æ –ø–µ–≤–Ω–∏–π —á–∞—Å: [–†–µ—Å—É—Ä—Å —á–∞—Å—É](https://github.com/concourse/time-resource/)
* –ù–æ–≤—ñ –∫–æ–º—ñ—Ç–∏ –≤ –≥–æ–ª–æ–≤–Ω—É –≥—ñ–ª–∫—É: [–†–µ—Å—É—Ä—Å Git](https://github.com/concourse/git-resource)
* –ù–æ–≤—ñ PR: [–†–µ—Å—É—Ä—Å Github-PR](https://github.com/telia-oss/github-pr-resource)
* –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∞–±–æ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É: [–†–µ—Å—É—Ä—Å —Ä–µ—î—Å—Ç—Ä—É-–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è](https://github.com/concourse/registry-image-resource/)

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∏–∫–ª–∞–¥ YAML –∫–æ–Ω–≤–µ—î—Ä–∞, —è–∫–∏–π —Å–ø—Ä–∞—Ü—å–æ–≤—É—î –ø—Ä–∏ –Ω–æ–≤–∏—Ö –∫–æ–º—ñ—Ç–∞—Ö —É –≥—ñ–ª–∫—É master –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º [https://concourse-ci.org/tutorial-resources.html](https://concourse-ci.org/tutorial-resources.html)
