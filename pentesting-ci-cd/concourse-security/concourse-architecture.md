# Concourseアーキテクチャ

<details>

<summary><strong>ハックトリックをサポートして特典を得る！</strong></summary>

- **HackTricksで会社を宣伝したい**場合や、**最新バージョンのPEASSを入手したり、HackTricksをPDFでダウンロード**したい場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください！
- [**公式PEASS＆HackTricksグッズ**](https://peass.creator-spring.com)を手に入れる
- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を見つけて、独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションを発見する
- 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**Telegramグループ**](https://t.me/peass)に参加するか、**Twitter**で私をフォローする 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)
- **ハッキングのトリックを共有するには、**[**HackTricks**](https://github.com/carlospolop/hacktricks)と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のGitHubリポジトリにPRを提出してください。

</details>

## アーキテクチャ

![](<../../.gitbook/assets/image (39) (1).png>)

### ATC: web UI＆ビルドスケジューラ

ATCはConcourseの中心です。**Web UIとAPI**を実行し、すべてのパイプラインの**スケジューリング**を担当します。ATCは**PostgreSQLに接続**し、パイプラインデータ（ビルドログを含む）を格納するために使用します。

[チェッカー](https://concourse-ci.org/checker.html)は、リソースの新しいバージョンを継続的にチェックする責任を持ちます。[スケジューラ](https://concourse-ci.org/scheduler.html)は、ジョブのビルドをスケジュールする責任を持ちます。[ビルドトラッカー](https://concourse-ci.org/build-tracker.html)は、スケジュールされたビルドを実行する責任を持ちます。[ガベージコレクター](https://concourse-ci.org/garbage-collector.html)は、コンテナやボリュームなどの未使用または古いオブジェクトを削除するクリーンアップメカニズムです。

### TSA: ワーカーの登録と転送

TSAは、[ATC](https://concourse-ci.org/internals.html#component-atc)にワーカーを安全に**登録**するために使用される**カスタムビルトSSHサーバー**です。

TSAは**デフォルトでポート`2222`でリッスン**し、通常は[ATC](https://concourse-ci.org/internals.html#component-atc)と共に配置され、ロードバランサーの後ろに配置されます。

**TSAはSSH接続を介してCLIを実装**し、[**これらのコマンド**](https://concourse-ci.org/internals.html#component-tsa)をサポートしています。

### ワーカー

Concourseはタスクを実行するためにワーカーが必要です。これらのワーカーは[TSA](https://concourse-ci.org/internals.html#component-tsa)を介して**自己登録**し、[**Garden**](https://github.com/cloudfoundry-incubator/garden)と[**Baggageclaim**](https://github.com/concourse/baggageclaim)のサービスを実行します。

- **Garden**: これは**コンテナ管理API**であり、通常は**ポート7777**で**HTTP**経由で実行されます。
- **Baggageclaim**: これは**ボリューム管理API**であり、通常は**ポート7788**で**HTTP**経由で実行されます。

<details>

<summary><strong>ハックトリックをサポートして特典を得る！</strong></summary>

- **HackTricksで会社を宣伝したい**場合や、**最新バージョンのPEASSを入手したり、HackTricksをPDFでダウンロード**したい場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください！
- [**公式PEASS＆HackTricksグッズ**](https://peass.creator-spring.com)を手に入れる
- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を見つけて、独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションを発見する
- 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**Telegramグループ**](https://t.me/peass)に参加するか、**Twitter**で私をフォローする 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)
- **ハッキングのトリックを共有するには、**[**HackTricks**](https://github.com/carlospolop/hacktricks)と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のGitHubリポジトリにPRを提出してください。

</details>
