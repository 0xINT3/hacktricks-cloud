# Concourse Architecture

## Concourse Architecture

<details>

<summary><strong>ゼロからヒーローまでのAWSハッキングを学ぶ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE（HackTricks AWS Red Team Expert）</strong></a><strong>！</strong></summary>

HackTricksをサポートする他の方法：

* **HackTricksで企業を宣伝したい**または**HackTricksをPDFでダウンロードしたい場合**は、[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**公式PEASS＆HackTricksグッズ**](https://peass.creator-spring.com)を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションを見る
* **💬 [Discordグループ](https://discord.gg/hRep4RUj7f)**に参加するか、[telegramグループ](https://t.me/peass)に参加するか、**Twitter** 🐦で私たちをフォローする [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**。**
* **ハッキングテクニックを共有するために、PRを** [**HackTricks**](https://github.com/carlospolop/hacktricks) **と** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **のGitHubリポジトリに提出してください。**

</details>

[**Concourseドキュメントからの関連データ:**](https://concourse-ci.org/internals.html)

### アーキテクチャ

![](<../../.gitbook/assets/image (187).png>)

#### ATC: web UI & build scheduler

ATCはConcourseの中心です。**web UIとAPI**を実行し、すべてのパイプラインの**スケジューリング**を担当します。**PostgreSQLに接続**し、パイプラインデータ（ビルドログを含む）を保存します。

[checker](https://concourse-ci.org/checker.html)はリソースの新バージョンを継続的にチェックする責任があります。[scheduler](https://concourse-ci.org/scheduler.html)はジョブのためにビルドをスケジュールする責任があり、[build tracker](https://concourse-ci.org/build-tracker.html)はスケジュールされたビルドを実行する責任があります。[garbage collector](https://concourse-ci.org/garbage-collector.html)は、コンテナやボリュームなどの未使用または古いオブジェクトを削除するためのクリーンアップメカニズムです。

#### TSA: worker registration & forwarding

TSAは、[ATC](https://concourse-ci.org/internals.html#component-atc)に**労働者**を安全に**登録**するためだけに使用される**カスタムSSHサーバー**です。

TSAは**デフォルトでポート`2222`でリッスン**し、通常は[ATC](https://concourse-ci.org/internals.html#component-atc)と同じ場所にあり、ロードバランサーの背後に配置されています。

**TSAはSSH接続を介してCLIを実装**し、[**これらのコマンド**](https://concourse-ci.org/internals.html#component-tsa)をサポートしています。

#### Workers

Concourseがタスクを実行するためには、いくつかのワーカーが必要です。これらのワーカーは[TSA](https://concourse-ci.org/internals.html#component-tsa)を介して**自己登録**し、[**Garden**](https://github.com/cloudfoundry-incubator/garden)と[**Baggageclaim**](https://github.com/concourse/baggageclaim)のサービスを実行します。

* **Garden**: これは**コンテナ管理API**で、通常は**HTTP**を介して**ポート7777**で実行されます。
* **Baggageclaim**: これは**ボリューム管理API**で、通常は**HTTP**を介して**ポート7788**で実行されます。

## 参考文献

* [https://concourse-ci.org/internals.html](https://concourse-ci.org/internals.html)

<details>

<summary><strong>ゼロからヒーローまでのAWSハッキングを学ぶ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE（HackTricks AWS Red Team Expert）</strong></a><strong>！</strong></summary>

HackTricksをサポートする他の方法：

* **HackTricksで企業を宣伝したい**または**HackTricksをPDFでダウンロードしたい場合**は、[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**公式PEASS＆HackTricksグッズ**](https://peass.creator-spring.com)を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションを見る
* **💬 [Discordグループ](https://discord.gg/hRep4RUj7f)**に参加するか、[telegramグループ](https://t.me/peass)に参加するか、**Twitter** 🐦で私たちをフォローする [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**。**
* **ハッキングテクニックを共有するために、PRを** [**HackTricks**](https://github.com/carlospolop/hacktricks) **と** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **のGitHubリポジトリに提出してください。**

</details>
