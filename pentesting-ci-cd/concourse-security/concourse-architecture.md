# Concourse アーキテクチャ

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert) で AWS ハッキングをゼロからヒーローまで学ぶ</strong></summary>

HackTricks をサポートする他の方法:

* **HackTricks にあなたの会社を広告したい**、または **HackTricks を PDF でダウンロードしたい** 場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**公式 PEASS & HackTricks グッズ**](https://peass.creator-spring.com) を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) を発見する、私たちの独占的な [**NFTs**](https://opensea.io/collection/the-peass-family) のコレクション
* 💬 [**Discord グループ**](https://discord.gg/hRep4RUj7f) に **参加する** か、[**telegram グループ**](https://t.me/peass) に参加する、または **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm) を **フォローする**。
* **HackTricks** の GitHub リポジトリ [**HackTricks**](https://github.com/carlospolop/hacktricks) と [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) に PR を提出して、あなたのハッキングのコツを共有する。

</details>

## アーキテクチャ

![](<../../.gitbook/assets/image (39) (1).png>)

### ATC: web UI & ビルドスケジューラ

ATC は Concourse の中心です。**web UI と API** を実行し、すべてのパイプラインの **スケジューリング** を担当します。**PostgreSQL に接続**し、パイプラインデータ（ビルドログを含む）を保存します。

[checker](https://concourse-ci.org/checker.html) の責任は、リソースの新しいバージョンを継続的にチェックすることです。[scheduler](https://concourse-ci.org/scheduler.html) はジョブのビルドをスケジュールする責任があり、[build tracker](https://concourse-ci.org/build-tracker.html) はスケジュールされたビルドを実行する責任があります。[garbage collector](https://concourse-ci.org/garbage-collector.html) は、使用されていないまたは古くなったオブジェクト（コンテナやボリュームなど）を削除するためのクリーンアップメカニズムです。

### TSA: ワーカー登録 & 転送

TSA は、[ATC](https://concourse-ci.org/internals.html#component-atc) に [**ワーカー**](https://concourse-ci.org/internals.html#architecture-worker) を安全に **登録する** ためだけに使用される **カスタムビルド SSH サーバー** です。

TSA は **デフォルトでポート `2222` をリッスン** し、通常は [ATC](https://concourse-ci.org/internals.html#component-atc) と同じ場所に配置され、ロードバランサーの背後にあります。

**TSA は SSH 接続上で CLI を実装しており**、[**これらのコマンド**](https://concourse-ci.org/internals.html#component-tsa) をサポートしています。

### ワーカー

タスクを実行するために、Concourse にはいくつかのワーカーが必要です。これらのワーカーは [TSA](https://concourse-ci.org/internals.html#component-tsa) を介して **自らを登録** し、[**Garden**](https://github.com/cloudfoundry-incubator/garden) と [**Baggageclaim**](https://github.com/concourse/baggageclaim) のサービスを実行します。

* **Garden**: これは **コンテナ管理 API** で、通常は **ポート 7777** で **HTTP** 経由で実行されます。
* **Baggageclaim**: これは **ボリューム管理 API** で、通常は **ポート 7788** で **HTTP** 経由で実行されます。

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert) で AWS ハッキングをゼロからヒーローまで学ぶ</strong></summary>

HackTricks をサポートする他の方法:

* **HackTricks にあなたの会社を広告したい**、または **HackTricks を PDF でダウンロードしたい** 場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**公式 PEASS & HackTricks グッズ**](https://peass.creator-spring.com) を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) を発見する、私たちの独占的な [**NFTs**](https://opensea.io/collection/the-peass-family) のコレクション
* 💬 [**Discord グループ**](https://discord.gg/hRep4RUj7f) に **参加する** か、[**telegram グループ**](https://t.me/peass) に参加する、または **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm) を **フォローする**。
* **HackTricks** の GitHub リポジトリ [**HackTricks**](https://github.com/carlospolop/hacktricks) と [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) に PR を提出して、あなたのハッキングのコツを共有する。

</details>
