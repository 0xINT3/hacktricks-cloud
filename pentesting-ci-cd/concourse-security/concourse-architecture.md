# Arquitectura de Concourse

## Arquitectura de Concourse

<details>

<summary><strong>Aprende hacking en AWS de cero a h√©roe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Experto en Equipos Rojos de AWS de HackTricks)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si deseas ver tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF** Consulta los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!
* Obt√©n la [**merchandising oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **√önete al** üí¨ [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s√≠guenos** en **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Comparte tus trucos de hacking enviando PRs a los** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repositorios de github.

</details>

[**Datos relevantes de la documentaci√≥n de Concourse:**](https://concourse-ci.org/internals.html)

### Arquitectura

![](<../../.gitbook/assets/image (187).png>)

#### ATC: interfaz web y programador de compilaciones

El ATC es el coraz√≥n de Concourse. Ejecuta la **interfaz web y API** y es responsable de toda la **programaci√≥n de pipelines**. Se **conecta a PostgreSQL**, que utiliza para almacenar datos de pipelines (incluidos los registros de compilaci√≥n).

La responsabilidad del [verificador](https://concourse-ci.org/checker.html) es verificar continuamente nuevas versiones de recursos. El [programador](https://concourse-ci.org/scheduler.html) es responsable de programar compilaciones para un trabajo y el [rastreador de compilaciones](https://concourse-ci.org/build-tracker.html) es responsable de ejecutar cualquier compilaci√≥n programada. El [recolector de basura](https://concourse-ci.org/garbage-collector.html) es el mecanismo de limpieza para eliminar objetos no utilizados u obsoletos, como contenedores y vol√∫menes.

#### TSA: registro de trabajadores y reenv√≠o

El TSA es un **servidor SSH personalizado** que se utiliza √∫nicamente para registrar de forma segura [**trabajadores**](https://concourse-ci.org/internals.html#architecture-worker) con el [ATC](https://concourse-ci.org/internals.html#component-atc).

El TSA, de forma **predeterminada, escucha en el puerto `2222`**, y generalmente se coloca junto al [ATC](https://concourse-ci.org/internals.html#component-atc) y se sit√∫a detr√°s de un balanceador de carga.

El **TSA implementa la CLI a trav√©s de la conexi√≥n SSH**, admitiendo [**estos comandos**](https://concourse-ci.org/internals.html#component-tsa).

#### Trabajadores

Para ejecutar tareas, Concourse debe tener algunos trabajadores. Estos trabajadores se **registran a s√≠ mismos** a trav√©s del [TSA](https://concourse-ci.org/internals.html#component-tsa) y ejecutan los servicios [**Garden**](https://github.com/cloudfoundry-incubator/garden) y [**Baggageclaim**](https://github.com/concourse/baggageclaim).

* **Garden**: Esta es la **API de Gesti√≥n de Contenedores**, que generalmente se ejecuta en el puerto 7777 a trav√©s de **HTTP**.
* **Baggageclaim**: Esta es la **API de Gesti√≥n de Vol√∫menes**, que generalmente se ejecuta en el puerto 7788 a trav√©s de **HTTP**.

## Referencias

* [https://concourse-ci.org/internals.html](https://concourse-ci.org/internals.html)

<details>

<summary><strong>Aprende hacking en AWS de cero a h√©roe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Experto en Equipos Rojos de AWS de HackTricks)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si deseas ver tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF** Consulta los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!
* Obt√©n la [**merchandising oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **√önete al** üí¨ [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s√≠guenos** en **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Comparte tus trucos de hacking enviando PRs a los** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repositorios de github.

</details>
