# Okta

<details>

<summary><strong>Aprende hacking en AWS de cero a h칠roe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si quieres ver a tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF** revisa los [**PLANES DE SUSCRIPCI칍N**](https://github.com/sponsors/carlospolop)!
* Consigue el [**merchandising oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colecci칩n de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **칔nete al** 游눫 [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s칤gueme** en **Twitter** 游냕 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de github** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

## Informaci칩n B치sica

Okta, Inc. es una **compa침칤a de gesti칩n de identidad y acceso** que proporciona software en la nube para ayudar a las empresas a **gestionar y asegurar la autenticaci칩n de usuarios en aplicaciones modernas**, y para que los desarrolladores integren controles de identidad en aplicaciones, servicios web de sitios web y dispositivos.

Su servicio principal, llamado Okta Identity Cloud, ofrece productos que incluyen inicio de sesi칩n 칰nico (SSO), autenticaci칩n de m칰ltiples factores (MFA), gesti칩n del ciclo de vida, directorio universal, gesti칩n de acceso a API y m치s. Esto ayuda a las empresas a proteger sus datos sensibles y tambi칠n a simplificar el acceso de los usuarios, haciendo que las aplicaciones y servicios sean m치s accesibles y f치ciles de usar para empleados o clientes.

Los servicios de Okta son ampliamente utilizados en contextos empresariales, as칤 como por compa침칤as m치s peque침as y desarrolladores. Juega un papel crucial en permitir a las empresas adoptar y gestionar tecnolog칤as en la nube de manera segura. Hasta mi 칰ltima actualizaci칩n de conocimientos en septiembre de 2021, Okta sigue siendo un actor importante en la industria de Gesti칩n de Identidad y Acceso (IAM).

{% hint style="danger" %}
El objetivo principal de Okta es configurar el acceso a diferentes usuarios y grupos a aplicaciones externas. Si logras **comprometer los privilegios de administrador en un entorno de Okta**, es muy probable que puedas **comprometer todas las otras plataformas que la empresa est치 utilizando**.
{% endhint %}

{% hint style="success" %}
Para realizar una revisi칩n de seguridad de un entorno Okta, debes solicitar **acceso de solo lectura de administrador**.
{% endhint %}

## Directorio

### Personas

Desde la perspectiva de un atacante, esto es super interesante ya que podr치s ver **todos los usuarios registrados**, sus direcciones de **correo electr칩nico**, los **grupos** a los que pertenecen, **perfiles** e incluso **dispositivos** (m칩viles junto con sus sistemas operativos).

Para una revisi칩n de caja blanca, verifica que no haya varios "Acci칩n de usuario pendiente" y "Restablecimiento de contrase침a"

### Grupos

Aqu칤 es donde encuentras todos los grupos creados en Okta. Es interesante entender los diferentes grupos (conjunto de **permisos**) que podr칤an ser otorgados a **usuarios**.\
Es posible ver las **personas incluidas dentro de los grupos** y las **aplicaciones asignadas** a cada grupo.

Por supuesto, cualquier grupo con el nombre de **admin** es interesante, especialmente el grupo **Administradores Globales**, revisa los miembros para saber qui칠nes son los miembros m치s privilegiados.

Desde una revisi칩n de caja blanca, **no deber칤a haber m치s de 5 administradores globales** (mejor si solo hay 2 o 3).

### Dispositivos

Encuentra aqu칤 una **lista de todos los dispositivos** de todos los usuarios. Tambi칠n puedes ver si est치 siendo **gestionado activamente** o no.

### Editor de Perfiles

Aqu칤 es posible observar c칩mo informaci칩n clave como nombres, apellidos, correos electr칩nicos, nombres de usuario... se comparten entre Okta y otras aplicaciones. Esto es interesante porque si un usuario puede **modificar en Okta un campo** (como su nombre o correo electr칩nico) que luego es utilizado por una **aplicaci칩n externa** para **identificar** al usuario, un infiltrado podr칤a intentar **tomar control de otras cuentas**.

Adem치s, en el perfil **`Usuario (predeterminado)`** de Okta puedes ver **qu칠 campos** tiene cada **usuario** y cu치les son **editables** por los usuarios. Si no puedes ver el panel de administraci칩n, simplemente ve a **actualizar tu informaci칩n de perfil** y ver치s qu칠 campos puedes actualizar (nota que para actualizar una direcci칩n de correo electr칩nico necesitar치s verificarla).

### Integraciones de Directorio

Los directorios te permiten importar personas de fuentes existentes. Supongo que aqu칤 ver치s los usuarios importados de otros directorios.

No lo he visto, pero supongo que esto es interesante para descubrir **otros directorios que Okta est치 utilizando para importar usuarios** as칤 que si **comprometes ese directorio** podr칤as establecer algunos valores de atributos en los usuarios creados en Okta y **quiz치s comprometer el entorno de Okta**.

### Fuentes de Perfil

Una fuente de perfil es una **aplicaci칩n que act칰a como fuente de verdad** para los atributos del perfil de usuario. Un usuario solo puede ser originado por una 칰nica aplicaci칩n o directorio a la vez.

No lo he visto, as칤 que cualquier informaci칩n sobre seguridad y hacking con respecto a esta opci칩n es bienvenida.

<details>

<summary><strong>Aprende hacking en AWS de cero a h칠roe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si quieres ver a tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF** revisa los [**PLANES DE SUSCRIPCI칍N**](https://github.com/sponsors/carlospolop)!
* Consigue el [**merchandising oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colecci칩n de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **칔nete al** 游눫 [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s칤gueme** en **Twitter** 游냕 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de github** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
