# Okta

<details>

<summary><strong>支持 HackTricks 并获得福利！</strong></summary>

* 如果您想在 HackTricks 中看到您的公司广告，或者如果您想访问 PEASS 的最新版本或下载 HackTricks 的 PDF，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方 PEASS 和 HackTricks 商品**](https://peass.creator-spring.com)
* 发现[**PEASS 家族**](https://opensea.io/collection/the-peass-family)，我们的独家[**NFT**](https://opensea.io/collection/the-peass-family)收藏品
* **加入** 💬 [**Discord 群组**](https://discord.gg/hRep4RUj7f) 或 [**Telegram 群组**](https://t.me/peass) 或 **关注**我的 **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* **通过向** [**HackTricks**](https://github.com/carlospolop/hacktricks) 和 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **GitHub 仓库提交 PR 来分享您的黑客技巧**。

</details>

## 基本信息

Okta, Inc. 是一家提供云软件的**身份和访问管理公司**，帮助企业**管理和保护用户身份验证到现代应用程序**，并帮助开发人员在应用程序、网站、网络服务和设备中构建身份控制。

他们的核心服务称为 Okta Identity Cloud，提供的产品包括单点登录 (SSO)、多因素身份验证 (MFA)、生命周期管理、通用目录、API 访问管理等。这有助于企业保护敏感数据，同时简化用户访问，使员工或客户更容易访问和使用应用程序和服务。

Okta 的服务广泛应用于企业环境，以及小型公司和开发人员。它在帮助企业安全地采用和管理云技术方面发挥着关键作用。截至我在 2021 年 9 月的知识截止日期，Okta 仍然是身份和访问管理 (IAM) 行业的重要参与者。

{% hint style="danger" %}
Okta 的主要目标是配置不同用户和组对外部应用程序的访问。如果您成功**获取 Okta 环境中的管理员权限**，您很可能能够**入侵公司使用的所有其他平台**。
{% endhint %}

{% hint style="success" %}
要对 Okta 环境进行安全审查，您应该要求获得**管理员只读访问权限**。
{% endhint %}

## 目录

### 人员

从攻击者的角度来看，这非常有趣，因为您将能够看到**所有注册的用户**，他们的**电子邮件**地址，他们所属的**组**，**配置文件**甚至**设备** (包括其操作系统)。

对于白盒审查，请检查是否存在多个 "待处理用户操作" 和 "密码重置"。

### 组

这是您在 Okta 中找到的所有已创建组的地方。了解可以授予**用户**的不同组 (一组**权限**) 是很有趣的。\
可以查看**包含在组内的人员**和分配给每个组的**应用程序**。

当然，任何以 **admin** 为名称的组都很有趣，特别是 **全局管理员** 组，检查成员以了解最特权的成员是谁。

从白盒审查的角度来看，**全局管理员不应超过 5 个** (最好只有 2 或 3 个)。

### 设备

在这里找到所有用户的**设备列表**。您还可以看到它是否正在**主动管理**。

### 配置文件编辑器

在这里，可以观察到关键信息，如名字、姓氏、电子邮件、用户名等如何在 Okta 和其他应用程序之间共享。这很有趣，因为如果用户可以在 Okta 中**修改字段** (例如他的姓名或电子邮件)，然后该字段被一个**外部应用程序**用于**识别**用户，内部人员可能会尝试**接管其他帐户**。

此外，在 Okta 的**`User (default)`**配置文件中，您可以看到每个**用户**拥有哪些字段以及哪些字段是由用户**可写**的。如果您无法看到管理员面板，只需**更新您的配置文件**信息，您将看到可以更新的字段 (请注意，要更新电子邮件地址，您需要进行验证)。

### 目录集成

目录允许您从现有源导入人员。我猜在这里您将看到从其他目录导入的用户。

我没有看到过，但我猜这对于找出 Okta 用于导入用户的**其他目录**是有趣的，因此如果您**入侵该目录**，您可以在 Okta 中设置一些属性值，并**可能入侵 Okta 环境**。

### 配置文件来源

配置文件来源是一个**作为用户配置文件属性真实来源**的应用程序。一个用户一次只能由一个应用程序或目录提供。

我没有看到过，所以对于与此选项相关的安全和黑客方面的任何信息，我们将不胜感激。

<details>

<summary><strong>支持 HackTricks 并获得福利！</strong></summary>

* 如果您想在 HackTricks 中看到您的公司广告，或者如果您想访问 PEASS 的最新版本或下载 HackTricks 的 PDF，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方 PEASS 和 HackTricks 商品**](https://peass.creator-spring.com)
* 发现[**PEASS 家族**](https://opensea.io/collection/the-peass-family)，我们的独家[**NFT**](https://opensea.io/collection/the-peass-family)收藏品
* **加入** 💬 [**Discord 群组**](https://discord.gg/hRep4RUj7f) 或 [**Telegram 群组**](https://t.me/peass) 或 **关注**我的 **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* **通过向** [**HackTricks**](https://github.com/carlospolop/hacktricks) 和 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **GitHub 仓库提交 PR 来分享您的黑客技巧**。

</details>
