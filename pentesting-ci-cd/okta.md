# Okta

<details>

<summary><strong>AWSハッキングをゼロからヒーローまで学ぶには</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>！</strong></summary>

HackTricksをサポートする他の方法:

* **HackTricksにあなたの会社を広告したい**、または**HackTricksをPDFでダウンロードしたい**場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください。
* [**公式PEASS & HackTricksグッズ**](https://peass.creator-spring.com)を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見する、私たちの独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)のコレクション
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に**参加する**か、[**telegramグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)を**フォローする**。
* **HackTricks**の[**GitHubリポジトリ**](https://github.com/carlospolop/hacktricks)と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)にPRを提出して、あなたのハッキングのコツを共有する。

</details>

## 基本情報

Okta, Inc.は、**アイデンティティとアクセス管理会社**であり、企業が**現代のアプリケーションへのユーザー認証を管理し、保護する**ためのクラウドソフトウェアを提供しています。また、開発者がアプリケーション、ウェブサイトのウェブサービス、デバイスにアイデンティティコントロールを組み込むことができます。

彼らのコアサービスであるOkta Identity Cloudは、シングルサインオン(SSO)、マルチファクタ認証(MFA)、ライフサイクル管理、ユニバーサルディレクトリ、APIアクセス管理などの製品を提供しています。これにより、企業は機密データを保護すると同時に、従業員や顧客にとってアプリケーションやサービスをよりアクセスしやすく、使いやすくすることができます。

Oktaのサービスは、大企業だけでなく、中小企業や開発者にも広く利用されています。ビジネスがクラウド技術を安全に採用し、管理することを可能にする上で重要な役割を果たしています。2021年9月の私の知識のカットオフ時点で、Oktaはアイデンティティとアクセス管理(IAM)業界で重要なプレイヤーであることが残っています。

{% hint style="danger" %}
Oktaの主な目的は、異なるユーザーやグループに外部アプリケーションへのアクセスを設定することです。もし**Okta環境で管理者権限を侵害**することができれば、その会社が使用している**他のすべてのプラットフォームを侵害する可能性が非常に高い**です。
{% endhint %}

{% hint style="success" %}
Okta環境のセキュリティレビューを実行するには、**管理者読み取り専用アクセス**を要求する必要があります。
{% endhint %}

## ディレクトリ

### 人々

攻撃者の観点からは、これは非常に興味深いです。なぜなら、**登録されているすべてのユーザー**、彼らの**メールアドレス**、彼らが属している**グループ**、**プロファイル**、さらには**デバイス**（OSを搭載したモバイル）を見ることができるからです。

ホワイトボックスレビューでは、「Pending user action」と「Password reset」がいくつかないことを確認してください。

### グループ

これはOktaで作成されたすべてのグループを見つける場所です。**ユーザー**に付与される可能性のある異なるグループ（一連の**権限**）を理解するのに興味深いです。\
グループ内に含まれる**人々**と各グループに**割り当てられたアプリ**を見ることができます。

もちろん、**admin**という名前のグループは特に興味深いです。特に**Global Administrators**グループは、最も特権を持つメンバーが誰であるかを学ぶためにメンバーをチェックしてください。

ホワイトボックスレビューでは、**グローバル管理者が5人以上いない**ことが望ましいです（2人または3人だけの方が良いです）。

### デバイス

ここでは、すべてのユーザーの**すべてのデバイスのリスト**を見つけることができます。また、それが**積極的に管理されているかどうか**も見ることができます。

### プロファイルエディタ

ここでは、名前、姓、メールアドレス、ユーザー名などの重要な情報がOktaと他のアプリケーション間でどのように共有されているかを観察することができます。これは、ユーザーがOktaでフィールド（名前やメールアドレスなど）を**変更**でき、その後、**外部アプリケーション**がユーザーを**識別**するために使用する場合、インサイダーが**他のアカウントを乗っ取る**ことを試みる可能性があるため興味深いです。

さらに、Oktaのプロファイル**`User (default)`**では、各**ユーザー**が持っている**フィールド**とユーザーによって**書き込み可能**なフィールドを見ることができます。管理パネルを見ることができない場合は、**プロファイル情報を更新**に進んで、どのフィールドを更新できるかを確認してください（メールアドレスを更新するには、それを検証する必要があることに注意してください）。

### ディレクトリ統合

ディレクトリを使用すると、既存のソースから人々をインポートすることができます。ここでは、他のディレクトリからインポートされたユーザーを見るでしょう。

私はそれを見たことがありませんが、Oktaがユーザーをインポートするために使用している**他のディレクトリ**を見つけることは興味深いでしょう。そうすれば、そのディレクトリを**侵害**することができれば、Oktaで作成されたユーザーのいくつかの属性値を設定し、**おそらくOkta環境を侵害する**ことができるかもしれません。

### プロファイルソース

プロファイルソースは、ユーザープロファイル属性の**真実の源として機能するアプリケーション**です。ユーザーは一度に単一のアプリケーションまたはディレクトリによってのみソースされることができます。

私はそれを見たことがないので、このオプションに関するセキュリティとハッキングについての情報は歓迎されます。

<details>

<summary><strong>AWSハッキングをゼロからヒーローまで学ぶには</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>！</strong></summary>

HackTricksをサポートする他の方法:

* **HackTricksにあなたの会社を広告したい**、または**HackTricksをPDFでダウンロードしたい**場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください。
* [**公式PEASS & HackTricksグッズ**](https://peass.creator-spring.com)を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見する、私たちの独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)のコレクション
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に**参加する**か、[**telegramグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)を**フォローする**。
* **HackTricks**の[**GitHubリポジトリ**](https://github.com/carlospolop/hacktricks)と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)にPRを提出して、あなたのハッキングのコツを共有する。

</details>
