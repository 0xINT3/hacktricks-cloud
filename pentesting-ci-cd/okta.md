# Okta

<details>

<summary><strong>通过</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>从零开始学习AWS黑客攻击直至成为英雄！</strong></summary>

支持HackTricks的其他方式：

* 如果您想在**HackTricks中看到您的公司广告**或**下载HackTricks的PDF**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方的PEASS & HackTricks商品**](https://peass.creator-spring.com)
* 发现[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们独家的[**NFTs系列**](https://opensea.io/collection/the-peass-family)
* **加入** 💬 [**Discord群组**](https://discord.gg/hRep4RUj7f) 或 [**telegram群组**](https://t.me/peass) 或在 **Twitter** 🐦 上**关注**我 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* **通过向** [**HackTricks**](https://github.com/carlospolop/hacktricks) 和 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库提交PR来分享您的黑客技巧。

</details>

## 基本信息

Okta, Inc. 是一家**身份和访问管理公司**，提供云软件帮助公司**管理和保护用户对现代应用程序的认证**，并为开发者在应用程序、网站网络服务和设备中构建身份控制。

他们的核心服务，称为Okta Identity Cloud，提供的产品包括单点登录(SSO)、多因素认证(MFA)、生命周期管理、通用目录、API访问管理等。这有助于公司保护其敏感数据，并简化用户访问，使应用程序和服务对员工或客户更加易于访问和使用。

Okta的服务在企业环境中广泛使用，也被较小的公司和开发者使用。它在帮助企业安全采用和管理云技术方面发挥着至关重要的作用。截至我在2021年9月的知识截止点，Okta仍然是身份和访问管理(IAM)行业的重要参与者。

{% hint style="danger" %}
Okta的主要目标是配置不同用户和群组对外部应用程序的访问。如果您设法在Okta环境中**危害管理员权限**，您很可能能够**危害公司使用的所有其他平台**。
{% endhint %}

{% hint style="success" %}
要对Okta环境进行安全审查，您应该要求**管理员只读访问权限**。
{% endhint %}

## 目录

### 人员

从攻击者的角度来看，这非常有趣，因为您将能够看到**所有注册用户**、他们的**电子邮件**地址、他们所属的**群组**、**个人资料**甚至**设备**（手机及其操作系统）。

对于白盒审查，请检查是否有多个“待处理用户操作”和“密码重置”。

### 群组

这里您可以找到Okta中创建的所有群组。了解可以授予**用户**的不同群组（一组**权限**）很有趣。\
可以看到包含在群组内的**人员**和分配给每个群组的**应用程序**。

当然，任何名为**admin**的群组都很有趣，特别是**全球管理员**群组，检查成员以了解谁是最有权限的成员。

从白盒审查来看，**全球管理员不应超过5个**（如果只有2或3个更好）。

### 设备

在这里可以找到所有用户的**所有设备列表**。您还可以看到它是否正在**积极管理**。

### 配置文件编辑器

在这里可以观察到关键信息，如名字、姓氏、电子邮件、用户名等是如何在Okta和其他应用程序之间共享的。这很有趣，因为如果用户可以在Okta中**修改字段**（如他的名字或电子邮件），然后被**外部应用程序**用来**识别**用户，内部人员可能会尝试**接管其他账户**。

此外，在Okta的**`User (default)`** 配置文件中，您可以看到每个**用户**拥有哪些字段，以及哪些字段是用户可以**写入**的。如果您看不到管理面板，只需转到**更新您的个人资料**信息，您将看到您可以更新哪些字段（请注意，更新电子邮件地址需要验证）。

### 目录集成

目录允许您从现有来源导入人员。我猜在这里您会看到从其他目录导入的用户。

我没有看到它，但我猜这对于找出Okta正在使用哪些其他目录来导入用户很有趣，所以如果您**危害那个目录**，您可以在Okta中创建的用户中设置一些属性值，并**可能危害Okta环境**。

### 配置文件来源

配置文件来源是一个**作为用户配置文件属性真实来源的应用程序**。一个用户一次只能由一个应用程序或目录作为来源。

我没有看到它，所以任何关于这个选项的安全和黑客方面的信息都很受欢迎。

<details>

<summary><strong>通过</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>从零开始学习AWS黑客攻击直至成为英雄！</strong></summary>

支持HackTricks的其他方式：

* 如果您想在**HackTricks中看到您的公司广告**或**下载HackTricks的PDF**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方的PEASS & HackTricks商品**](https://peass.creator-spring.com)
* 发现[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们独家的[**NFTs系列**](https://opensea.io/collection/the-peass-family)
* **加入** 💬 [**Discord群组**](https://discord.gg/hRep4RUj7f) 或 [**telegram群组**](https://t.me/peass) 或在 **Twitter** 🐦 上**关注**我 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* **通过向** [**HackTricks**](https://github.com/carlospolop/hacktricks) 和 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库提交PR来分享您的黑客技巧。

</details>
