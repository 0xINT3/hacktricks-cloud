# Okta

<details>

<summary><strong>¡Apoya a HackTricks y obtén beneficios!</strong></summary>

* Si quieres ver a tu **empresa anunciada en HackTricks** o si quieres acceder a la **última versión de PEASS o descargar HackTricks en PDF**, ¡consulta los [**PLANES DE SUSCRIPCIÓN**](https://github.com/sponsors/carlospolop)!
* Obtén el [**merchandising oficial de PEASS y HackTricks**](https://peass.creator-spring.com)
* Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colección exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Únete al** 💬 [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de Telegram**](https://t.me/peass) o **sígueme** en **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) en GitHub.

</details>

## Información básica

Okta, Inc. es una empresa de **gestión de identidad y acceso** que proporciona software en la nube para ayudar a las empresas a **administrar y asegurar la autenticación de usuarios en aplicaciones modernas**, y para que los desarrolladores puedan construir controles de identidad en aplicaciones, servicios web y dispositivos.

Su servicio principal, llamado Okta Identity Cloud, ofrece productos que incluyen inicio de sesión único (SSO), autenticación multifactor (MFA), gestión del ciclo de vida, directorio universal, gestión de acceso a API y más. Esto ayuda a las empresas a proteger sus datos sensibles y también a agilizar el acceso de los usuarios, haciendo que las aplicaciones y servicios sean más accesibles y fáciles de usar para empleados o clientes.

Los servicios de Okta se utilizan ampliamente en contextos empresariales, así como por empresas más pequeñas y desarrolladores. Juega un papel crucial en permitir que las empresas adopten y gestionen de forma segura las tecnologías en la nube. Hasta mi fecha límite de conocimiento en septiembre de 2021, Okta sigue siendo un actor importante en la industria de la gestión de identidad y acceso (IAM).

{% hint style="danger" %}
El objetivo principal de Okta es configurar el acceso de diferentes usuarios y grupos a aplicaciones externas. Si logras **comprometer privilegios de administrador en un entorno de Okta**, es muy probable que puedas **comprometer todas las demás plataformas que la empresa esté utilizando**.
{% endhint %}

{% hint style="success" %}
Para realizar una revisión de seguridad de un entorno de Okta, debes solicitar acceso de solo lectura de **administrador**.
{% endhint %}

## Directorio

### Personas

Desde la perspectiva de un atacante, esto es muy interesante, ya que podrás ver **todos los usuarios registrados**, sus direcciones de **correo electrónico**, los **grupos** a los que pertenecen, los **perfiles** e incluso los **dispositivos** (móviles junto con sus sistemas operativos).

Para una revisión en caja blanca, verifica que no haya varios "Pending user action" y "Password reset".

### Grupos

Aquí es donde se encuentran todos los grupos creados en Okta. Es interesante comprender los diferentes grupos (conjunto de **permisos**) que se pueden otorgar a los **usuarios**.\
Es posible ver las **personas incluidas en los grupos** y las **aplicaciones asignadas** a cada grupo.

Por supuesto, cualquier grupo con el nombre de **admin** es interesante, especialmente el grupo **Global Administrators**, verifica los miembros para saber quiénes son los miembros más privilegiados.

Desde una revisión en caja blanca, **no debería haber más de 5 administradores globales** (mejor si hay solo 2 o 3).

### Dispositivos

Aquí encontrarás una **lista de todos los dispositivos** de todos los usuarios. También puedes ver si se está **gestionando activamente** o no.

### Editor de perfiles

Aquí es posible observar cómo se comparten información clave, como nombres, apellidos, correos electrónicos, nombres de usuario, entre Okta y otras aplicaciones. Esto es interesante porque si un usuario puede **modificar en Okta un campo** (como su nombre o correo electrónico) que luego es utilizado por una **aplicación externa** para **identificar** al usuario, un empleado interno podría intentar **apoderarse de otras cuentas**.

Además, en el perfil **`User (default)`** de Okta, puedes ver **qué campos** tiene cada **usuario** y cuáles son **modificables** por los usuarios. Si no puedes ver el panel de administración, simplemente ve a **actualizar la información de tu perfil** y verás qué campos puedes actualizar (ten en cuenta que para actualizar una dirección de correo electrónico deberás verificarla).

### Integraciones de directorio

Los directorios te permiten importar personas desde fuentes existentes. Supongo que aquí verás los usuarios importados de otros directorios.

No lo he visto, pero supongo que esto es interesante para descubrir **otros directorios que Okta está utilizando para importar usuarios**, por lo que si **comprometes ese directorio**, podrías establecer algunos valores de atributos en los usuarios creados en Okta y **comprometer el entorno de Okta**.

### Fuentes de perfil

Una fuente de perfil es una **aplicación que actúa como fuente de verdad** para los atributos del perfil de usuario. Un usuario solo puede tener una fuente de aplicación o directorio a la vez.

No lo he visto, por lo que se agradece cualquier información sobre seguridad y hacking relacionada con esta opción.

<details>

<summary><strong>¡Apoya a HackTricks y obtén beneficios!</strong></summary>

* Si quieres ver a tu **empresa anunciada en HackTricks** o si quieres acceder a la **última versión de PEASS o descargar HackTricks en PDF**, ¡consulta los [**PLANES DE SUSCRIPCIÓN**](https://github.com/sponsors/carlospolop)!
* Obtén el [**merchandising oficial de PEASS y HackTricks**](https://peass.creator-spring.com)
* Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colección exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Únete al** 💬 [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de Telegram**](https://t.me/peass) o **sígueme** en **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) en GitHub.

</details>
