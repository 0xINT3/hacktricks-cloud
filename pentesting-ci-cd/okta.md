# Okta

<details>

<summary><strong>ハックトリックをサポートして特典を得る！</strong></summary>

- **HackTricksで会社を宣伝したい**場合や、**最新バージョンのPEASSを入手したり、HackTricksをPDFでダウンロード**したい場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください！
- [**公式PEASS＆HackTricksグッズ**](https://peass.creator-spring.com)を手に入れましょう
- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を見つけて、独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションを発見しましょう
- 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**Telegramグループ**](https://t.me/peass)に参加するか、**Twitter**で私をフォローしてください 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
- **ハッキングのトリックを共有するには、**[**HackTricks**](https://github.com/carlospolop/hacktricks)と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のGitHubリポジトリにPRを提出してください。

</details>

## 基本情報

Okta, Inc.は、クラウドソフトウェアを提供して企業が現代のアプリケーションにユーザー認証を**管理し、保護する**ための**アイデンティティとアクセス管理企業**です。また、開発者がアプリケーション、ウェブサービス、デバイスにアイデンティティコントロールを構築するのを支援しています。

彼らのコアサービスであるOkta Identity Cloudは、シングルサインオン（SSO）、マルチファクタ認証（MFA）、ライフサイクル管理、ユニバーサルディレクトリ、APIアクセス管理などの製品を提供しています。これにより、企業は機密データを保護し、ユーザーアクセスを効率化することができます。これにより、従業員や顧客がアプリケーションやサービスによりアクセスしやすく、利用しやすくなります。

Oktaのサービスは、大企業だけでなく、中小企業や開発者にも広く利用されています。それは企業がクラウドテクノロジーを安全に採用し、管理するために重要な役割を果たしています。私の知識の範囲では、2021年9月までにOktaはアイデンティティとアクセス管理（IAM）業界で重要なプレーヤーであるとされています。

{% hint style="danger" %}
Oktaの主な目標は、異なるユーザーやグループに対する外部アプリケーションへのアクセスを構成することです。もしOktaの管理者特権を**侵害**することができれば、おそらく会社が使用している**他のすべてのプラットフォームを侵害**することができます。
{% endhint %}

{% hint style="success" %}
Okta環境のセキュリティレビューを実施するには、**管理者の読み取り専用アクセス**を要求する必要があります。
{% endhint %}

## ディレクトリ

### ユーザー

攻撃者の視点からは、ここでは**登録されたすべてのユーザー**、**メール**アドレス、所属する**グループ**、**プロファイル**、さらには**デバイス**（モバイルとそれらのOS）を見ることができます。

ホワイトボックスレビューでは、「保留中のユーザーアクション」と「パスワードリセット」が複数あるかどうかを確認してください。

### グループ

ここでは、Oktaで作成されたすべてのグループが見つかります。ユーザーに**付与できる権限のセット**である異なるグループを理解するのに興味があります。\
各グループに含まれる**人々**と、各グループに**割り当てられたアプリ**を見ることができます。

もちろん、**admin**という名前のグループは興味深いですが、特に**Global Administrators**グループは、特権を持つメンバーを知るためにメンバーをチェックしてください。

ホワイトボックスレビューでは、**5人以上のグローバル管理者は存在しないはず**です（2人または3人だけの方が良いです）。

### デバイス

ここには、すべてのユーザーの**デバイスのリスト**があります。また、**アクティブに管理されているかどうか**も確認できます。

### プロファイルエディター

ここでは、名前、姓、メール、ユーザー名などの重要な情報がOktaと他のアプリケーション間で共有されている方法を観察することができます。これは興味深いです、なぜならユーザーがOktaでフィールド（名前やメールなど）を**変更**できる場合、それがユーザーを**識別**するために**外部アプリケーション**で使用される場合、内部者が他のアカウントを**乗っ取ろうとする**可能性があるからです。

さらに、Oktaのプロファイル**`User (default)`**では、各**ユーザー**が持つ**フィールド**とユーザーが**書き込み可能**なフィールドが表示されます。管理パネルが表示されない場合は、**プロフィール情報を更新**して、更新できるフィールドを確認できます（メールアドレスを更新するには、確認が必要です）。

### ディレクトリ統合

ディレクトリを使用すると、既存のソースから人々をインポートすることができます。おそらくここでは、他のディレクトリからインポートされたユーザーが表示されます。

私は見たことはありませんが、Oktaがユーザーをインポートするために使用している**他のディレクトリ**を見つけるのに興味があります。したがって、そのディレクトリを**侵害**することができれば、Oktaで作成されたユーザーの属性値を設定し、Okta環境を**侵害**することができるかもしれません。

### プロファイルソース

プロファイルソースは、ユーザープロファイル属性の真実のソースとして機能する**アプリケーション**です。ユーザーは、1度につき1つのアプリケーションまたはディレクトリからのみソース化されることができます。

私は見たことがありませんので、このオプションに関するセキュリティとハッキングに関する情報は歓迎です。

<details>

<summary><strong>ハックトリックをサポートして特典を得る！</strong></summary>

- **HackTricksで会社を宣伝したい**場合や、**最新バージョンのPEASSを入手したり、HackTricksをPDFでダウンロード**したい場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください！
- [**公式PEASS＆HackTricksグッズ**](https://peass.creator-spring.com)を手に入れましょう
- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を見つけて、独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションを発見しましょう
- 💬 [**Discordグループ**](https://discord.gg
