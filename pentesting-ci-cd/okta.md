# Okta

<details>

<summary><strong>Aprenda hacking no AWS do zero ao her√≥i com</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Outras formas de apoiar o HackTricks:

* Se voc√™ quer ver sua **empresa anunciada no HackTricks** ou **baixar o HackTricks em PDF**, confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Adquira o [**material oficial PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubra [**A Fam√≠lia PEASS**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o de [**NFTs exclusivos**](https://opensea.io/collection/the-peass-family)
* **Junte-se ao grupo** üí¨ [**Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegram**](https://t.me/peass) ou **siga-me** no **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Compartilhe suas t√©cnicas de hacking enviando PRs para os reposit√≥rios github do** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

## Informa√ß√µes B√°sicas

Okta, Inc. √© uma **empresa de gest√£o de identidade e acesso** que fornece software em nuvem para ajudar empresas a **gerenciar e proteger a autentica√ß√£o de usu√°rios em aplica√ß√µes modernas**, e para desenvolvedores constru√≠rem controles de identidade em aplica√ß√µes, servi√ßos web de sites e dispositivos.

Seu servi√ßo principal, chamado Okta Identity Cloud, oferece produtos que incluem single sign-on (SSO), autentica√ß√£o multifator (MFA), gerenciamento de ciclo de vida, diret√≥rio universal, gerenciamento de acesso a API e mais. Isso ajuda as empresas a protegerem seus dados sens√≠veis e tamb√©m a simplificar o acesso dos usu√°rios, tornando aplica√ß√µes e servi√ßos mais acess√≠veis e f√°ceis de usar para funcion√°rios ou clientes.

Os servi√ßos da Okta s√£o amplamente utilizados em contextos empresariais, bem como por empresas menores e desenvolvedores. Desempenha um papel crucial em permitir que as empresas adotem e gerenciem tecnologias em nuvem de forma segura. At√© o meu √∫ltimo conhecimento em setembro de 2021, Okta continua sendo um ator significativo na ind√∫stria de Gest√£o de Identidade e Acesso (IAM).

{% hint style="danger" %}
O principal objetivo da Okta √© configurar o acesso a diferentes usu√°rios e grupos para aplica√ß√µes externas. Se voc√™ conseguir **comprometer privil√©gios de administrador em um ambiente Okta**, provavelmente ser√° capaz de **comprometer todas as outras plataformas que a empresa est√° usando**.
{% endhint %}

{% hint style="success" %}
Para realizar uma revis√£o de seguran√ßa de um ambiente Okta, voc√™ deve solicitar **acesso de leitura de administrador**.
{% endhint %}

## Diret√≥rio

### Pessoas

Do ponto de vista de um atacante, isso √© super interessante, pois voc√™ poder√° ver **todos os usu√°rios registrados**, seus endere√ßos de **email**, os **grupos** dos quais fazem parte, **perfis** e at√© mesmo **dispositivos** (m√≥veis junto com seus sistemas operacionais).

Para uma revis√£o whitebox, verifique se n√£o h√° v√°rios "A√ß√£o de usu√°rio pendente" e "Redefini√ß√£o de senha"

### Grupos

Aqui √© onde voc√™ encontra todos os grupos criados no Okta. √â interessante entender os diferentes grupos (conjunto de **permiss√µes**) que podem ser concedidos a **usu√°rios**.\
√â poss√≠vel ver as **pessoas inclu√≠das nos grupos** e **aplica√ß√µes atribu√≠das** a cada grupo.

Claro, qualquer grupo com o nome de **admin** √© interessante, especialmente o grupo **Administradores Globais**; verifique os membros para saber quem s√£o os membros mais privilegiados.

De uma revis√£o whitebox, **n√£o deveria haver mais de 5 administradores globais** (melhor se houver apenas 2 ou 3).

### Dispositivos

Encontre aqui uma **lista de todos os dispositivos** de todos os usu√°rios. Voc√™ tamb√©m pode ver se est√° sendo **gerenciado ativamente** ou n√£o.

### Editor de Perfil

Aqui √© poss√≠vel observar como informa√ß√µes chave como nomes, sobrenomes, emails, nomes de usu√°rio... s√£o compartilhadas entre Okta e outras aplica√ß√µes. Isso √© interessante porque se um usu√°rio pode **modificar no Okta um campo** (como seu nome ou email) que depois √© usado por uma **aplica√ß√£o externa** para **identificar** o usu√°rio, um insider poderia tentar **assumir outras contas**.

Al√©m disso, no perfil **`Usu√°rio (padr√£o)`** do Okta, voc√™ pode ver **quais campos** cada **usu√°rio** tem e quais s√£o **edit√°veis** pelos usu√°rios. Se voc√™ n√£o pode ver o painel administrativo, basta ir para **atualizar suas informa√ß√µes de perfil** e voc√™ ver√° quais campos voc√™ pode atualizar (note que para atualizar um endere√ßo de email voc√™ precisar√° verific√°-lo).

### Integra√ß√µes de Diret√≥rio

Diret√≥rios permitem que voc√™ importe pessoas de fontes existentes. Eu acho que aqui voc√™ ver√° os usu√°rios importados de outros diret√≥rios.

Eu n√£o vi isso, mas imagino que isso seja interessante para descobrir **outros diret√≥rios que Okta est√° usando para importar usu√°rios** ent√£o se voc√™ **comprometer esse diret√≥rio** voc√™ poderia definir alguns valores de atributos nos usu√°rios criados no Okta e **talvez comprometer o ambiente Okta**.

### Fontes de Perfil

Uma fonte de perfil √© uma **aplica√ß√£o que atua como fonte de verdade** para atributos de perfil de usu√°rio. Um usu√°rio s√≥ pode ser originado por uma √∫nica aplica√ß√£o ou diret√≥rio por vez.

Eu n√£o vi isso, ent√£o qualquer informa√ß√£o sobre seguran√ßa e hacking a respeito desta op√ß√£o √© apreciada.

<details>

<summary><strong>Aprenda hacking no AWS do zero ao her√≥i com</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Outras formas de apoiar o HackTricks:

* Se voc√™ quer ver sua **empresa anunciada no HackTricks** ou **baixar o HackTricks em PDF**, confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Adquira o [**material oficial PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubra [**A Fam√≠lia PEASS**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o de [**NFTs exclusivos**](https://opensea.io/collection/the-peass-family)
* **Junte-se ao grupo** üí¨ [**Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegram**](https://t.me/peass) ou **siga-me** no **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Compartilhe suas t√©cnicas de hacking enviando PRs para os reposit√≥rios github do** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
