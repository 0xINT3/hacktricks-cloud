# Kuboresha Okta

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalamu wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa kipekee wa [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au **kikundi cha** [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## Mwongozo

### Watu

Kutoka mtazamo wa mshambuliaji, hii ni ya kuvutia sana kwani utaweza kuona **watumiaji wote waliosajiliwa**, anwani zao za **barua pepe**, **makundi** wanayoshiriki, **maelezo** yao na hata **vifaa** (simu pamoja na mifumo yao ya uendeshaji).

Kwa ukaguzi wa whitebox hakikisha hakuna "**Hatua za Mtumiaji Zilizosubiri**" na "**Weka upya Nywila**".

### Makundi

Hapa ndipo unapopata makundi yote yaliyoundwa kwenye Okta. Ni ya kuvutia kuelewa makundi tofauti (seti ya **ruhusa**) ambazo zinaweza kutolewa kwa **watumiaji**.\
Inawezekana kuona **watu waliojumuishwa ndani ya makundi** na **programu zilizopewa** kila kundi.

Bila shaka, kikundi chochote chenye jina la **admin** ni cha kuvutia, haswa kikundi cha **Waadilifu wa Kimataifa**, angalia wanachama kujua ni nani wanachama wenye haki zaidi.

Kutoka mtazamo wa whitebox, **hakupaswi kuwa na zaidi ya waendeshaji wa kimataifa 5** (ni bora ikiwa kuna 2 au 3 tu).

### Vifaa

Pata hapa **orodha ya vifaa vyote** vya watumiaji wote. Unaweza pia kuona ikiwa inasimamiwa **kikamilifu** au la.

### Mhariri wa Wasifu

Hapa inawezekana kuchunguza jinsi habari muhimu kama majina ya kwanza, majina ya mwisho, barua pepe, majina ya watumiaji... yanavyoshirikiwa kati ya Okta na programu zingine. Hii ni ya kuvutia kwa sababu ikiwa mtumiaji anaweza **kurekebisha kwenye Okta uga** (kama jina lake au barua pepe) ambao kisha hutumiwa na **programu ya nje** kwa **kutambua** mtumiaji, mtu wa ndani anaweza kujaribu **kuchukua akaunti zingine**.

Zaidi ya hayo, katika wasifu wa **`Mtumiaji (chaguo-msingi)`** kutoka Okta unaweza kuona **ni uga gani** kila **mtumiaji** ana na ni zipi zinaweza **kurekebishwa** na watumiaji. Ikiwa huwezi kuona kibadilishaji cha admin, nenda tu kwenye **sasisha habari za wasifu wako** na utaona ni uga gani unaweza kusasisha (kumbuka kwamba kusasisha anwani ya barua pepe utahitaji kuidhinisha).

### Uingizaji wa Miongozo

Miongozo inakuwezesha kuagiza watu kutoka vyanzo vilivyopo. Nadhani hapa utaona watumiaji waliyoagizwa kutoka miongozo mingine.

Sijapata, lakini nadhani hii ni ya kuvutia kugundua **miongozo mingine ambayo Okta inatumia kuagiza watumiaji** ili ikiwa **unahatarisha miongozo hiyo** unaweza kuweka thamani za sifa kwa watumiaji walioundwa kwenye Okta na **labda kuhatarisha mazingira ya Okta**.

### Vyanzo vya Wasifu

Chanzo cha wasifu ni **programu inayofanya kazi kama chanzo cha kweli** kwa sifa za wasifu wa mtumiaji. Mtumiaji anaweza kuwa chanzo kutoka kwa programu au miongozo moja kwa wakati.

Sijapata, kwa hivyo habari yoyote kuhusu usalama na kudukua kuhusu chaguo hili inathaminiwa.

## Kubinafsisha

### Brandi

Angalia kwenye kichupo cha **Vikoa** katika sehemu hii anwani za barua pepe zinazotumiwa kutuma barua pepe na kikoa cha desturi ndani ya Okta ya kampuni (ambayo labda tayari unajua).

Zaidi ya hayo, kwenye kichupo cha **Mipangilio**, ikiwa wewe ni admin, unaweza "**Tumia ukurasa wa kujiondoa kwa desturi**" na weka URL ya desturi.

### SMS

Hakuna kitu cha kuvutia hapa.

### Dashibodi ya Mtumiaji wa Mwisho

Unaweza kupata hapa programu zilizopangwa, lakini tutachunguza maelezo ya hizo baadaye katika sehemu tofauti.

### Nyingine

Mipangilio ya kuvutia, lakini hakuna kitu cha kuvutia sana kutoka mtazamo wa usalama.

## Programu

### Programu

Hapa unaweza kupata **programu zilizopangwa** zote na maelezo yao: Ni nani anaye na upatikanaji wao, jinsi ilivyojengwa (SAML, OPenID), URL ya kuingia, mapatano kati ya Okta na programu...

Katika kichupo cha **`Ingia`** kuna uga pia unaitwa **`Fichua Nywila`** ambayo ingemruhusu mtumiaji **kufichua nywila yake** wakati wa kuangalia mipangilio ya programu. Ili kuangalia mipangilio ya programu kutoka Kiolesura cha Mtumiaji, bonyeza alama 3 za mshale:

<figure><img src="../../.gitbook/assets/image (283).png" alt=""><figcaption></figcaption></figure>

Na unaweza kuona maelezo zaidi kuhusu programu (kama kipengele cha kufichua nywila, ikiwa kimeamilishwa):

<figure><img src="../../.gitbook/assets/image (220).png" alt=""><figcaption></figcaption></figure>

## Utawala wa Kitambulisho

### Uhakiki wa Upatikanaji

Tumia Uhakiki wa Upatikanaji kuunda kampeni za ukaguzi wa ukaguzi wa upatikanaji wa watumiaji wako kwa rasilimali kwa kipindi cha wakati na idhinishe au ondoa upatikanaji kiotomatiki unapohitajika.

Sijapata ikitumiwa, lakini nadhani kutoka mtazamo wa ulinzi ni kipengele kizuri.

## Usalama

### Kuu

* **Barua pepe za arifa za usalama**: Zote zinapaswa kuwa zimeamilishwa.
* **Unganisho wa CAPTCHA**: Inapendekezwa kuweka angalau reCaptcha isiyoonekana
* **Usalama wa Shirika**: Kila kitu kinaweza kuwezeshwa na barua pepe za uanzishaji hazipaswi kudumu muda mrefu (siku 7 ni sawa)
* **Kuzuia Uchambuzi wa Mtumiaji**: Vyote viwezeshwe
* Tafadhali kumbuka kuwa Kuzuia Uchambuzi wa Mtumiaji haitoi athari ikiwa hali moja ya hali zifuatazo inaruhusiwa (Angalia [Usimamizi wa Mtumiaji](https://help.okta.com/oie/en-us/Content/Topics/users-groups-profiles/usgp-main.htm) kwa habari zaidi):
* Usajili wa Huduma ya Kujisajili
* Mifumo ya JIT na uthibitishaji wa barua pepe
* **Mipangilio ya Okta ThreatInsight**: Andika na tekeleza usalama kulingana na kiwango cha tishio

### HealthInsight

Hapa inawezekana kupata mipangilio iliyowekwa **sahihi** na **hatari**.

### Wathibitishaji

Hapa unaweza kupata njia zote za uthibitishaji ambazo mtumiaji anaweza kutumia: Nywila, simu, barua pepe, nambari, WebAuthn... Kwa kubonyeza kwenye wathibitishaji wa Nywila unaweza kuona **sera ya nywila**. Hakikisha ni imara.

Kwenye kichupo cha **Usajili** unaweza kuona ni zipi zinazohitajika au zinazopendekezwa:

<figure><img src="../../.gitbook/assets/image (143).png" alt=""><figcaption></figcaption></figure>

Inapendekezwa kuzima Simu. Zile zenye nguvu zaidi ni labda mchanganyiko wa nywila, barua pepe na WebAuthn.

### Sera za Uthibitishaji

Kila programu ina sera ya uthibitishaji. Sera ya uthibitishaji inathibitisha kuwa watumiaji wanaojaribu kuingia kwenye programu wanakidhi hali maalum, na inatekeleza mahitaji ya sababu kulingana na hali hizo.

Hapa unaweza kupata **mahitaji ya kupata kila programu**. Inapendekezwa kuomba angalau nywila na njia nyingine kwa kila programu. Lakini ikiwa kama mshambuliaji unapata kitu dhaifu zaidi unaweza kuishambulia.
### Sera ya Kikao ya Kimataifa

Hapa unaweza kupata sera za kikao zilizopewa vikundi tofauti. Kwa mfano:

<figure><img src="../../.gitbook/assets/image (245).png" alt=""><figcaption></figcaption></figure>

Inashauriwa kuomba MFA, kikao cha muda wa masaa fulani, usihifadhi vidakuzi vya kikao kwenye programu-jalizi za kivinjari na punguza eneo na Mtoa Huduma wa Kitambulisho (ikiwa hii inawezekana). Kwa mfano, ikiwa kila mtumiaji anapaswa kuingia kutoka nchi unaweza kuruhusu eneo hili tu.

### Watoa Huduma wa Kitambulisho

Watoa Huduma wa Kitambulisho (IdPs) ni huduma zinazosimamia akaunti za watumiaji. Kuongeza IdPs katika Okta inawezesha watumiaji wako kujisajili kwenye programu zako za desturi kwa kwanza kuthibitisha kwa akaunti ya kijamii au kadi ya akili.

Kwenye ukurasa wa Watoa Huduma wa Kitambulisho, unaweza kuongeza kuingia kwa kijamii (IdPs) na kusanidi Okta kama mtoa huduma (SP) kwa kuongeza SAML ya kuingia. Baada ya kuongeza IdPs, unaweza kuweka sheria za mwelekeo kuwaongoza watumiaji kwa IdP kulingana na muktadha, kama eneo la mtumiaji, kifaa, au kikoa cha barua pepe.

**Ikiwa mtoa huduma wa kitambulisho wowote umesanidi** kutoka mtazamo wa wachunguzi na walinzi hakikisha unakagua usanidi huo na **ikiwa chanzo ni halisi** kwani mshambuliaji akishambulia kinaweza kupata ufikiaji wa mazingira ya Okta.

### Uthibitishaji Ulioruhusiwa

Uthibitishaji ulioruhusiwa unaruhusu watumiaji kuingia kwenye Okta kwa kuingiza sifa za kuingia kwa seva ya **Active Directory (AD) au LDAP** ya shirika lao.

Tena, hakikisha hili, kwani mshambuliaji akishambulia AD ya shirika anaweza kuweza kufika Okta kupitia mipangilio hii.

### Mtandao

Eneo la mtandao ni mpaka unaoendelea ambao unaweza kutumia kutoa au kuzuia ufikiaji kwa kompyuta na vifaa katika shirika lako kulingana na **anwani ya IP** inayotaka ufikiaji. Unaweza kufafanua eneo la mtandao kwa kufafanua anwani moja au zaidi ya IP, mizunguko ya anwani za IP, au maeneo ya kijiografia.

Baada ya kufafanua eneo la mtandao moja au zaidi, unaweza **kutumia katika Sera za Kikao za Kimataifa**, sera za uthibitishaji, arifa za VPN, na **sheria za mwelekeo**.

Kutoka mtazamo wa mshambuliaji ni muhimu kujua ni Ps zipi zilizoruhusiwa (na kuhakikisha kuwa **IPs fulani zina haki zaidi** kuliko zingine). Kutoka mtazamo wa mshambuliaji, ikiwa watumiaji wanapaswa kupata kutoka kwa anwani ya IP au eneo maalum hakikisha kuwa kipengele hiki kinatumika ipasavyo.

### Ushirikiano wa Vifaa

* **Usimamizi wa Mwisho**: Usimamizi wa mwisho ni hali inayoweza kutumika katika sera ya uthibitishaji kuhakikisha kuwa vifaa vilivyosimamiwa vina ufikiaji wa programu.
* Sijapata hii ikitumiwa bado. TODO
* **Huduma za Arifa**: Sijapata hii ikitumiwa bado. TODO

### API

Unaweza kuunda vibali vya API vya Okta kwenye ukurasa huu, na kuona vile vilivyo **umbwa**, **haki zao**, **muda wa kumalizika** na **URL za Asili**. Kumbuka kuwa vibali vya API vinazalishwa na ruhusa ya mtumiaji aliyeunda kibali na ni halali ikiwa **mtumiaji** aliyewaunda ni **mzima**.

**Asili Zilizoidhinishwa** hukupa ufikiaji kwenye tovuti unazodhibiti na kuziamini kufikia shirika lako la Okta kupitia API ya Okta.

Hapaswi kuwa na vibali vingi vya API, kwani ikiwa kuna mshambuliaji anaweza kujaribu kufikia na kuvitumia.

## Mchakato

### Utoaji wa Kiotomatiki

Utoaji wa kiotomatiki unakuruhusu kuunda vitendo vilivyotumika kiotomatiki kulingana na seti ya hali ya kichocheo kinachotokea wakati wa mzunguko wa watumiaji wa mwisho.

Kwa mfano hali inaweza kuwa "Kutoweza kwa mtumiaji kwenye Okta" au "Muda wa nywila ya mtumiaji unakaribia kumalizika kwenye Okta" na kitendo kinaweza kuwa "Tuma barua pepe kwa mtumiaji" au "Badilisha hali ya mzunguko wa mtumiaji kwenye Okta".

## Ripoti

### Ripoti

Pakua magogo. **Hutumwa** kwa **anwani ya barua pepe** ya akaunti ya sasa.

### Kumbukumbu ya Mfumo

Hapa unaweza kupata **magogo ya vitendo vilivyofanywa na watumiaji** na maelezo mengi kama kuingia kwenye Okta au kwenye programu kupitia Okta.

### Ufuatiliaji wa Uingizaji

Hii inaweza **kuingiza magogo kutoka kwenye majukwaa mengine** yaliyofikiwa na Okta.

### Kikomo cha Viwango

Angalia viwango vya kikomo cha API vilivyofikiwa.

## Vipimo

### Akaunti

Hapa unaweza kupata **habari za jumla** kuhusu mazingira ya Okta, kama jina la kampuni, anwani, **mawasiliano ya malipo ya barua pepe**, **mawasiliano ya kiufundi ya barua pepe** na pia ni nani anayepaswa kupokea sasisho za Okta na aina gani ya sasisho za Okta.

### Pakua

Hapa unaweza kupakua mawakala wa Okta kusawazisha Okta na teknolojia zingine.
