# 基本的なGitea情報

<details>

<summary><strong>Support HackTricksと特典を受け取る！</strong></summary>

- HackTricksで**会社を宣伝**したい場合や、**PEASSの最新バージョンを入手**したい場合、またはHackTricksをPDFでダウンロードしたい場合は、[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！
- [**公式PEASS＆HackTricksのグッズ**](https://peass.creator-spring.com)を手に入れましょう
- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を見つけて、独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションを見つけましょう
- 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**Telegramグループ**](https://t.me/peass)に参加するか、**Twitter**で私をフォローする🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)
- **ハッキングのトリックを共有する**ために、[**HackTricks**](https://github.com/carlospolop/hacktricks)と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のGitHubリポジトリにPRを提出してください。

</details>

## 基本的な構造

基本的なGiteaの環境構造は、**組織**ごとにリポジトリをグループ化し、それぞれに**複数のリポジトリ**と**複数のチーム**が含まれることです。ただし、GitHubと同様に、ユーザーは組織外のリポジトリを持つことができます。

さらに、**ユーザー**は**異なる組織のメンバー**になることができます。組織内では、ユーザーは各リポジトリに対して**異なる権限**を持つことができます。

ユーザーはまた、異なるチームの一部となり、異なるリポジトリに対して異なる権限を持つことができます。

最後に、**リポジトリには特別な保護メカニズムが存在する**場合があります。

## 権限

### 組織

**組織が作成されると**、**Owners**というチームが**作成**され、ユーザーがその中に配置されます。このチームは、**組織**に対する**管理アクセス**、**権限**、およびチームの**名前**を与えます。これらの**権限**と**チームの名前**は**変更できません**。

**組織の管理者**（所有者）は、組織の**可視性**を選択できます：

- 公開
- 制限（ログインユーザーのみ）
- プライベート（メンバーのみ）

**組織の管理者**はまた、**リポジトリの管理者**が**チームにアクセスを追加または削除**できるかどうかを示すこともできます。また、リポジトリの最大数を指定することもできます。

新しいチームを作成する際には、いくつかの重要な設定が選択されます：

- チームのメンバーがアクセスできる**組織のリポジトリ**が指定されます：特定のリポジトリ（チームが追加されているリポジトリ）またはすべてのリポジトリ。
- メンバーが新しいリポジトリを作成できるかどうかが指定されます（作成者はそれに管理者アクセスを取得します）
- リポジトリのメンバーが持つ**権限**が指定されます：
- **管理者**アクセス
- **特定**のアクセス：

![](<../../.gitbook/assets/image (3) (1) (1) (1) (1).png>)

### チームとユーザー

リポジトリでは、**組織の管理者**および**リポジトリの管理者**（組織によって許可されている場合）が、共同作業者（他のユーザー）およびチームに与えられる**役割**を管理できます。3つの可能な**役割**があります：

- 管理者
- 書き込み
- 読み取り

## Gitea認証

### Webアクセス

**ユーザー名+パスワード**と（推奨される）2FAを使用します。

### **SSHキー**

関連する**秘密キーがあなたの代わりにアクションを実行**できるように、アカウントを1つまたは複数の公開キーで構成できます。[http://localhost:3000/user/settings/keys](http://localhost:3000/user/settings/keys)

#### **GPGキー**

これらのキーでユーザーをなりすますことはできませんが、使用しない場合、署名のないコミットを送信したことが検出される可能性があります。

### **パーソナルアクセストークン**

パーソナルアクセストークンを生成して、アプリケーションがアカウントにアクセスできるようにすることができます。パーソナルアクセストークンはアカウント全体に完全なアクセス権を与えます：[http://localhost:3000/user/settings/applications](http://localhost:3000/user/settings/applications)

### Oauthアプリケーション

パーソナルアクセストークンと同様に、**Oauthアプリケーション**はアカウント全体とアカウントがアクセスできる場所に**完全なアクセス権**を持ちます。なぜなら、[ドキュメント](https://docs.gitea.io/en-us/oauth2-provider/#scopes)で示されているように、スコープはまだサポートされていないためです。

![](<../../.gitbook/assets/image (60).png>)

### デプロイキー

デプロイキーは、リポジトリに対して読み取り専用または書き込みアクセス権限を持つ場合がありますので、特定のリポジトリを侵害するために興味深いかもしれません。

## ブランチの保護

ブランチの保護は、ユーザーにリポジトリの完全な制御権限を与えないように設計されています。目標は、**一部のブランチにコードを書く前に、いくつかの保護方法を設けること**です。

リポジトリの**ブランチ保護**は、_https://localhost:3000/\<orgname>/\<reponame>/settings/branches_で見つけることができます。

{% hint style="info" %}
**組織レベルでブランチの保護を設定することはできません**。したがって、それらはすべてのリポジトリで宣言する必要があります。
{% endhint %}

ブランチにはさまざまな保護が適用できます（たとえば、masterに対して）：

- **プッシュの無効化**：誰もこのブランチに
