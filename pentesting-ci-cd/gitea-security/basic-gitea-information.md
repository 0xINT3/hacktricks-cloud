# Grundlegende Gitea-Informationen

<details>

<summary><strong>Erlernen Sie AWS-Hacking von Grund auf mit</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Andere M√∂glichkeiten, HackTricks zu unterst√ºtzen:

* Wenn Sie Ihr **Unternehmen in HackTricks beworben sehen m√∂chten** oder **HackTricks im PDF-Format herunterladen m√∂chten**, √ºberpr√ºfen Sie die [**ABONNEMENTPL√ÑNE**](https://github.com/sponsors/carlospolop)!
* Holen Sie sich das [**offizielle PEASS & HackTricks-Merchandise**](https://peass.creator-spring.com)
* Entdecken Sie [**The PEASS Family**](https://opensea.io/collection/the-peass-family), unsere Sammlung exklusiver [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Teilen Sie Ihre Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repositorys einreichen.

</details>

## Grundstruktur

Die grundlegende Gitea-Umgebungsstruktur besteht darin, Repos nach **Organisation(en)** zu gruppieren, von denen jede **mehrere Repositories** und **mehrere Teams** enthalten kann. Beachten Sie jedoch, dass Benutzer wie bei GitHub Repos au√üerhalb der Organisation haben k√∂nnen.

Dar√ºber hinaus kann ein **Benutzer** Mitglied verschiedener **Organisationen** sein. Innerhalb der Organisation kann der Benutzer **unterschiedliche Berechtigungen f√ºr jedes Repository** haben.

Ein Benutzer kann auch **Teil verschiedener Teams** sein, die unterschiedliche Berechtigungen f√ºr verschiedene Repos haben.

Und schlie√ülich k√∂nnen **Repositories spezielle Schutzmechanismen** haben.

## Berechtigungen

### Organisationen

Wenn eine **Organisation erstellt wird**, wird ein Team namens **Besitzer** **erstellt** und der Benutzer wird darin platziert. Dieses Team gew√§hrt **Admin-Zugriff** auf die **Organisation**, diese **Berechtigungen** und der **Name** des Teams **k√∂nnen nicht ge√§ndert werden**.

**Org-Admins** (Besitzer) k√∂nnen die **Sichtbarkeit** der Organisation ausw√§hlen:

* √ñffentlich
* Eingeschr√§nkt (nur angemeldete Benutzer)
* Privat (nur Mitglieder)

**Org-Admins** k√∂nnen auch angeben, ob die **Repo-Admins** den **Zugriff f√ºr Teams hinzuf√ºgen und entfernen** k√∂nnen. Sie k√∂nnen auch die maximale Anzahl von Repos angeben.

Beim Erstellen eines neuen Teams werden mehrere wichtige Einstellungen ausgew√§hlt:

* Es wird angegeben, auf welche **Repos der Organisation die Mitglieder des Teams zugreifen k√∂nnen**: bestimmte Repos (Repos, in denen das Team hinzugef√ºgt ist) oder alle.
* Es wird auch angegeben, **ob Mitglieder neue Repos erstellen k√∂nnen** (der Ersteller erh√§lt Admin-Zugriff darauf)
* Die **Berechtigungen**, die die **Mitglieder** des Repos haben werden:
* **Administrator**-Zugriff
* **Spezifischer** Zugriff:

![](<../../.gitbook/assets/image (3) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png>)

### Teams & Benutzer

In einem Repo k√∂nnen der **Org-Admin** und die **Repo-Admins** (falls von der Org erlaubt) die den Kollaborateuren (anderen Benutzern) und Teams gegebenen Rollen verwalten. Es gibt **3** m√∂gliche **Rollen**:

* Administrator
* Schreiben
* Lesen

## Gitea-Authentifizierung

### Webzugriff

Verwendung von **Benutzername + Passwort** und m√∂glicherweise (und empfohlen) einer 2FA.

### **SSH-Schl√ºssel**

Sie k√∂nnen Ihr Konto mit einem oder mehreren √∂ffentlichen Schl√ºsseln konfigurieren, die dem entsprechenden **privaten Schl√ºssel erm√∂glichen, Aktionen in Ihrem Namen auszuf√ºhren**. [http://localhost:3000/user/settings/keys](http://localhost:3000/user/settings/keys)

#### **GPG-Schl√ºssel**

Sie **k√∂nnen den Benutzer nicht mit diesen Schl√ºsseln imitieren**, aber wenn Sie es nicht verwenden, k√∂nnte es m√∂glich sein, dass Sie **entdeckt werden, wenn Sie Commits ohne Signatur senden**.

### **Pers√∂nliche Zugriffstoken**

Sie k√∂nnen pers√∂nliche Zugriffstoken generieren, um einer Anwendung Zugriff auf Ihr Konto zu geben. Ein pers√∂nliches Zugriffstoken gew√§hrt vollen Zugriff auf Ihr Konto: [http://localhost:3000/user/settings/applications](http://localhost:3000/user/settings/applications)

### Oauth-Anwendungen

Genau wie pers√∂nliche Zugriffstoken haben **Oauth-Anwendungen** **vollen Zugriff** auf Ihr Konto und die Orte, auf die Ihr Konto Zugriff hat, da, wie in den [Dokumenten](https://docs.gitea.io/en-us/oauth2-provider/#scopes) angegeben, Scopes noch nicht unterst√ºtzt werden:

![](<../../.gitbook/assets/image (60).png>)

### Bereitstellungsschl√ºssel

Bereitstellungsschl√ºssel k√∂nnen Lese- oder Schreibzugriff auf das Repo haben, daher k√∂nnen sie interessant sein, um bestimmte Repos zu kompromittieren.

## Branch-Schutz

Branch-Schutzmechanismen sind so konzipiert, dass sie den Benutzern **keine vollst√§ndige Kontrolle √ºber ein Repository** geben. Das Ziel ist es, **mehrere Schutzmethoden zu implementieren, bevor Code in einen bestimmten Branch geschrieben werden kann**.

Die **Branch-Schutzmechanismen eines Repositories** finden Sie unter _https://localhost:3000/\<orgname>/\<reponame>/settings/branches_

{% hint style="info" %}
Es ist **nicht m√∂glich, einen Branch-Schutz auf Organisationsebene festzulegen**. Daher m√ºssen alle auf jedem Repo deklariert werden.
{% endhint %}

Es k√∂nnen verschiedene Schutzma√ünahmen auf einen Branch angewendet werden (z. B. auf master):

* **Push deaktivieren**: Niemand kann in diesen Branch pushen
* **Push aktivieren**: Jeder mit Zugriff kann pushen, aber nicht force push.
* **Whitelist f√ºr eingeschr√§nkten Push**: Nur ausgew√§hlte Benutzer/Teams k√∂nnen in diesen Branch pushen (aber kein force push)
* **Whitelist f√ºr Merge aktivieren**: Nur whitelisted Benutzer/Teams k√∂nnen PRs mergen.
* **Statuspr√ºfungen aktivieren**: Erfordern, dass Statuspr√ºfungen bestanden werden, bevor gemerged wird.
* **Genehmigungen erforderlich**: Anzahl der erforderlichen Genehmigungen vor dem Mergen eines PRs angeben.
* **Genehmigungen auf Whitelist beschr√§nken**: Benutzer/Teams angeben, die PRs genehmigen k√∂nnen.
* **Mergen blockieren bei abgelehnten Reviews**: Wenn √Ñnderungen angefordert werden, kann es nicht gemerged werden (auch wenn die anderen Pr√ºfungen bestanden sind)
* **Mergen blockieren bei offiziellen Review-Anfragen**: Wenn offizielle Review-Anfragen vorliegen, kann nicht gemerged werden
* **Abgelaufene Genehmigungen abweisen**: Bei neuen Commits werden alte Genehmigungen abgelehnt.
* **Signierte Commits erforderlich**: Commits m√ºssen signiert sein.
* **Mergen blockieren, wenn Pull-Request veraltet ist**
* **Gesch√ºtzte/ungesch√ºtzte Dateimuster**: Muster von Dateien angeben, die gegen √Ñnderungen gesch√ºtzt/ungesch√ºtzt werden sollen

{% hint style="info" %}
Wie Sie sehen k√∂nnen, selbst wenn es Ihnen gelungen ist, die Anmeldeinformationen eines Benutzers zu erhalten, **k√∂nnen Repos gesch√ºtzt sein und verhindern, dass Sie Code in den Master pushen**, um beispielsweise die CI/CD-Pipeline zu kompromittieren.
{% endhint %}

<details>

<summary><strong>Erlernen Sie AWS-Hacking von Grund auf mit</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Andere M√∂glichkeiten, HackTricks zu unterst√ºtzen:

* Wenn Sie Ihr **Unternehmen in HackTricks beworben sehen m√∂chten** oder **HackTricks im PDF-Format herunterladen m√∂chten**, √ºberpr√ºfen Sie die [**ABONNEMENTPL√ÑNE**](https://github.com/sponsors/carlospolop)!
* Holen Sie sich das [**offizielle PEASS & HackTricks-Merchandise**](https://peass.creator-spring.com)
* Entdecken Sie [**The PEASS Family**](https://opensea.io/collection/the-peass-family), unsere Sammlung exklusiver [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Teilen Sie Ihre Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repositorys einreichen.

</details>
