# Osnovne informacije o Gitei

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **vašu kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

## Osnovna struktura

Osnovna struktura Gitea okruženja je grupisanje repozitorijuma po **organizacijama**, pri čemu svaka organizacija može sadržati **više repozitorijuma** i **više timova**. Međutim, treba napomenuti da korisnici, kao i na github-u, mogu imati repozitorijume van organizacije.

Osim toga, **korisnik** može biti **član** **različitih organizacija**. Unutar organizacije, korisnik može imati **različite dozvole za svaki repozitorijum**.

Korisnik takođe može biti **deo različitih timova** sa različitim dozvolama za različite repozitorijume.

I na kraju, **repozitorijumi mogu imati posebne mehanizme zaštite**.

## Dozvole

### Organizacije

Kada se **kreira organizacija**, tim pod nazivom **Owners** se **kreira** i korisnik se stavlja unutar njega. Ovaj tim će dati **admin pristup** nad **organizacijom**, te **dozvole** i **ime** tima **ne mogu biti izmenjeni**.

**Org admini** (vlasnici) mogu odabrati **vidljivost** organizacije:

* Javno
* Ograničeno (samo prijavljeni korisnici)
* Privatno (samo članovi)

**Org admini** takođe mogu naznačiti da li **repo admini** mogu **dodavati i/ili uklanjati pristup** timovima. Takođe mogu naznačiti maksimalan broj repozitorijuma.

Prilikom kreiranja novog tima, biraju se nekoliko važnih podešavanja:

* Naznačava se **repozitorijumi organizacije kojima će članovi tima moći pristupiti**: određeni repozitorijumi (repozitorijumi gde je tim dodat) ili svi.
* Takođe se naznačava da li članovi mogu kreirati nove repozitorijume (kreator će dobiti admin pristup).
* **Dozvole** koje će **članovi** repozitorijuma **imati**:
* **Administrator** pristup
* **Specifičan** pristup:

![](<../../.gitbook/assets/image (3) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png>)

### Timovi i korisnici

U repozitorijumu, **org admin** i **repo admini** (ako je dozvoljeno od strane org) mogu **upravljati ulogama** dodeljenim saradnicima (ostalim korisnicima) i timovima. Postoje **3** moguće **uloge**:

* Administrator
* Pisanje
* Čitanje

## Gitea autentifikacija

### Web pristup

Korišćenjem **korisničkog imena + lozinke** i potencijalno (i preporučljivo) 2FA.

### **SSH ključevi**

Možete konfigurisati svoj nalog sa jednim ili više javnih ključeva koji omogućavaju povezani **privatni ključ da izvršava radnje u vaše ime**. [http://localhost:3000/user/settings/keys](http://localhost:3000/user/settings/keys)

#### **GPG ključevi**

Sa ovim ključevima **ne možete se predstavljati kao korisnik**, ali ako ih ne koristite, moguće je da **budete otkriveni zbog slanja commit-ova bez potpisa**.

### **Lični pristupni tokeni**

Možete generisati lični pristupni token da **dodelite aplikaciji pristup vašem nalogu**. Lični pristupni token omogućava potpuni pristup vašem nalogu: [http://localhost:3000/user/settings/applications](http://localhost:3000/user/settings/applications)

### Oauth aplikacije

Kao i lični pristupni tokeni, **Oauth aplikacije** će imati **potpuni pristup** vašem nalogu i mestima na kojima vaš nalog ima pristup, jer, kako je naznačeno u [dokumentaciji](https://docs.gitea.io/en-us/oauth2-provider/#scopes), opsezi još uvek nisu podržani:

![](<../../.gitbook/assets/image (60).png>)

### Deploy ključevi

Deploy ključevi mogu imati samo čitanje ili i pisanje pristup repozitorijumu, pa mogu biti interesantni za kompromitovanje određenih repozitorijuma.

## Zaštita grana

Zaštita grana je dizajnirana tako da **ne daje potpunu kontrolu nad repozitorijumom** korisnicima. Cilj je da se **postave razne metode zaštite pre nego što se može pisati kod u nekoj grani**.

**Zaštita grana repozitorijuma** se može pronaći na _https://localhost:3000/\<orgname>/\<reponame>/settings/branches_

{% hint style="info" %}
Nije **moguće postaviti zaštitu grane na nivou organizacije**. Stoga, sve zaštite moraju biti deklarisane na svakom repozitorijumu.
{% endhint %}

Različite zaštite mogu se primeniti na granu (kao na master):

* **Onemogući Push**: Niko ne može push-ovati u ovu granu
* **Omogući Push**: Svako sa pristupom može push-ovati, ali ne i force push.
* **Whitelist ograničen Push**: Samo odabrani korisnici/timovi mogu push-ovati u ovu granu (ali ne i force push)
* **Omogući Whitelist Merge**: Samo korisnici/timovi sa whitelist-e mogu merge-ovati PR-ove.
* **Omogući provere statusa**: Zahteva da provere statusa prođu pre spajanja.
* **Zahtevaj odobrenja**: Označava broj odobrenja potrebnih pre spajanja PR-a.
* **Ograniči odobrenja na whitelist-u**: Označava korisnike/timove koji mogu odobriti PR-ove.
* **Blokiraj merge na odbijenim pregledima**: Ako se zahtevaju izmene, ne može se spojiti (čak i ako ostale provere prođu)
* **Blokiraj merge na zvaničnim
