# 기본 Gitea 정보

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>를 통해 AWS 해킹을 처음부터 전문가까지 배워보세요<strong>!</strong></summary>

HackTricks를 지원하는 다른 방법:

* HackTricks에서 **회사 광고를 보거나 HackTricks를 PDF로 다운로드**하려면 [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)를 확인하세요!
* [**공식 PEASS & HackTricks 스웨그**](https://peass.creator-spring.com)를 얻으세요.
* 독점적인 [**NFT**](https://opensea.io/collection/the-peass-family) 컬렉션인 [**The PEASS Family**](https://opensea.io/collection/the-peass-family)를 발견하세요.
* 💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f) 또는 [**텔레그램 그룹**](https://t.me/peass)에 **참여**하거나 **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)를 **팔로우**하세요.
* **HackTricks**와 **HackTricks Cloud** github 저장소에 PR을 제출하여 **해킹 트릭을 공유**하세요.

</details>

## 기본 구조

기본 Gitea 환경 구조는 **조직, 각각의 조직에는 여러 저장소와 여러 팀**이 포함될 수 있습니다. 그러나 github와 마찬가지로 사용자는 조직 외부에 저장소를 가질 수 있습니다.

또한 **사용자**는 **다른 조직의 구성원**이 될 수 있습니다. 조직 내에서 사용자는 각 저장소에 대해 **다른 권한**을 가질 수 있습니다.

사용자는 또한 다른 팀의 일원이 되어 다른 저장소에 대한 다른 권한을 가질 수 있습니다.

마지막으로 **저장소에는 특별한 보호 메커니즘**이 있을 수 있습니다.

## 권한

### 조직

**조직이 생성**되면 **Owners**라는 팀이 **생성**되고 사용자가 그 안에 넣어집니다. 이 팀은 **조직에 대한 관리자 액세스**를 제공하며, 이 **권한**과 팀의 **이름**은 **수정할 수 없습니다**.

**조직 관리자**(소유자)는 조직의 **가시성**을 선택할 수 있습니다:

* 공개
* 제한된(로그인한 사용자만)
* 비공개(구성원만)

**조직 관리자**는 또한 **저장소 관리자**가 팀에 대한 액세스를 **추가하거나 제거**할 수 있는지 여부를 나타낼 수 있습니다. 또한 최대 저장소 수를 지정할 수 있습니다.

새로운 팀을 생성할 때, 여러 가지 중요한 설정이 선택됩니다:

* 팀의 구성원이 액세스할 수 있는 **조직의 저장소**가 지정됩니다: 특정 저장소(팀이 추가된 저장소) 또는 모든 저장소.
* 구성원이 새로운 저장소를 생성할 수 있는지 여부도 지정됩니다(생성자는 해당 저장소에 관리자 액세스를 받게 됩니다).
* 저장소의 구성원이 가질 **권한**이 지정됩니다:
* **관리자** 액세스
* **특정** 액세스:

![](<../../.gitbook/assets/image (3) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png>)

### 팀 및 사용자

저장소에서 **조직 관리자**와 **저장소 관리자**(조직에서 허용된 경우)는 협력자(다른 사용자)와 팀에 부여된 **역할**을 **관리**할 수 있습니다. 가능한 **3가지 역할**이 있습니다:

* 관리자
* 쓰기
* 읽기

## Gitea 인증

### 웹 액세스

**사용자 이름 + 비밀번호** 및 (권장되는) 2FA를 사용합니다.

### **SSH 키**

관련 **개인 키가 대신하여 작업을 수행**할 수 있도록 계정을 구성할 수 있습니다. [http://localhost:3000/user/settings/keys](http://localhost:3000/user/settings/keys)

#### **GPG 키**

이 키로 사용자를 **가장할 수는 없지만**, 사용하지 않으면 커밋을 서명하지 않고 커밋을 보낼 수 있으므로 커밋을 보내는 것으로 발견될 수 있습니다.

### **개인 액세스 토큰**

개인 액세스 토큰을 생성하여 **응용 프로그램이 계정에 액세스**할 수 있도록 할 수 있습니다. 개인 액세스 토큰은 계정에 대한 완전한 액세스 권한을 제공합니다: [http://localhost:3000/user/settings/applications](http://localhost:3000/user/settings/applications)

### Oauth 애플리케이션

개인 액세스 토큰과 마찬가지로 **Oauth 애플리케이션**은 계정과 계정이 액세스하는 위치에 대해 **완전한 액세스**를 갖게 됩니다. 왜냐하면 [문서](https://docs.gitea.io/en-us/oauth2-provider/#scopes)에서 언급되듯이 스코프는 아직 지원되지 않기 때문입니다:

![](<../../.gitbook/assets/image (60).png>)

### 배포 키

배포 키는 읽기 전용 또는 쓰기 액세스를 저장소에 부여할 수 있으므로 특정 저장소를 침해하는 데 흥미로울 수 있습니다.

## 브랜치 보호

브랜치 보호는 사용자에게 **저장소의 완전한 제어권을 부여하지 않도록 설계**되었습니다. 목표는 **일부 브랜치에 코드를 작성하기 전에 여러 보호 방법을 두는 것**입니다.

**저장소의 브랜치 보호**는 _https://localhost:3000/\<orgname>/\<reponame>/settings/branches_에서 찾을 수 있습니다.

{% hint style="info" %}
**조직 수준에서 브랜치 보호를 설정할 수 없습니다**. 따라서 모든 브랜치 보호는 각 저장소에서 선언되어야 합니다.
{% endhint %}

브랜치에 다양한 보호 기능을 적용할 수 있습니다(예: master):

* **푸시 비활성화**: 아무도 이 브랜치에 푸시할 수 없습니다.
* **푸시 활성화**: 액세스 권한이 있는 모든 사람이 푸시할 수 있지만, 강제 푸시는 불가능합니다.
* **푸시 제한된 화이트리스트**: 선택된 사용자/팀만 이 브랜치에 푸시할 수 있습니다(강제 푸시는 불가능합니다).
* **병합 화이트리스트 활성화**: 화이트리스트에 등록된 사용자/팀만 PR을 병합할 수 있습니다.
* **상태 확인 활성화**: 병합하기 전에 상태 확인이 통과되어야 합니다.
* **승인 필요**: PR을 병합하기 전에 필요한 승인 수를 지정합니다.
* **승인 제한 화이트리스트**: PR을 승인할 수 있는 사용자/팀을 지정합니다.
