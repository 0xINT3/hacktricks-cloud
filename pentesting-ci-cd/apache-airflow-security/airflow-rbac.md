# Airflow RBAC

<details>

<summary><strong>通过</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>从零开始学习AWS黑客攻击！</strong></summary>

支持HackTricks的其他方式：

* 如果您想在**HackTricks中看到您的公司广告**或**下载HackTricks的PDF**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方的PEASS & HackTricks商品**](https://peass.creator-spring.com)
* 探索[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们独家的[**NFTs系列**](https://opensea.io/collection/the-peass-family)
* **加入** 💬 [**Discord群组**](https://discord.gg/hRep4RUj7f) 或 [**telegram群组**](https://t.me/peass) 或在 **Twitter** 🐦 上**关注**我 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**。**
* **通过向** [**HackTricks**](https://github.com/carlospolop/hacktricks) 和 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库提交PR来分享您的黑客技巧。

</details>

## RBAC

(来自文档)[https://airflow.apache.org/docs/apache-airflow/stable/security/access-control.html]：Airflow默认提供一套角色：**Admin**、**User**、**Op**、**Viewer** 和 **Public**。**只有`Admin`**用户能够**配置/更改其他角色的权限**。但不建议`Admin`用户通过移除或添加权限来以任何方式更改这些默认角色。

* **`Admin`** 用户拥有所有可能的权限。
* **`Public`** 用户（匿名）没有任何权限。
* **`Viewer`** 用户拥有有限的查看权限（仅读取）。**无法查看配置。**
* **`User`** 用户拥有`Viewer`权限加上额外的用户权限，允许他稍微管理DAGs。他**可以查看配置文件**
* **`Op`** 用户拥有`User`权限加上额外的操作权限。

请注意，**admin** 用户可以**创建更多角色**，拥有更**细粒度的权限**。

还请注意，默认角色中只有**Admin有权限列出用户和角色，即使是Op也无法做到**。

### 默认权限

以下是每个默认角色的默认权限：

* **Admin**

\[可以删除Connections, 可以读取Connections, 可以编辑Connections, 可以创建Connections, 可以读取DAGs, 可以编辑DAGs, 可以删除DAGs, 可以读取DAG Runs, 可以读取Task Instances, 可以编辑Task Instances, 可以删除DAG Runs, 可以创建DAG Runs, 可以编辑DAG Runs, 可以读取Audit Logs, 可以读取ImportError, 可以删除Pools, 可以读取Pools, 可以编辑Pools, 可以创建Pools, 可以读取Providers, 可以删除Variables, 可以读取Variables, 可以编辑Variables, 可以创建Variables, 可以读取XComs, 可以读取DAG Code, 可以读取Configurations, 可以读取Plugins, 可以读取Roles, 可以读取Permissions, 可以删除Roles, 可以编辑Roles, 可以创建Roles, 可以读取Users, 可以创建Users, 可以编辑Users, 可以删除Users, 可以读取DAG Dependencies, 可以读取Jobs, 可以读取My Password, 可以编辑My Password, 可以读取My Profile, 可以编辑My Profile, 可以读取SLA Misses, 可以读取Task Logs, 可以读取Website, 菜单访问Browse, 菜单访问DAG Dependencies, 菜单访问DAG Runs, 菜单访问Documentation, 菜单访问Docs, 菜单访问Jobs, 菜单访问Audit Logs, 菜单访问Plugins, 菜单访问SLA Misses, 菜单访问Task Instances, 可以创建Task Instances, 可以删除Task Instances, 菜单访问Admin, 菜单访问Configurations, 菜单访问Connections, 菜单访问Pools, 菜单访问Variables, 菜单访问XComs, 可以删除XComs, 可以读取Task Reschedules, 菜单访问Task Reschedules, 可以读取Triggers, 菜单访问Triggers, 可以读取Passwords, 可以编辑Passwords, 菜单访问List Users, 菜单访问Security, 菜单访问List Roles, 可以读取User Stats Chart, 菜单访问User's Statistics, 菜单访问Base Permissions, 可以读取View Menus, 菜单访问Views/Menus, 可以读取Permission Views, 菜单访问Permission on Views/Menus, 可以获取MenuApi, 菜单访问Providers, 可以创建XComs]

* **Op**

\[可以删除Connections, 可以读取Connections, 可以编辑Connections, 可以创建Connections, 可以读取DAGs, 可以编辑DAGs, 可以删除DAGs, 可以读取DAG Runs, 可以读取Task Instances, 可以编辑Task Instances, 可以删除DAG Runs, 可以创建DAG Runs, 可以编辑DAG Runs, 可以读取Audit Logs, 可以读取ImportError, 可以删除Pools, 可以读取Pools, 可以编辑Pools, 可以创建Pools, 可以读取Providers, 可以删除Variables, 可以读取Variables, 可以编辑Variables, 可以创建Variables, 可以读取XComs, 可以读取DAG Code, 可以读取Configurations, 可以读取Plugins, 可以读取DAG Dependencies, 可以读取Jobs, 可以读取My Password, 可以编辑My Password, 可以读取My Profile, 可以编辑My Profile, 可以读取SLA Misses, 可以读取Task Logs, 可以读取Website, 菜单访问Browse, 菜单访问DAG Dependencies, 菜单访问DAG Runs, 菜单访问Documentation, 菜单访问Docs, 菜单访问Jobs, 菜单访问Audit Logs, 菜单访问Plugins, 菜单访问SLA Misses, 菜单访问Task Instances, 可以创建Task Instances, 可以删除Task Instances, 菜单访问Admin, 菜单访问Configurations, 菜单访问Connections, 菜单访问Pools, 菜单访问Variables, 菜单访问XComs, 可以删除XComs]

* **User**

\[可以读取DAGs, 可以编辑DAGs, 可以删除DAGs, 可以读取DAG Runs, 可以读取Task Instances, 可以编辑Task Instances, 可以删除DAG Runs, 可以创建DAG Runs, 可以编辑DAG Runs, 可以读取Audit Logs, 可以读取ImportError, 可以读取XComs, 可以读取DAG Code, 可以读取Plugins, 可以读取DAG Dependencies, 可以读取Jobs, 可以读取My Password, 可以编辑My Password, 可以读取My Profile, 可以编辑My Profile, 可以读取SLA Misses, 可以读取Task Logs, 可以读取Website, 菜单访问Browse, 菜单访问DAG Dependencies, 菜单访问DAG Runs, 菜单访问Documentation, 菜单访问Docs, 菜单访问Jobs, 菜单访问Audit Logs, 菜单访问Plugins, 菜单访问SLA Misses, 菜单访问Task Instances, 可以创建Task Instances, 可以删除Task Instances]

* **Viewer**

\[可以读取DAGs, 可以读取DAG Runs, 可以读取Task Instances, 可以读取Audit Logs, 可以读取ImportError, 可以读取XComs, 可以读取DAG Code, 可以读取Plugins, 可以读取DAG Dependencies, 可以读取Jobs, 可以读取My Password, 可以编辑My Password, 可以读取My Profile, 可以编辑My Profile, 可以读取SLA Misses, 可以读取Task Logs, 可以读取Website, 菜单访问Browse, 菜单访问DAG Dependencies, 菜单访问DAG Runs, 菜单访问Documentation, 菜单访问Docs, 菜单访问Jobs, 菜单访问Audit Logs, 菜单访问Plugins, 菜单访问SLA Misses, 菜单访问Task Instances]

* **Public**

\[]

<details>

<summary><strong>通过</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>从零开始学习AWS黑客攻击！</strong></summary>

支持HackTricks的其他方式：

* 如果您想在**HackTricks中看到您的公司广告**或**下载HackTricks的PDF**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方的PEASS & HackTricks商品**](https://peass.creator-spring.com)
* 探索[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们独家的[**NFTs系列**](https://opensea.io/collection/the-peass-family)
* **加入** 💬 [**Discord群组**](https://discord.gg/hRep4RUj7f) 或 [**telegram群组**](https://t.me/peass) 或在 **Twitter** 🐦 上**关注**我 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**。**
* **通过向** [**HackTricks**](https://github.com/carlospolop/hacktricks) 和 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库提交PR来分享您的黑客技巧。

</details>
