# Airflow Configuration

<details>

<summary><strong>рдмрдврд╝рд┐рдпрд╛ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ рдФрд░ рд▓рд╛рдн рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ!</strong></summary>

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд** рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ рдпрджрд┐ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб** рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ рд╕рдВрдЧреНрд░рд╣ [**NFTs**](https://opensea.io/collection/the-peass-family)
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm)** рдХрд╛** **рдЕрдиреБрд╕рд░рдг** рдХрд░реЗрдВред**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рдХреЛ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВ PR рдЬрдорд╛ рдХрд░рдХреЗ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред

</details>

## Configuration File

**Apache Airflow** рд╕рднреА airflow рдорд╢реАрдиреЛрдВ рдореЗрдВ рдПрдХ **рдХреЙрдиреНрдлрд╝рд┐рдЧ рдлрд╝рд╛рдЗрд▓** рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдирд╛рдо рд╣реЛрддрд╛ рд╣реИ **`airflow.cfg`** рдФрд░ рдпрд╣ airflow рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╣реЛрдо рдореЗрдВ рд╕реНрдерд┐рдд рд╣реЛрддрд╛ рд╣реИред рдпрд╣ рдХреЙрдиреНрдлрд╝рд┐рдЧ рдлрд╝рд╛рдЗрд▓ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ **рд░реЛрдЪрдХ рдФрд░ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА** рднреА рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИред

**рдЗрд╕ рдлрд╝рд╛рдЗрд▓ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рджреЛ рддрд░реАрдХреЗ рд╣реИрдВ: рдХрд┐рд╕реА airflow рдорд╢реАрди рдХреЛ рдХрдВрдкреНрд░реЛрдорд╛рдЗрдЬрд╝ рдХрд░рдХреЗ рдпрд╛ рд╡реЗрдм рдХрдВрд╕реЛрд▓ рдореЗрдВ рдкрд╣реБрдВрдЪ рдХрд░рдХреЗред**

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдХреЙрдиреНрдлрд╝рд┐рдЧ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ **рдореМрдЬреВрдж рдорд╛рди** рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдорд╛рди рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рдЖрдк рдЗрдиреНрд╣реЗрдВ `AIRFLOW__WEBSERVER__EXPOSE_CONFIG: 'true'` рдЬреИрд╕реЗ env variables рд╕реЗрдЯ рдХрд░рдХреЗ рдУрд╡рд░рд░рд╛рдЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ **рд╡реЗрдм рд╕рд░реНрд╡рд░ рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧ рдлрд╝рд╛рдЗрд▓ рддрдХ рдкрд╣реБрдВрдЪ рд╣реИ**, рддреЛ рдЖрдк рдХреЙрдиреНрдлрд╝рд┐рдЧ рджрд┐рдЦрд╛рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдкреГрд╖реНрда рдореЗрдВ **рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЪрд▓ рд░рд╣реА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди** рдХреА рдЬрд╛рдВрдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред\
рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ **airflow env рдХреЗ рдЕрдВрджрд░ рдХреА рдХреБрдЫ рдорд╢реАрди рддрдХ рдкрд╣реБрдВрдЪ рд╣реИ**, рддреЛ рдЖрдк **рдкрд░реНрдпрд╛рд╡рд░рдг** рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВред

рдХреЙрдиреНрдлрд╝рд┐рдЧ рдлрд╝рд╛рдЗрд▓ рдкрдврд╝рддреЗ рд╕рдордп рдЬрд╛рдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рд░реЛрдЪрдХ рдорд╛рди:

### \[api]

* **`access_control_allow_headers`**: рдпрд╣ **CORS** рдХреЗ рд▓рд┐рдП **рдЕрдиреБрдорддрд┐ рджреА рдЧрдИ** **рд╣реЗрдбрд░** рджрд░реНрд╢рд╛рддрд╛ рд╣реИ
* **`access_control_allow_methods`**: рдпрд╣ **CORS** рдХреЗ рд▓рд┐рдП **рдЕрдиреБрдорддрд┐ рджреА рдЧрдИ** **рд╡рд┐рдзрд┐рдпрд╛рдБ** рджрд░реНрд╢рд╛рддрд╛ рд╣реИ
* **`access_control_allow_origins`**: рдпрд╣ **CORS** рдХреЗ рд▓рд┐рдП **рдЕрдиреБрдорддрд┐ рджреА рдЧрдИ** **рдореВрд▓** рджрд░реНрд╢рд╛рддрд╛ рд╣реИ
* **`auth_backend`**: [**рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реА рдХреЗ рдЕрдиреБрд╕рд╛рд░**](https://airflow.apache.org/docs/apache-airflow/stable/security/api.html) API рддрдХ рдкрд╣реБрдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рд╡рд┐рдХрд▓реНрдк рд╕рдВрднрд╡ рд╣реИрдВ:
* `airflow.api.auth.backend.deny_all`: **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдХреЛрдИ рднреА** API рддрдХ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛
* `airflow.api.auth.backend.default`: **рд╕рднреА рдХреЛ** рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рдмрд┐рдирд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░ рд╕рдХрддрд╛ рд╣реИ
* `airflow.api.auth.backend.kerberos_auth`: **рдХреЗрд░рдмреЗрд░реЛрд╕ рдкреНрд░рдорд╛рдгреАрдХрд░рдг** рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП
* `airflow.api.auth.backend.basic_auth`: **рдореВрд▓ рдкреНрд░рдорд╛рдгреАрдХрд░рдг** рдХреЗ рд▓рд┐рдП
* `airflow.composer.api.backend.composer_auth`: рдХреЙрдореНрдкреЛрдЬрд╝рд░ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ (GCP) (рдпрд╣рд╛рдВ рд╕реЗ [**рдпрд╣рд╛рдВ**](https://cloud.google.com/composer/docs/access-airflow-api)ред)
* `composer_auth_user_registration_role`: рдпрд╣ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ рдХрд┐ **рдПрдпрд░рдлреНрд▓реЛ рдореЗрдВ рдХрдВрдкреЛрдЬрд╝рд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛** рдХреЛ рдХреМрди рд╕реА **рднреВрдорд┐рдХрд╛** рдорд┐рд▓реЗрдЧреА (**рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ Op**)ред
* рдЖрдк рдЕрдкрдиреА рдЦреБрдж рдХреА рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╡рд┐рдзрд┐ рднреА рдкрд╛рдпрдерди рдХреЗ рд╕рд╛рде **рдмрдирд╛ рд╕рдХрддреЗ** рд╣реИрдВред
* **`google_key_path`:** **GCP рд╕реЗрд╡рд╛ рдЦрд╛рддрд╛ рдХреА** рдкрде

### **\[atlas]**

* **`password`**: рдЕрдЯрд▓рд╛рд╕ рдкрд╛рд╕рд╡рд░реНрдб
* **`username`**: рдЕрдЯрд▓рд╛рд╕ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо

### \[celery]

* **`flower_basic_auth`** : рдкреНрд░рдорд╛рдгрдкрддреНрд░ (_user1:password1,user2:password2_)
* **`result_backend`**: рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рд╢рд╛рдорд┐рд▓ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ рд╡рд╛рд▓рд╛ рдкреЛрд╕реНрдЯрдЧреНрд░реЗрд╕ urlред
* **`ssl_cacert`**: cacert рдХреЗ рд▓рд┐рдП рдкрде
* **`ssl_cert`**: рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдХреЗ рд▓рд┐рдП рдкрде
* **`ssl_key`**: рдХреБрдВрдЬреА рдХреЗ рд▓рд┐рдП рдкрде

### \[core]

* **`dag_discovery_safe_mode`**: рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд╕рдХреНрд╖рдо рд╣реИред DAG рдЦреЛрдЬрддреЗ рд╕рдордп, `DAG` рдФрд░ `airflow` рд╕реНрдЯреНрд░рд┐рдВрдЧ рдирд╣реАрдВ рд╕рдВрдмрдВрдзрд┐рдд рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд░реЗрдВред
* **`fernet_key`**: рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдЪрд░реЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдВрдЬреА (рд╕рдордорд┐рддреНрд░рд┐рдд)
* **`hide_sensitive_var_conn_fields`**: рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк
```bash
AUTH_TYPE = AUTH_DB
```
рдЬрд┐рд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ **рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рдЦрд┐рд▓рд╛рдл рдЬрд╛рдВрдЪрд╛ рдЬрд╛рддрд╛ рд╣реИ**ред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЕрдиреНрдп рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╕рдВрднрд╡ рд╣реИрдВ рдЬреИрд╕реЗ
```bash
AUTH_TYPE = AUTH_OAUTH
```
**рддреГрддреАрдп рдкрдХреНрд╖ рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд░рдиреЗ** рдХреЗ рд▓рд┐рдПред

рд╣рд╛рд▓рд╛рдВрдХрд┐, рдПрдХ **рдЧреИрд░-рдкрд╣рдЪрд╛рди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдкрд╣реБрдВрдЪ рджреЗрдиреЗ** рдХрд╛ рд╡рд┐рдХрд▓реНрдк рднреА рд╣реИ, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ **рд╡рд╛рдВрдЫрд┐рдд рднреВрдорд┐рдХрд╛** рдХреЗ рд▓рд┐рдП рд╕реЗрдЯ рдХрд░рдиреЗ рдХреА рд╕реБрд╡рд┐рдзрд╛ рд╣реИ:
```bash
AUTH_ROLE_PUBLIC = 'Admin'
```
<details>

<summary><strong>рдмрдврд╝рд┐рдпрд╛ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ рдФрд░ рд▓рд╛рдн рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ!</strong></summary>

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ рдпрджрд┐ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╕рдВрдЧреНрд░рд╣ рдЕрдирдиреНрдп [**NFTs**](https://opensea.io/collection/the-peass-family)
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рдпрд╛ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ рдореБрдЭреЗ **Twitter** рдкрд░ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
