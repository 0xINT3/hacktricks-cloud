# Jenkins RCE Tworzenie/Modyfikowanie Projektu

<details>

<summary><strong>Nauka hakowania AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* Jeśli chcesz zobaczyć swoją **firmę reklamowaną w HackTricks** lub **pobrać HackTricks w formacie PDF**, sprawdź [**PLANY SUBSKRYPCYJNE**](https://github.com/sponsors/carlospolop)!
* Zdobądź [**oficjalne gadżety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**Rodzinę PEASS**](https://opensea.io/collection/the-peass-family), naszą kolekcję ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **Dołącz do** 💬 [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **śledź** nas na **Twitterze** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podziel się swoimi sztuczkami hakowania, przesyłając PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriów na GitHubie.

</details>

## Tworzenie Projektu

Ta metoda jest bardzo głośna, ponieważ musisz utworzyć zupełnie nowy projekt (oczywiście zadziała to tylko, jeśli użytkownik ma uprawnienia do tworzenia nowego projektu).

1. **Utwórz nowy projekt** (projekt typu Freestyle) klikając "Nowy element" lub w `/view/all/newJob`
2. W sekcji **Build** ustaw **Wykonaj powłokę** i wklej uruchamianie powershell Empire lub powershell meterpreter (można je uzyskać za pomocą _unicorn_). Uruchom ładunek początkowy za pomocą _PowerShell.exe_ zamiast _powershell._
3. Kliknij **Wykonaj teraz**
1. Jeśli przycisk **Wykonaj teraz** nie pojawi się, możesz nadal przejść do **konfiguracji** --> **Wyzwalacze budowy** --> `Buduj okresowo` i ustaw cron na `* * * * *`
2. Zamiast korzystać z cron-a, możesz użyć konfiguracji "**Wyzwalaj budowy zdalnie**", gdzie wystarczy ustawić nazwę tokena API, aby uruchomić zadanie. Następnie przejdź do swojego profilu użytkownika i **wygeneruj token API** (nazwij ten token API tak, jak nazwałeś token API do uruchomienia zadania). W końcu uruchom zadanie za pomocą: **`curl <nazwa_użytkownika>:<token_api>@<adres_jenkinsa>/job/<nazwa_zadania>/build?token=<nazwa_tokena_api>`**

![](<../../.gitbook/assets/image (165).png>)

## Modyfikowanie Projektu

Przejdź do projektów i sprawdź, **czy możesz skonfigurować którykolwiek** z nich (szukaj przycisku "Konfiguruj"):

![](<../../.gitbook/assets/image (265).png>)

Jeśli **nie widzisz** **żadnego przycisku konfiguracji**, to prawdopodobnie **nie możesz go skonfigurować** (ale sprawdź wszystkie projekty, ponieważ możesz móc skonfigurować niektóre z nich, a inne nie).

Lub **spróbuj uzyskać dostęp do ścieżki** `/job/<nazwa-projektu>/configure` lub `/me/my-views/view/all/job/<nazwa-projektu>/configure` \_\_ w każdym projekcie (przykład: `/job/Project0/configure` lub `/me/my-views/view/all/job/Project0/configure`).

## Wykonanie

Jeśli masz uprawnienia do konfigurowania projektu, możesz **spowodować wykonanie poleceń po zakończeniu budowy**:

![](<../../.gitbook/assets/image (98).png>)

Kliknij **Zapisz** i **uruchom** projekt, a Twoje **polecenie zostanie wykonane**.\
Jeśli nie wykonujesz powłoki odwróconej, ale zwykłe polecenie, możesz **zobaczyć wynik polecenia w wyniku budowy**.
