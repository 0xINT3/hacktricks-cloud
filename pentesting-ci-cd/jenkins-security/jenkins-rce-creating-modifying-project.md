# Jenkins RCE Creando/Modificando Proyecto

<details>

<summary><strong>Aprende hacking en AWS de cero a héroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si quieres ver tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF** revisa los [**PLANES DE SUSCRIPCIÓN**](https://github.com/sponsors/carlospolop)!
* Consigue el [**merchandising oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colección de [**NFTs exclusivos**](https://opensea.io/collection/the-peass-family)
* **Únete al** 💬 [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **sígueme** en **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de GitHub de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

## Creando un Proyecto

Este método es muy ruidoso porque tienes que crear un proyecto completamente nuevo (obviamente esto solo funcionará si tu usuario tiene permiso para crear un nuevo proyecto).

1. **Crea un nuevo proyecto** (proyecto de tipo Freestyle) haciendo clic en "New Item" o en `/view/all/newJob`
2. Dentro de la sección **Build** configura **Execute shell** y pega un lanzador de powershell Empire o un powershell de meterpreter (se puede obtener usando _unicorn_). Inicia el payload con _PowerShell.exe_ en lugar de _powershell._
3. Haz clic en **Build now**
4. Si el botón **Build now** no aparece, aún puedes ir a **configure** --> **Build Triggers** --> `Build periodically` y establecer un cron de `* * * * *`
5. En lugar de usar cron, puedes usar la configuración "**Trigger builds remotely**" donde solo necesitas establecer el nombre del token de la API para activar el trabajo. Luego ve a tu perfil de usuario y **genera un token de API** (llama a este token de API como llamaste al token de la API para activar el trabajo). Finalmente, activa el trabajo con: **`curl <username>:<api_token>@<jenkins_url>/job/<job_name>/build?token=<api_token_name>`**

![](<../../.gitbook/assets/image (12) (1).png>)

## Modificando un Proyecto

Ve a los proyectos y verifica **si puedes configurar alguno** de ellos (busca el botón "Configure"):

![](<../../.gitbook/assets/image (34).png>)

Si **no** puedes ver ningún botón de **configuración**, entonces probablemente **no puedas configurarlo** (pero revisa todos los proyectos ya que podrías poder configurar algunos de ellos y no otros).

O **intenta acceder al camino** `/job/<proj-name>/configure` o `/me/my-views/view/all/job/<proj-name>/configure` __ en cada proyecto (ejemplo: `/job/Project0/configure` o `/me/my-views/view/all/job/Project0/configure`).

## Ejecución

Si tienes permiso para configurar el proyecto, puedes **hacer que ejecute comandos cuando una construcción sea exitosa**:

![](<../../.gitbook/assets/image (70).png>)

Haz clic en **Save** y **construye** el proyecto y tu **comando será ejecutado**.\
Si no estás ejecutando un reverse shell sino un comando simple, puedes **ver la salida del comando dentro de la salida de la construcción**.

<details>

<summary><strong>Aprende hacking en AWS de cero a héroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si quieres ver tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF** revisa los [**PLANES DE SUSCRIPCIÓN**](https://github.com/sponsors/carlospolop)!
* Consigue el [**merchandising oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colección de [**NFTs exclusivos**](https://opensea.io/collection/the-peass-family)
* **Únete al** 💬 [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **sígueme** en **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de GitHub de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
