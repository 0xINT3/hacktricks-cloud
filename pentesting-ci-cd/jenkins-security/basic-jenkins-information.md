# Temel Jenkins Bilgisi

<details>

<summary><strong>AWS hacklemeyi sıfırdan kahraman olmak için</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong></a><strong>!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamınızı görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARI**](https://github.com/sponsors/carlospolop)'na göz atın!
* [**Resmi PEASS & HackTricks ürünleri**](https://peass.creator-spring.com)'ni edinin
* Özel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluşan koleksiyonumuz olan [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keşfedin
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)'ı takip edin.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına **PR göndererek paylaşın**.

</details>

## Erişim

### Kullanıcı Adı + Şifre

Jenkins'e giriş yapmanın en yaygın yolu kullanıcı adı veya şifre ile yapmaktır.

### Çerez

Bir **yetkilendirilmiş çerez çalınırsa**, kullanıcının oturumuna erişmek için kullanılabilir. Çerez genellikle `JSESSIONID.*` şeklinde adlandırılır. (Bir kullanıcı tüm oturumlarını sonlandırabilir, ancak önce bir çerezin çalındığını bulması gerekir).

### SSO/Eklentiler

Jenkins, üçüncü taraf SSO üzerinden erişilebilmesi için eklentiler kullanılarak yapılandırılabilir.

### Jetonlar

**Kullanıcılar**, CLI veya REST API aracılığıyla kendilerini taklit etmek için uygulamalara erişim sağlamak için jetonlar oluşturabilir.

### SSH Anahtarları

Bu bileşen, Jenkins için yerleşik bir SSH sunucusu sağlar. Bu, [Jenkins CLI](https://www.jenkins.io/doc/book/managing/cli/) için alternatif bir arayüzdür ve komutlar herhangi bir SSH istemcisi kullanılarak bu şekilde çağrılabilir. (Dökümantasyondan alıntıdır (https://plugins.jenkins.io/sshd/))

## Yetkilendirme

`/configureSecurity` içinde Jenkins'in yetkilendirme yöntemi yapılandırılabilir. Birkaç seçenek bulunmaktadır:

* **Herkes her şeyi yapabilir**: Anonim erişim bile sunucuyu yönetebilir.
* **Eski mod**: Jenkins <1.164 ile aynıdır. **"admin" rolüne** sahipseniz, sistemin üzerinde **tam kontrol** sahibi olursunuz ve aksi takdirde (anonim kullanıcılar dahil) **sadece okuma erişiminiz** olur.
* **Giriş yapmış kullanıcılar her şeyi yapabilir**: Bu modda, her **giriş yapmış kullanıcı Jenkins'in tam kontrolüne** sahip olur. Yalnızca **anonim kullanıcı**, sadece **okuma erişimi** alır.
* **Matrix tabanlı güvenlik**: Bir tabloda **kimin ne yapabileceği** yapılandırılabilir. Her **sütun**, bir **izin** temsil eder. Her **satır**, bir **kullanıcı veya grup/rolü temsil eder**. Bu, '**anonim**' adlı özel bir kullanıcıyı içerir, bu kullanıcı **kimliği doğrulanmamış kullanıcıları** temsil eder ve '**kimliği doğrulanmış**' tüm kimliği doğrulanmış kullanıcıları temsil eder.

![](<../../.gitbook/assets/image (40).png>)

* **Proje Tabanlı Matrix Yetkilendirme Stratejisi:** Bu mod, her proje için ayrı bir ACL matrisinin **"Matrix tabanlı güvenlik"**e eklenmesini sağlar.
* **Rol Tabanlı Strateji:** Bir **rol tabanlı strateji** kullanarak yetkilendirmeleri tanımlamayı sağlar. Rollerin yönetildiği yer `/role-strategy`'dir.

## **Güvenlik Alanı**

`/configureSecurity` içinde güvenlik alanı yapılandırılabilir. Jenkins'in varsayılan olarak birkaç farklı Güvenlik Alanı desteği vardır:

* **Servlet konteynerine devret**: Jenkins denetleyicisi olarak çalışan bir servlet konteynerine kimlik doğrulamayı devretmek için kullanılır, örneğin [Jetty](https://www.eclipse.org/jetty/).
* **Jenkins'in kendi kullanıcı veritabanı**: Harici bir sisteme kimlik doğrulamayı devretmek yerine, kimlik doğrulama için Jenkins'in kendi yerleşik kullanıcı veritabanını kullanır. Bu varsayılan olarak etkindir.
* **LDAP**: Kullanıcıları ve grupları içeren yapılandırılmış bir LDAP sunucusuna tüm kimlik doğrulamayı devreder.
* **Unix kullanıcı/grup veritabanı**: Jenkins denetleyicisindeki temel Unix işletim sistemi düzeyindeki kullanıcı veritabanına kimlik doğrulamayı devreder. Bu mod, yetkilendirme için Unix gruplarının yeniden kullanılmasına da izin verir.

Eklentiler, Jenkins'i mevcut kimlik sistemlerine dahil etmek için kullanışlı olabilecek ek güvenlik alanları sağlayabilir, örneğin:

* [Active Directory](https://plugins.jenkins.io/active-directory)
* [GitHub Kimlik Doğrulama](https://plugins.jenkins.io/github-oauth)
* [Atlassian Crowd 2](https://plugins.jenkins.io/crowd2)

## Jenkins Düğümleri, Ajanlar ve Yürütücüler

Tanımlar [dökümantasyondan](https://www.jenkins.io/doc/book/managing/nodes/):

**Düğümler**, yapılandırılmış eşik değerinin dışına çıkan herhangi bir değer olduğunda Jenkins tarafından çevrimdışı alınır. Düğümler, yapılandırılmış eşik değerlerine göre disk alanı, boş geçici alan, boş takas, saat zamanı/senkronizasyonu ve yanıt süresi açısından izlenir.

**Ajanlar**, Jenkins denetleyicisi adına görev yürütmesini yönetir ve bunu **yürütücüler** kullanarak yapar. Bir ajan, Java'yı destekleyen herhangi bir işletim sistemini kullanabilir. Derleme ve testler için gereken araçlar, ajanın çalıştığı düğümde yüklenir; bunlar doğrudan veya bir konteynerda (Docker veya Kubernetes) yüklenebilir. Her bir ajan, ana makinedeki kendi PID'si olan bir işlem olarak etkili bir şekilde çalışır.

Bir **yürütücü**, görevlerin yürütülmesi için bir yuva; etkili olarak, bir ajan içindeki bir iş parçacığıdır. Bir düğümdeki yürütücülerin sayısı, aynı anda o düğümde yürütülebilecek eşzamanlı görevlerin sayısını belirler. Başka bir deyişle, bu, aynı anda o düğümde yürütülebilecek eşzamanlı Pipeline `stages` sayısını belirler.

## Jenkins Sırları

### Sırların ve Kimlik Bilgilerinin Şifrelenmesi

Tanım [dökümantasyondan](https://www.jenkins.io/doc/developer/security/secrets/#encryption-of-secrets-and-credentials):
Jenkins, sırları, kimlik bilgilerini ve ilgili şifreleme anahtarlarını şifrelemek ve korumak için **AES kullanır**. Bu şifreleme anahtarları, ilgili şifreleme anahtarlarını korumak için kullanılan anahtar şifreleme anahtarıyla birlikte `$JENKINS_HOME/secrets/` dizininde depolanır. Bu dizin, yalnızca Jenkins denetleyicisinin çalıştığı işletim sistemi kullanıcısının bu
### Kimlik Bilgilerine Erişim

Kimlik bilgileri, herhangi bir yapılandırılmış projeden erişilebilen **genel sağlayıcılara** (`/credentials/`) veya **belirli projelere** (`/job/<proje-adı>/configure`) kapsamlı olacak şekilde kapsamlandırılabilir ve bu nedenle yalnızca belirli projeden erişilebilir.

[**Belgelere**](https://www.jenkins.io/blog/2019/02/21/credentials-masking/) göre: Kapsamda olan kimlik bilgileri, sınırlama olmaksızın boru hattına kullanılabilir hale getirilir. Kimlik bilgilerinin yanlışlıkla yapılandırma günlüğünde ortaya çıkmasını önlemek için, kimlik bilgileri düzenli çıktıdan **maskeleme** yapılarak gizlenir. Bu nedenle, `env` (Linux) veya `set` (Windows) çağrısı veya ortamını veya parametrelerini yazdıran programlar, kimlik bilgilerine erişimi olmayan kullanıcılara yapılandırma günlüğünde kimlik bilgilerini ortaya çıkarmaz.

**Bu nedenle, bir saldırganın kimlik bilgilerini ele geçirmek için, örneğin, base64 ile kodlamaları gerekmektedir.**

## Referanslar

* [https://www.jenkins.io/doc/book/security/managing-security/](https://www.jenkins.io/doc/book/security/managing-security/)
* [https://www.jenkins.io/doc/book/managing/nodes/](https://www.jenkins.io/doc/book/managing/nodes/)
* [https://www.jenkins.io/doc/developer/security/secrets/](https://www.jenkins.io/doc/developer/security/secrets/)
* [https://www.jenkins.io/blog/2019/02/21/credentials-masking/](https://www.jenkins.io/blog/2019/02/21/credentials-masking/)
* [https://www.jenkins.io/doc/book/managing/security/#cross-site-request-forgery](https://www.jenkins.io/doc/book/managing/security/#cross-site-request-forgery)
* [https://www.jenkins.io/doc/developer/security/secrets/#encryption-of-secrets-and-credentials](https://www.jenkins.io/doc/developer/security/secrets/#encryption-of-secrets-and-credentials)
* [https://www.jenkins.io/doc/book/managing/nodes/](https://www.jenkins.io/doc/book/managing/nodes/)

<details>

<summary><strong>AWS hackleme konusunda sıfırdan kahramana dönüşmek için</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>'ı öğrenin!</strong></summary>

HackTricks'i desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamınızı görmek** veya HackTricks'i **PDF olarak indirmek** için [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* Özel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluşan koleksiyonumuz olan [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keşfedin
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya bizi **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**'da takip edin.**
* **Hacking hilelerinizi HackTricks ve HackTricks Cloud** github depolarına **PR göndererek paylaşın**.

</details>
