# Basiese Jenkins-inligting

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy in HackTricks wil adverteer** of **HackTricks in PDF wil aflaai**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>

## Toegang

### Gebruikersnaam + Wagwoord

Die mees algemene manier om in te teken op Jenkins is met 'n gebruikersnaam of 'n wagwoord.

### Koekie

As 'n **geoorloofde koekie gesteel word**, kan dit gebruik word om toegang tot die gebruiker se sessie te verkry. Die koekie word gewoonlik `JSESSIONID.*` genoem. ('n Gebruiker kan al sy sessies be√´indig, maar hy sal eers moet uitvind dat 'n koekie gesteel is).

### SSO/Plugins

Jenkins kan gekonfigureer word met behulp van plugins om **toeganklik te wees via 'n derde party SSO**.

### Tokens

**Gebruikers kan tokens genereer** om toegang tot programme te gee om hulle te verteenwoordig via die opdraglyn of REST API.

### SSH-sleutels

Hierdie komponent bied 'n ingeboude SSH-bediener vir Jenkins. Dit is 'n alternatiewe koppelvlak vir die [Jenkins CLI](https://www.jenkins.io/doc/book/managing/cli/), en opdragte kan op hierdie manier uitgevoer word met enige SSH-kli√´nt. (Uit die [dokumentasie](https://plugins.jenkins.io/sshd/))

## Magtiging

In `/configureSecurity` is dit moontlik om die magtigingsmetode van Jenkins te **konfigureer**. Daar is verskeie opsies:

* **Enigiemand kan enigiets doen**: Selfs anonieme toegang kan die bediener administreer.
* **Erfenis-modus**: Dieselfde as Jenkins <1.164. As jy die **"admin" rol** het, sal jy **volle beheer** oor die stelsel h√™, en **andersins** (insluitend **anonieme** gebruikers) sal jy **leestoegang** h√™.
* **Ingelogde gebruikers kan enigiets doen**: In hierdie modus kry elke **ingelogde gebruiker volle beheer** oor Jenkins. Die enigste gebruiker wat nie volle beheer het nie, is die **anonieme gebruiker**, wat slegs **leestoegang** kry.
* **Matrix-gebaseerde sekuriteit**: Jy kan **konfigureer wie wat kan doen** in 'n tabel. Elke **kolom** verteenwoordig 'n **toestemming**. Elke **ry** verteenwoordig 'n **gebruiker of 'n groep/rol**. Dit sluit 'n spesiale gebruiker '**anoniem**' in, wat **ongeagte gebruikers** verteenwoordig, sowel as '**ge√Ødentifiseer**', wat **alle ge√Ødentifiseerde gebruikers** verteenwoordig.

![](<../../.gitbook/assets/image (40).png>)

* **Projekgebaseerde Matrix-magtigingsstrategie**: Hierdie modus is 'n **uitbreiding** van "**Matrix-gebaseerde sekuriteit**" wat toelaat dat 'n addisionele ACL-matriks vir elke projek afsonderlik **gedefinieer** kan word.
* **Rolgebaseerde strategie**: Maak dit moontlik om magtigings te definieer met behulp van 'n **rolgebaseerde strategie**. Bestuur die rolle in `/role-strategy`.

## **Sekuriteitsgebied**

In `/configureSecurity` is dit moontlik om die sekuriteitsgebied te **konfigureer**. Standaard bied Jenkins ondersteuning vir 'n paar verskillende sekuriteitsgebiede:

* **Delegeer na bediener van servlethouer**: Vir **delegering van outentisering aan 'n servlethouer wat die Jenkins-beheerder uitvoer**, soos [Jetty](https://www.eclipse.org/jetty/).
* **Jenkins se eie gebruikersdatabasis**: Gebruik **Jenkins se eie ingeboude gebruikersdatabasis** vir outentisering in plaas van delegering na 'n eksterne stelsel. Dit is standaard geaktiveer.
* **LDAP**: Delegeer alle outentisering na 'n gekonfigureerde LDAP-bediener, insluitend gebruikers en groepe.
* **Unix-gebruikers-/groepdatabasis**: Delegeer die outentisering na die onderliggende Unix-bedryfstelsel se gebruikersdatabasis op die Jenkins-beheerder. Hierdie modus maak ook hergebruik van Unix-groepe vir magtiging moontlik.

Plugins kan addisionele sekuriteitsgebiede voorsien wat nuttig kan wees om Jenkins in bestaande identiteitsisteme te inkorporeer, soos:

* [Active Directory](https://plugins.jenkins.io/active-directory)
* [GitHub-outentisering](https://plugins.jenkins.io/github-oauth)
* [Atlassian Crowd 2](https://plugins.jenkins.io/crowd2)

## Jenkins Nodes, Agents & Executors

Definisies uit die [dokumentasie](https://www.jenkins.io/doc/book/managing/nodes/):

**Nodes** is die **rekenaars** waarop bou-agente loop. Jenkins monitor elke gekoppelde node vir skryfspasie, vry tydelike spasie, vry ruilgeheue, kloktyd/sinkronisasie en responstyd. 'n Node word afgehaal as enige van hierdie waardes buite die gekonfigureerde drempelwaarde val.

**Agente** **bestuur** die **taakuitvoering** namens die Jenkins-beheerder deur **uitvoerders** te gebruik. 'n Agent kan enige bedryfstelsel wat Java ondersteun, gebruik. Gereedskap wat nodig is vir bou- en toetswerk word op die node waar die agent loop, ge√Ønstalleer; dit kan **direk of in 'n houer** (Docker of Kubernetes) ge√Ønstalleer word. Elke **agent is effektief 'n proses met sy eie PID** op die gasheer-rekenaar.

'n **Uitvoerder** is 'n **gleuf vir die uitvoering van take**; dit is effektief 'n draad in die agent. Die **aantal uitvoerders** op 'n node bepaal die aantal **gelyktydige take** wat op daardie node uitgevoer kan word. Met ander woorde, dit bepaal die **aantal gelyktydige Pipeline `stages`** wat op daardie node op 'n slag uitgevoer kan word.

## Jenkins-geheime

### Versleuteling van Geheime en Gelde

Definisie uit die [dokumentasie](https://www.jenkins.io/doc/developer/security/secrets/#encryption-of-secrets-and-credentials):
Jenkins gebruik **AES om geheime, gelde en hul onderskeie versleutelingssleutels te versleutel en te beskerm**. Hierdie versleutelingssleutels word in `$JENKINS_HOME/secrets/` saam met die meestersleutel wat gebruik word om genoemde sleutels te beskerm, gestoor. Hierdie gids moet so gekonfigureer word dat slegs die bedryfstelselgebruiker waarop die Jenkins-beheerder loop, lees- en skryftoegang tot hierdie gids het (d.w.s. 'n `chmod`-waarde van `0700` of deur gebruik te maak van toepaslike l√™ereienskappe). Die **meestersleutel** (soms verwys as 'n "sleutelversleutelingssleutel" in kriptojargon) word
### Toegang tot geloofsbriewe

Geloofsbriewe kan **beperk word tot globale verskaffers** (`/credentials/`) wat toeganklik is vir enige gekonfigureerde projek, of kan beperk word tot **spesifieke projekte** (`/job/<projek-naam>/configure`) en dus slegs toeganklik wees vanaf die spesifieke projek.

Volgens [**die dokumentasie**](https://www.jenkins.io/blog/2019/02/21/credentials-masking/): Geloofsbriewe wat in omvang is, is beskikbaar vir die pyplyn sonder beperking. Om **toevallige blootstelling in die bou-log te voorkom**, word geloofsbriewe **gemaskeer** vanaf gewone uitset, sodat 'n aanroeping van `env` (Linux) of `set` (Windows), of programme wat hul omgewing of parameters druk, dit nie in die bou-log aan gebruikers sal onthul wat andersins nie toegang tot die geloofsbriewe het nie.

**Daarom moet 'n aanvaller die geloofsbriewe byvoorbeeld base64 om hulle uit te voer.**

## Verwysings

* [https://www.jenkins.io/doc/book/security/managing-security/](https://www.jenkins.io/doc/book/security/managing-security/)
* [https://www.jenkins.io/doc/book/managing/nodes/](https://www.jenkins.io/doc/book/managing/nodes/)
* [https://www.jenkins.io/doc/developer/security/secrets/](https://www.jenkins.io/doc/developer/security/secrets/)
* [https://www.jenkins.io/blog/2019/02/21/credentials-masking/](https://www.jenkins.io/blog/2019/02/21/credentials-masking/)
* [https://www.jenkins.io/doc/book/managing/security/#cross-site-request-forgery](https://www.jenkins.io/doc/book/managing/security/#cross-site-request-forgery)
* [https://www.jenkins.io/doc/developer/security/secrets/#encryption-of-secrets-and-credentials](https://www.jenkins.io/doc/developer/security/secrets/#encryption-of-secrets-and-credentials)
* [https://www.jenkins.io/doc/book/managing/nodes/](https://www.jenkins.io/doc/book/managing/nodes/)

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks-uitrusting**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou haktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>
