# Informations de base sur Jenkins

<details>

<summary><strong>Soutenez HackTricks et b√©n√©ficiez d'avantages !</strong></summary>

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou si vous souhaitez acc√©der √† la **derni√®re version de PEASS ou t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**The PEASS Family**](https://opensea.io/collection/the-peass-family), notre collection d'[**NFTs**](https://opensea.io/collection/the-peass-family) exclusifs
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm).
* **Partagez vos astuces de piratage en soumettant des PR aux** [**d√©p√¥ts Github HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

## Acc√®s

### Nom d'utilisateur + Mot de passe

La fa√ßon la plus courante de se connecter √† Jenkins est avec un nom d'utilisateur ou un mot de passe.

### Cookie

Si un **cookie autoris√© est vol√©**, il peut √™tre utilis√© pour acc√©der √† la session de l'utilisateur. Le cookie est g√©n√©ralement appel√© `JSESSIONID.*`. (Un utilisateur peut mettre fin √† toutes ses sessions, mais il devrait d'abord d√©couvrir qu'un cookie a √©t√© vol√©).

### SSO/Plugins

Jenkins peut √™tre configur√© √† l'aide de plugins pour √™tre **accessible via un SSO tiers**.

### Tokens

**Les utilisateurs peuvent g√©n√©rer des tokens** pour donner acc√®s aux applications pour les imiter via CLI ou REST API.

### Cl√©s SSH

Ce composant fournit un serveur SSH int√©gr√© pour Jenkins. C'est une interface alternative pour la [CLI Jenkins](https://www.jenkins.io/doc/book/managing/cli/), et les commandes peuvent √™tre invoqu√©es de cette mani√®re en utilisant n'importe quel client SSH. (√Ä partir de la [documentation](https://plugins.jenkins.io/sshd/))

## Autorisation

Dans `/configureSecurity`, il est possible de **configurer la m√©thode d'autorisation de Jenkins**. Il existe plusieurs options :

* **Tout le monde peut tout faire** : M√™me l'acc√®s anonyme peut administrer le serveur.
* **Mode h√©rit√©** : Identique √† Jenkins <1.164. Si vous avez le r√¥le **"admin"**, vous aurez un **contr√¥le total** sur le syst√®me, et **sinon** (y compris les utilisateurs **anonymes**), vous aurez un **acc√®s en lecture**.
* **Les utilisateurs connect√©s peuvent tout faire** : Dans ce mode, chaque **utilisateur connect√© obtient un contr√¥le total** de Jenkins. Le seul utilisateur qui n'aura pas un contr√¥le total est l'utilisateur **anonyme**, qui n'obtient qu'un **acc√®s en lecture**.
* **S√©curit√© bas√©e sur une matrice** : Vous pouvez configurer **qui peut faire quoi** dans un tableau. Chaque **colonne** repr√©sente une **permission**. Chaque **ligne** repr√©sente un **utilisateur ou un groupe/role**. Cela inclut un utilisateur sp√©cial '**anonyme**', qui repr√©sente les **utilisateurs non authentifi√©s**, ainsi que '**authentifi√©**', qui repr√©sente **tous les utilisateurs authentifi√©s**.

![](<../../.gitbook/assets/image (40).png>)

* **Strat√©gie d'autorisation de matrice bas√©e sur les projets** : Ce mode est une **extension** de la "**s√©curit√© bas√©e sur une matrice**" qui permet de d√©finir des matrices ACL suppl√©mentaires pour chaque projet s√©par√©ment.
* **Strat√©gie bas√©e sur les r√¥les** : Permet de d√©finir des autorisations √† l'aide d'une **strat√©gie bas√©e sur les r√¥les**. G√©rez les r√¥les dans `/role-strategy`.

## **Realm de s√©curit√©**

Dans `/configureSecurity`, il est possible de **configurer le realm de s√©curit√©**. Par d√©faut, Jenkins inclut la prise en charge de quelques realms de s√©curit√© diff√©rents :

* **D√©l√©guer au conteneur servlet** : Pour **d√©l√©guer l'authentification √† un conteneur servlet ex√©cutant le contr√¥leur Jenkins**, tel que [Jetty](https://www.eclipse.org/jetty/).
* **Base de donn√©es utilisateur Jenkins** : Utilisez **le propre magasin de donn√©es utilisateur int√©gr√© de Jenkins** pour l'authentification au lieu de d√©l√©guer √† un syst√®me externe. Cela est activ√© par d√©faut.
* **LDAP** : D√©l√®gue toute l'authentification √† un serveur LDAP configur√©, y compris les utilisateurs et les groupes.
* **Base de donn√©es utilisateur/groupe Unix** : **D√©l√®gue l'authentification √† la base de donn√©es utilisateur de niveau Unix** sous-jacente sur le contr√¥leur Jenkins. Ce mode permettra √©galement la r√©utilisation des groupes Unix pour l'autorisation.

Les plugins peuvent fournir des realms de s√©curit√© suppl√©mentaires qui peuvent √™tre utiles pour incorporer Jenkins dans des syst√®mes d'identit√© existants, tels que :

* [Active Directory](https://plugins.jenkins.io/active-directory)
* [Authentification GitHub](https://plugins.jenkins.io/github-oauth)
* [Atlassian Crowd 2](https://plugins.jenkins.io/crowd2)

## Noeuds, agents et ex√©cuteurs Jenkins

Les **noeuds** sont les **machines** sur lesquelles les **agents de construction s'ex√©cutent**. Jenkins surveille chaque noeud attach√© pour l'espace disque, l'espace temporaire libre, l'√©change libre, l'heure de l'horloge/synchronisation et le temps de r√©ponse. Un noeud est mis hors ligne si l'une de ces valeurs sort de la plage configur√©e.

Les **agents** **g√®rent** l'**ex√©cution des t√¢ches** au nom du contr√¥leur Jenkins en **utilisant des ex√©cuteurs**. Un agent peut utiliser n'importe quel syst√®me d'exploitation prenant en charge Java. Les outils requis pour les constructions et les tests sont install√©s sur le noeud o√π l'agent s'ex√©cute ; ils peuvent **√™tre install√©s directement ou dans un conteneur** (Docker ou Kubernetes). Chaque **agent est effectivement un processus avec son propre PID** sur la machine h√¥te.

Un **ex√©cuteur** est un **emplacement pour l'ex√©cution des t√¢ches** ; il s'agit en fait d'un **thread dans l'agent**. Le **nombre d'ex√©cuteurs** sur un noeud d√©finit le nombre de **t√¢ches simultan√©es** qui peuvent √™tre ex√©cut√©es sur ce noeud √† la fois. En d'autres termes, cela d√©termine le **nombre de `stages` de pipeline simultan√©s** qui peuvent s'ex√©cuter sur ce noeud √† la fois.

## Secrets Jenkins

### Chiffrement des secrets et des informations d'