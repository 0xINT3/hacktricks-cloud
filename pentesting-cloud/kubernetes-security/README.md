# Kubernetes Pentesting

<details>

<summary><strong>Μάθετε το χάκινγκ του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**The PEASS Family**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στην** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** με στο **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>

## Βασικά για το Kubernetes

Εάν δεν γνωρίζετε τίποτα για το Kubernetes, αυτό είναι ένα **καλό ξεκίνημα**. Διαβάστε το για να μάθετε για την **αρχιτεκτονική, τα στοιχεία και τις βασικές ενέργειες** στο Kubernetes:

{% content-ref url="kubernetes-basics.md" %}
[kubernetes-basics.md](kubernetes-basics.md)
{% endcontent-ref %}

### Εργαστήρια για εξάσκηση και μάθηση

* [https://securekubernetes.com/](https://securekubernetes.com)
* [https://madhuakula.com/kubernetes-goat/index.html](https://madhuakula.com/kubernetes-goat/index.html)

## Ενίσχυση της ασφάλειας του Kubernetes / Αυτόματα εργαλεία

{% content-ref url="kubernetes-hardening/" %}
[kubernetes-hardening](kubernetes-hardening/)
{% endcontent-ref %}

## Χειροκίνητος έλεγχος ασφάλειας του Kubernetes

### Από το εξωτερικό

Υπάρχουν αρκετές πιθανές **υπηρεσίες Kubernetes που μπορείτε να βρείτε εκτεθειμένες** στο Διαδίκτυο (ή εντός εσωτερικών δικτύων). Εάν τις βρείτε, ξέρετε ότι υπάρχει περιβάλλον Kubernetes εκεί.

Ανάλογα με τη διαμόρφωση και τα δικαιώματά σας, μπορείτε να καταχραστείτε αυτό το περιβάλλον, για περισσότερες πληροφορίες:

{% content-ref url="pentesting-kubernetes-services/" %}
[pentesting-kubernetes-services](pentesting-kubernetes-services/)
{% endcontent-ref %}

### Απαρίθμηση μέσα από ένα Pod

Εάν καταφέρετε να **παραβιάσετε ένα Pod**, διαβάστε την παρακάτω σελίδα για να μάθετε πώς να απαριθμήσετε και να προσπαθήσετε να **αναβαθμίσετε δικαιώματα/δραπετεύσετε**:

{% content-ref url="attacking-kubernetes-from-inside-a-pod.md" %}
[attacking-kubernetes-from-inside-a-pod.md](attacking-kubernetes-from-inside-a-pod.md)
{% endcontent-ref %}

### Απαρίθμηση του Kubernetes με διαπιστευτήρια

Μπορεί να καταφέρατε να παραβιάσετε **διαπιστευτήρια χρήστη, ένα διακριτικό χρήστη ή κάποιο διακριτικό λογαριασμού υπηρεσίας**. Μπορείτε να το χρησιμοποιήσετε για να επικοινωνήσετε με την υπηρεσία Kubernetes API και να προσπαθήσετε να **απαριθμήσετε περισσότερα** για αυτήν:

{% content-ref url="kubernetes-enumeration.md" %}
[kubernetes-enumeration.md](kubernetes-enumeration.md)
{% endcontent-ref %}

Ένα άλλο σημαντικό στοιχείο για την απαρίθμηση και την κατάχρηση των δικαιωμάτων του Kubernetes είναι ο **Έλεγχος Πρόσβασης με Βάση τον Ρόλο (RBAC) του Kubernetes**. Εάν θέλετε να καταχραστείτε δικαιώματα, πρέπει πρώτα να το διαβάσετε εδώ:

{% content-ref url="kubernetes-role-based-access-control-rbac.md" %}
[kubernetes-role-based-access-control-rbac.md](kubernetes-role-based-access-control-rbac.md)
{% endcontent-ref %}

#### Γνωρίζοντας για το RBAC και έχοντας απαριθμήσει το περιβάλλον, μπορείτε τώρα να προσπαθήσετε να καταχραστείτε τα δικαιώματα με:

{% content-ref url="abusing-roles-clusterroles-in-kubernetes/" %}
[abusing-roles-clusterroles-in-kubernetes](abusing-roles-clusterroles-in-kubernetes/)
{% endcontent-ref %}

### Ανέβασμα σε διαφορετικό Namespace

Εάν έχετε παραβιάσει ένα namespace, μπορείτε πιθανώς να δραπετεύσετε σε άλλα namespaces με πιο ενδιαφέροντα δικαιώματα/πόρους:

{% content-ref url="kubernetes-namespace-escalation.md" %}
[kubernetes-namespace-escalation.md](kubernetes-namespace-escalation.md)
{% endcontent-ref %}

### Από το Kubernetes στο Cloud

Εάν έχετε παραβιάσει έναν λογαριασμό K8s ή ένα pod, μπορείτε πιθανώς να μετακινηθείτε σε άλλα cloud. Αυτό συμβαίνει επειδή σε cloud όπως το AWS ή το GCP είναι δυνατόν να \*\*δώ
