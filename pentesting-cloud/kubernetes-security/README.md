# Kubernetes Pentesting

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>를 통해 AWS 해킹을 처음부터 전문가까지 배워보세요<strong>!</strong></summary>

HackTricks를 지원하는 다른 방법:

* **회사를 HackTricks에서 광고하거나 HackTricks를 PDF로 다운로드**하려면 [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)를 확인하세요!
* [**공식 PEASS & HackTricks 상품**](https://peass.creator-spring.com)을 구매하세요.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)를 발견하세요. 독점적인 [**NFTs**](https://opensea.io/collection/the-peass-family) 컬렉션입니다.
* 💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f) 또는 [**텔레그램 그룹**](https://t.me/peass)에 **참여**하거나 **Twitter**에서 저를 팔로우하세요 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Hacking 트릭을 공유하려면** [**HackTricks**](https://github.com/carlospolop/hacktricks) 및 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github 저장소에 PR을 제출하세요.

</details>

## Kubernetes 기본 사항

Kubernetes에 대해 아무것도 모르는 경우 이것은 **좋은 시작점**입니다. Kubernetes의 **아키텍처, 구성 요소 및 기본 작업**에 대해 알아보려면 읽어보세요:

{% content-ref url="kubernetes-basics.md" %}
[kubernetes-basics.md](kubernetes-basics.md)
{% endcontent-ref %}

### 연습 및 학습을 위한 랩

* [https://securekubernetes.com/](https://securekubernetes.com)
* [https://madhuakula.com/kubernetes-goat/index.html](https://madhuakula.com/kubernetes-goat/index.html)

## Kubernetes 강화 / 자동 도구

{% content-ref url="kubernetes-hardening/" %}
[kubernetes-hardening](kubernetes-hardening/)
{% endcontent-ref %}

## 수동 Kubernetes Pentest

### 외부에서

인터넷(또는 내부 네트워크)에서 노출된 여러 **Kubernetes 서비스**를 찾을 수 있습니다. 그러면 해당 환경에 Kubernetes가 있는 것을 알 수 있습니다.

구성 및 권한에 따라 해당 환경을 악용할 수 있습니다. 자세한 정보는 다음을 참조하세요:

{% content-ref url="pentesting-kubernetes-services.md" %}
[pentesting-kubernetes-services.md](pentesting-kubernetes-services.md)
{% endcontent-ref %}

### Pod 내에서 열거

Pod를 **침해**했다면 다음 페이지를 읽어보고 열거 및 **권한 상승/탈출**을 시도하는 방법을 알아보세요:

{% content-ref url="attacking-kubernetes-from-inside-a-pod.md" %}
[attacking-kubernetes-from-inside-a-pod.md](attacking-kubernetes-from-inside-a-pod.md)
{% endcontent-ref %}

### 자격 증명으로 Kubernetes 열거

**사용자 자격 증명, 사용자 토큰 또는 일부 서비스 계정 토큰**을 침해했을 수 있습니다. 이를 사용하여 Kubernetes API 서비스와 통신하고 더 많은 정보를 알아보려고 할 수 있습니다:

{% content-ref url="kubernetes-enumeration.md" %}
[kubernetes-enumeration.md](kubernetes-enumeration.md)
{% endcontent-ref %}

열거 및 Kubernetes 권한 남용에 대한 또 다른 중요한 세부 정보는 **Kubernetes Role-Based Access Control (RBAC)**입니다. 권한을 남용하려면 먼저 여기에서 읽어보세요:

{% content-ref url="kubernetes-role-based-access-control-rbac.md" %}
[kubernetes-role-based-access-control-rbac.md](kubernetes-role-based-access-control-rbac.md)
{% endcontent-ref %}

#### RBAC에 대해 알고 환경을 열거했으므로 다음을 사용하여 권한을 남용해 볼 수 있습니다:

{% content-ref url="abusing-roles-clusterroles-in-kubernetes/" %}
[abusing-roles-clusterroles-in-kubernetes](abusing-roles-clusterroles-in-kubernetes/)
{% endcontent-ref %}

### 다른 네임스페이스로의 권한 상승

네임스페이스를 침해했다면 더 흥미로운 권한/리소스가 있는 다른 네임스페이스로 탈출할 수 있습니다:

{% content-ref url="kubernetes-namespace-escalation.md" %}
[kubernetes-namespace-escalation.md](kubernetes-namespace-escalation.md)
{% endcontent-ref %}

### Kubernetes에서 클라우드로

K8s 계정이나 Pod를 침해했다면 다른 클라우드로 이동할 수 있습니다. 이는 AWS 또는 GCP와 같은 클라우드에서 **K8s SA에 클라우드 권한을 부여**할 수 있기 때문입니다.

{% content-ref url="kubernetes-pivoting-to-clouds.md" %}
[kubernetes-pivoting-to-clouds.md](kubernetes-pivoting-to-clouds.md)
{% endcontent-ref %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>를 통해 AWS 해킹을 처음부터 전문가까지 배워보세요<strong>!</strong></summary>

HackTricks를 지원하는 다른 방법:

* **회사를 HackTricks에서 광고하거나 HackTricks를 PDF로 다운로드**하려면 [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)를 확인하세요!
* [**공식 PEASS & HackTricks 상품**](https://peass.creator-spring.com)을 구매하세요.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)를 발견하세요. 독점적인 [**NFTs**](https://opensea.io/collection/the-peass-family) 컬렉션입니다.
* 💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f) 또는 [**텔레그램 그룹**](https://t.me/peass)에 **참여**하거나 **Twitter**에서 저를 팔로우하세요 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Hacking 트릭을 공유하려면** [**HackTricks**](https://github.com/carlospolop/hacktricks) 및 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github 저장소에 PR을 제출하세요.

</details>
