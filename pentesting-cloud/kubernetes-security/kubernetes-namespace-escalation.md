# Kubernetes Namespace Yükseltme

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> ile sıfırdan kahraman olmak için AWS hackleme öğrenin!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamını görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin.
* Özel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluşan koleksiyonumuz olan [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keşfedin.
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın veya **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)'u takip edin.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına **PR göndererek paylaşın**.

</details>

Kubernetes'te genellikle bir şekilde **bir namespace'e erişim sağlarsınız** (kullanıcı kimlik bilgilerini çalma veya bir pod'u ele geçirme yoluyla). Ancak genellikle daha ilginç şeylerin bulunduğu başka bir namespace'e **yükseltme yapmak isteyeceksiniz**.

Farklı bir namespace'e kaçmak için deneyebileceğiniz bazı teknikler şunlardır:

### K8s yetkilerini kötüye kullanma

Eğer ele geçirdiğiniz hesabın, yükseltme yapmak istediğiniz namespace üzerinde hassas yetkilere sahipse, NS içinde hizmet hesaplarıyla **pod oluşturma**, NS içinde zaten var olan bir pod'da **shell çalıştırma** veya **gizli** SA belgelerini okuma gibi eylemleri kötüye kullanabilirsiniz.

Hangi yetkileri kötüye kullanabileceğiniz hakkında daha fazla bilgi için şunu okuyun:

{% content-ref url="abusing-roles-clusterroles-in-kubernetes/" %}
[abusing-roles-clusterroles-in-kubernetes](abusing-roles-clusterroles-in-kubernetes/)
{% endcontent-ref %}

### Node'a kaçış

Bir pod'u ele geçirdiyseniz ve kaçış yapabiliyorsanız veya ayrıcalıklı bir pod oluşturup kaçış yapabiliyorsanız, diğer SA belgelerini çalmak için çeşitli şeyler yapabilirsiniz:

* Node'da çalışan diğer docker konteynerlerine **bağlanmış SA belgelerini kontrol edin**
* Node'da ek izinlerle yeni **kubeconfig dosyalarını kontrol edin**
* Etkinleştirilmişse (veya kendiniz etkinleştirin) diğer namespace'lerin yansıtılmış pod'larını **oluşturmaya çalışın**, çünkü bu şekilde bu namespace'lerin varsayılan token hesaplarına erişebilirsiniz (henüz bunu test etmedim)

Bu tekniklerin hepsi şurada açıklanmıştır:

{% content-ref url="attacking-kubernetes-from-inside-a-pod.md" %}
[attacking-kubernetes-from-inside-a-pod.md](attacking-kubernetes-from-inside-a-pod.md)
{% endcontent-ref %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> ile sıfırdan kahraman olmak için AWS hackleme öğrenin!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamını görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin.
* Özel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluşan koleksiyonumuz olan [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keşfedin.
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın veya **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)'u takip edin.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına **PR göndererek paylaşın**.

</details>
