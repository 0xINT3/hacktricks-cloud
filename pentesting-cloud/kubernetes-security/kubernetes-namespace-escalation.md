# Kubernetes Naamruimte Eskalasie

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** my op **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Deel jou hacktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-opslagplekke.

</details>

In Kubernetes is dit redelik algemeen dat jy op een of ander manier **toegang kry tot 'n naamruimte** (deur 'n paar gebruikerslegitimasie te steel of deur 'n pod te kompromitteer). Gewoonlik sal jy egter belangstel om **na 'n ander naamruimte te eskaleer, omdat daar meer interessante dinge gevind kan word**.

Hier is 'n paar tegnieke wat jy kan probeer om na 'n ander naamruimte te ontsnap:

### Misbruik K8s-voorregte

Vanzelfsprekend, as die rekening wat jy gesteel het sensitiewe voorregte oor die naamruimte het waarna jy wil eskaleer, kan jy misbruik maak van aksies soos **podde skep** met diensrekeninge in die NS, **uitvoering** van 'n skil in 'n reeds bestaande pod binne die ns, of lees die **geheim** SA-token.

Vir meer inligting oor watter voorregte jy kan misbruik, lees:

{% content-ref url="abusing-roles-clusterroles-in-kubernetes/" %}
[abusing-roles-clusterroles-in-kubernetes](abusing-roles-clusterroles-in-kubernetes/)
{% endcontent-ref %}

### Ontsnap na die node

As jy kan ontsnap na die node, √≥f omdat jy 'n pod gekompromitteer het en kan ontsnap, √≥f omdat jy 'n bevoorregte pod kan skep en ontsnap, kan jy verskeie dinge doen om ander SA-tokens te steel:

* Kyk vir **SA-tokens wat in ander Docker-houers** wat op die node loop, gemonteer is
* Kyk vir nuwe **kubeconfig-l√™ers op die node met ekstra toestemmings** wat aan die node gegee is
* As dit geaktiveer is (of aktiveer dit self), probeer om **gespie√´lde pods van ander naamruimtes te skep**, aangesien jy moontlik toegang tot daardie naamruimtes se verstek-tokenrekeninge kan kry (ek het dit nog nie getoets nie)

Al hierdie tegnieke word verduidelik in:

{% content-ref url="attacking-kubernetes-from-inside-a-pod.md" %}
[attacking-kubernetes-from-inside-a-pod.md](attacking-kubernetes-from-inside-a-pod.md)
{% endcontent-ref %}

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** my op **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Deel jou hacktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-opslagplekke.

</details>
