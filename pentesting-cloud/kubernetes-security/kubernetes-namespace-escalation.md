# Ανέβασμα Ονοματοχώρου Kubernetes

<details>

<summary><strong>Μάθετε το χάκινγκ του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF**, ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** με στο **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>

Στο Kubernetes είναι αρκετά συνηθισμένο να καταφέρετε κάπως **να μπείτε μέσα σε έναν ονοματοχώρο** (κλέβοντας ορισμένα διαπιστευτήρια χρήστη ή διαρρέοντας ένα pod). Ωστόσο, συνήθως θα σας ενδιαφέρει να **ανεβείτε σε έναν διαφορετικό ονοματοχώρο, καθώς εκεί μπορεί να βρείτε πιο ενδιαφέρουσες πληροφορίες**.

Παρακάτω παρουσιάζονται μερικές τεχνικές που μπορείτε να δοκιμάσετε για να δραπετεύσετε σε έναν διαφορετικό ονοματοχώρο:

### Κατάχρηση προνομίων του K8s

Φυσικά, εάν ο λογαριασμός που έχετε κλέψει έχει ευαίσθητα προνόμια στον ονοματοχώρο που θέλετε να ανεβείτε, μπορείτε να καταχραστείτε ενέργειες όπως **δημιουργία pods** με λογαριασμούς υπηρεσίας στον NS, **εκτέλεση** ενός κέλυφους σε ένα ήδη υπάρχον pod μέσα στον ονοματοχώρο ή ανάγνωση των **μυστικών** των SA tokens.

Για περισσότερες πληροφορίες σχετικά με τα προνόμια που μπορείτε να καταχραστείτε, διαβάστε:

{% content-ref url="abusing-roles-clusterroles-in-kubernetes/" %}
[abusing-roles-clusterroles-in-kubernetes](abusing-roles-clusterroles-in-kubernetes/)
{% endcontent-ref %}

### Δραπέτευση στον κόμβο

Εάν μπορείτε να δραπετεύσετε στον κόμβο είτε επειδή έχετε διαρρεύσει ένα pod και μπορείτε να δραπετεύσετε εκεί, είτε επειδή μπορείτε να δημιουργήσετε ένα προνομιούχο pod και να δραπετεύσετε, μπορείτε να κάνετε διάφορα πράγματα για να κλέψετε άλλα SA tokens:

* Ελέγξτε για **SAs tokens που έχουν τοποθετηθεί σε άλλα docker containers** που εκτελούνται στον κόμβο
* Ελέγξτε για νέα **αρχεία kubeconfig στον κόμβο με επιπλέον δικαιώματα** που έχουν δοθεί στον κόμβο
* Εάν είναι ενεργοποιημένο (ή ενεργοποιήστε το μόνοι σας) προσπαθήστε να **δημιουργήσετε αντιγραφές pods από άλλους ονοματοχώρους**, καθώς μπορείτε να αποκτήσετε πρόσβαση σε αυτούς τους ονοματοχώρους με τους προεπιλεγμένους λογαριασμούς των τοκεντών (δεν έχω δοκιμάσει αυτό ακόμα)

Όλες αυτές οι τεχνικές εξηγούνται στο:

{% content-ref url="attacking-kubernetes-from-inside-a-pod.md" %}
[attacking-kubernetes-from-inside-a-pod.md](attacking-kubernetes-from-inside-a-pod.md)
{% endcontent-ref %}

<details>

<summary><strong>Μάθετε το χάκινγκ του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF**, ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** με στο **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>
