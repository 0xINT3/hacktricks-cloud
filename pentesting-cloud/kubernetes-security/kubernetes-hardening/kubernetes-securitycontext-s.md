# Contexto de seguridad de Kubernetes

<details>

<summary><strong>¬°Apoya a HackTricks y obt√©n beneficios!</strong></summary>

* Si quieres ver a tu **empresa anunciada en HackTricks** o si quieres acceder a la **√∫ltima versi√≥n de PEASS o descargar HackTricks en PDF** ¬°Consulta los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!
* Obt√©n el [**oficial PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos.
* **√önete al** üí¨ [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s√≠gueme** en **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm).
* **Comparte tus trucos de hacking enviando PR a los repositorios de GitHub de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

## PodSecurityContext <a href="#podsecuritycontext-v1-core" id="podsecuritycontext-v1-core"></a>

Al especificar el contexto de seguridad de un Pod, se pueden utilizar varios atributos. Desde un punto de vista de seguridad defensiva, se debe considerar:

* Tener **runASNonRoot** como **True**
* Configurar **runAsUser**
* Si es posible, considere **limitar** los **permisos** indicando **seLinuxOptions** y **seccompProfile**
* **NO** otorgue acceso de **grupo privilegiado** a trav√©s de **runAsGroup** y **supplementaryGroups**

| <p><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#podsecuritycontext-v1-core"><strong>fsGroup</strong></a><br><em>integer</em></p>                                                                                                                                                                                                                                                 | <p>Un grupo suplementario especial que se aplica a <strong>todos los contenedores en un pod</strong>. Algunos tipos de volumen permiten que Kubelet <strong>cambie la propiedad de ese volumen</strong> para que sea propiedad del pod:<br>1. El GID propietario ser√° FSGroup<br>2. Se establece el bit setgid (los nuevos archivos creados en el volumen ser√°n propiedad de FSGroup)<br>3. Los bits de permiso se OR'd con rw-rw---- Si no se establece, Kubelet no modificar√° la propiedad y los permisos de ning√∫n volumen</p> |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <p><a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#podsecuritycontext-v1-core"><strong>fsGroupChangePolicy</strong></a><br><