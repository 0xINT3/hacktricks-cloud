# AWS - VPC рдФрд░ рдиреЗрдЯрд╡рд░реНрдХрд┐рдВрдЧ рдХреА рдореВрд▓ рдЬрд╛рдирдХрд╛рд░реА

<details>

<summary><strong>рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ рдФрд░ рд▓рд╛рдн рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ!</strong></summary>

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ рдпрджрд┐ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХ рдЕрдирдиреНрдп [**NFT**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рдпрд╛ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm)** рдХрд╛** **рдЕрдиреБрд╕рд░рдг** рдХрд░реЗрдВред**
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдХреЛ PR рдЬрдорд╛ рдХрд░рдХреЗред

</details>

## AWS рдиреЗрдЯрд╡рд░реНрдХрд┐рдВрдЧ рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ

рдПрдХ **VPC** рдореЗрдВ рдПрдХ **рдиреЗрдЯрд╡рд░реНрдХ CIDR** рд╣реЛрддрд╛ рд╣реИ рдЬреИрд╕реЗ 10.0.0.0/16 (рдЗрд╕рдХреЗ рд╕рд╛рде рдЗрд╕рдХреА **рд░реВрдЯрд┐рдВрдЧ рдЯреЗрдмрд▓** рдФрд░ **рдиреЗрдЯрд╡рд░реНрдХ ACL** рд╣реЛрддреА рд╣реИ)ред

рдпрд╣ VPC рдиреЗрдЯрд╡рд░реНрдХ **рд╕рдмрдиреЗрдЯрд╡рд░реНрдХ** рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдПрдХ **рд╕рдмрдиреЗрдЯрд╡рд░реНрдХ** рд╕реАрдзреЗ **VPC**, **рд░реВрдЯрд┐рдВрдЧ рдЯреЗрдмрд▓** рдФрд░ **рдиреЗрдЯрд╡рд░реНрдХ ACL** рд╕реЗ **рд╕рдВрдмрдВрдзрд┐рдд** рд╣реЛрддрд╛ рд╣реИред

рдлрд┐рд░, рд╕реЗрд╡рд╛рдУрдВ (рдЬреИрд╕реЗ EC2 instances) рд╕реЗ рдЬреБрдбрд╝реЗ **рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлреЗрд╕** рдХреЛ **рд╕рдмрдиреЗрдЯрд╡рд░реНрдХ** рдХреЗ рд╕рд╛рде **рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣реЛрдВ** рдХреЗ рд╕рд╛рде **рдХрдиреЗрдХреНрдЯ** рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

рдЗрд╕рд▓рд┐рдП, рдПрдХ **рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣** рдиреЗрдЯрд╡рд░реНрдХ **рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рдЙрдЬреНрдЬреНрд╡рд▓ рдкреЛрд░реНрдЯреНрд╕ рдХреЛ рд╕реАрдорд┐рдд рдХрд░реЗрдЧрд╛**, **рд╕рдмрдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рд╡рдЬреВрдж**ред рдФрд░ рдПрдХ **рдиреЗрдЯрд╡рд░реНрдХ ACL** рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ **рдкреВрд░реЗ рдкреЛрд░реНрдЯреНрд╕ рдХреЛ рд╕реАрдорд┐рдд рдХрд░реЗрдЧрд╛**ред

рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, **рдЗрдВрдЯрд░рдиреЗрдЯ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ** рдХреЗ рд▓рд┐рдП рдХреБрдЫ рджрд┐рд▓рдЪрд╕реНрдк рд╡рд┐рдиреНрдпрд╛рд╕ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЬрд╛рдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП:

* рдПрдХ **рд╕рдмрдиреЗрдЯрд╡рд░реНрдХ** рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ **рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ IPv4 рдкрддреЗ рдХрд╛ рдЖрд╡рдВрдЯрди рдХрд░ рд╕рдХрддрд╛ рд╣реИ**
* рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рдмрдирд╛рдИ рдЧрдИ рдПрдХ **рдЗрдВрд╕реНрдЯреЗрдВрд╕** (рдЬрд┐рд╕рдореЗрдВ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ IPv4 рдкрддреЗ рдХрд╛ рдЖрд╡рдВрдЯрди рд╣реЛ рд╕рдХрддрд╛ рд╣реИ) рдХреЛ рдПрдХ рдкреНрд░рд╛рдкреНрдд рд╣реЛ рд╕рдХрддрд╛ рд╣реИ
* рдПрдХ **рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ** рдХреЛ **VPC** рд╕реЗ **рдЬреБрдбрд╝рд╛** рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП
* рдЖрдк рдПрдХ **рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ** рдХрд╛ рднреА рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдПрдХ **рдирд┐рдЬреА рд╕рдмрдиреЗрдЯ** рдореЗрдВ рддрд╛рдХрд┐ рдЙрд╕ рдирд┐рдЬреА рд╕рдмрдиреЗрдЯ рд╕реЗ **рдмрд╛рд╣рд░реА рд╕реЗрд╡рд╛рдУрдВ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛ**, рд▓реЗрдХрд┐рди рдЙрдиреНрд╣реЗрдВ **рдмрд╛рд╣рд░ рд╕реЗ рдкрд╣реБрдВрдЪрдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реЛрддрд╛**ред
* рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ **рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ** (рдЗрдВрдЯрд░рдиреЗрдЯ рддрдХ рдкрд╣реБрдВрдЪ) рдпрд╛ **рдирд┐рдЬреА** (рдЕрдиреНрдп VPCs рддрдХ рдкрд╣реБрдВрдЪ) рд╣реЛ рд╕рдХрддрд╛ рд╣реИ

![](<../../../../.gitbook/assets/image (73).png>)

## VPC

рдЕрдореЗрдЬрд╝реЕрди **рд╡рд░реНрдЪреБрдЕрд▓ рдкреНрд░рд╛рдЗрд╡реЗрдЯ рдХреНрд▓рд╛рдЙрдб** (Amazon VPC) рдЖрдкрдХреЛ рдПрдХ рд╡рд░реНрдЪреБрдЕрд▓ рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ **AWS рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд▓реЙрдиреНрдЪ рдХрд░рдиреЗ рдХреА рд╕реБрд╡рд┐рдзрд╛** рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рдЖрдкрдиреЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рд╣реИред рдЗрд╕ рд╡рд░реНрдЪреБрдЕрд▓ рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рдХрдИ рд╕рдмрдиреЗрдЯ, рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ рдЗрдВрдЯрд░рдиреЗрдЯ рддрдХ рдкрд╣реБрдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, ACLs, рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣, IPs рд╣реЛрдВрдЧреЗ...

### рд╕рдмрдиреЗрдЯ

рд╕рдмрдиреЗрдЯ рд╕реБрд░рдХреНрд╖рд╛ рдХрд╛ рдПрдХ рдЕрдзрд┐рдХ рд╕реНрддрд░ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддреЗ рд╣реИрдВред **рд╕рдорд╛рди рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рддрд╛рд░реНрдХрд┐рдХ рд╕рдореВрд╣рдг** рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдХреЗ рд▓рд┐рдП **рдкреНрд░рдмрдВрдзрди рдХреА рд╕реБрд╡рд┐рдзрд╛** рдмрдирд╛рдП рд░рдЦрдиреЗ рдореЗрдВ рднреА рдорджрдж рдХрд░рддрд╛ рд╣реИред

* рдорд╛рдиреНрдп CIDR рдПрдХ /16 рдиреЗрдЯрдорд╛рд╕реНрдХ рд╕реЗ рд▓реЗрдХрд░ рдПрдХ /28 рдиреЗрдЯрдорд╛рд╕реНрдХ рддрдХ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред
* рдПрдХ рд╕рдмрдиреЗрдЯ рдПрдХ рд╕рд╛рдереА рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред
* **AWS рдЖрдВрддрд░рд┐рдХ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдкреНрд░рддреНрдпреЗрдХ рд╕рдмрдиреЗрдЯ рдХреЗ рдкрд╣рд▓реЗ рддреАрди рд╣реЛрд╕реНрдЯ IP рдкрддреЗ рдХреЛ рдЖрд░рдХреНрд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ**: рдкрд╣рд▓рд╛ рд╣реЛрд╕реНрдЯ рдкрддрд╛ VPC рд░рд╛рдЙрдЯрд░ рдХреЗ
### ACLs

**рдиреЗрдЯрд╡рд░реНрдХ рдНрдХреНрд╕реЗрд╕ рдХрдВрдЯреНрд░реЛрд▓ рд╕реВрдЪреА (ACLs)**: рдиреЗрдЯрд╡рд░реНрдХ ACLs рдЙрдкрдиреЗрдЯ рдХреЛ рдПрдХ рд╕рдмрдиреЗрдЯ рдореЗрдВ рдЖрдЙрдЯрдЧреЛрдЗрдВрдЧ рдФрд░ рдЗрдирдХрдорд┐рдВрдЧ рдиреЗрдЯрд╡рд░реНрдХ рдЯреНрд░реИрдлрд┐рдХ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдирд┐рдпрдо рд╣реЛрддреЗ рд╣реИрдВред рдЗрдиреНрд╣реЗрдВ рд╡рд┐рд╢реЗрд╖ рдЖрдИрдкреА рдкрддреЛрдВ рдпрд╛ рд░реЗрдВрдЬ рдХреЛ рдЯреНрд░реИрдлрд┐рдХ рдХреА рдЕрдиреБрдорддрд┐ рдпрд╛ рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

* рд╕рд╛рдорд╛рдиреНрдпрддрдГ рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкрд╣реБрдВрдЪ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ / рдордирд╛ рдХрд░рдиреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдХреЗрд╡рд▓ рд╕реНрдерд╛рдкрд┐рдд рд░рд┐рд╡рд░реНрд╕ рд╢реЗрд▓реНрд╕ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдХрд╛рдЯрдиреЗ рдХрд╛ рдПрдХрдорд╛рддреНрд░ рддрд░реАрдХрд╛ рд╣реИред рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣ рдореЗрдВ рдПрдХ рд╕рдВрд╢реЛрдзрд┐рдд рдирд┐рдпрдо рдкрд╣рд▓реЗ рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрдиреЗрдХреНрд╢рдиреЛрдВ рдХреЛ рд░реЛрдХрддрд╛ рдирд╣реАрдВ рд╣реИ
* рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдкреВрд░реЗ рд╕рдмрдиреЗрдЯ рдХреЗ рд▓рд┐рдП рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЪреАрдЬреЛрдВ рдХреЛ рдордирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рддрд░реНрдХ рд░рд╣реЗрдВ рдХреНрдпреЛрдВрдХрд┐ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдкреВрд░реНрдгрддрдГ рдкреНрд░рднрд╛рд╡рд┐рдд рд╣реЛ рд╕рдХрддреА рд╣реИ

### рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣

рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣ рдПрдХ рд╡рд░реНрдЪреБрдЕрд▓ **рдлрд╝рд╛рдпрд░рд╡реЙрд▓** рд╣реИ рдЬреЛ рдПрдХ VPC рдореЗрдВ рдЗрдВрд╕реНрдЯреЗрдВрд╕реЗрдЬрд╝ рдХреЗ рдЗрдирдмрд╛рдЙрдВрдб рдФрд░ рдЖрдЙрдЯрдмрд╛рдЙрдВрдб рдиреЗрдЯрд╡рд░реНрдХ **рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддрд╛ рд╣реИ**ред рдПрдХ рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣ рдореЗрдВ 1 рд╕реЗ рдЕрдзрд┐рдХ рдЗрдВрд╕реНрдЯреЗрдВрд╕реЗрдЬрд╝ рдХреЗ рдмреАрдЪ рд╕рдВрдмрдВрдз рд╣реЛрддрд╛ рд╣реИ (рдЖрдорддреМрд░ рдкрд░ 1 рд╕реЗ 1)ред\
рдЖрдорддреМрд░ рдкрд░ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЦрддрд░рдирд╛рдХ рдкреЛрд░реНрдЯреНрд╕ рдХреЛ рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рдкреЛрд░реНрдЯ 22 рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП:

<figure><img src="https://lh5.googleusercontent.com/LliB7eb3cYfkEyOpyw1-eYgWsn2kq1yF6uRn5VYndvOuTvDlURimYx9UvuK8F2impTLmx50mid4MdTXE-Ljt2i_rxaIfnKUdji_hFjCdU9tdoW-axng9-W4tSL71gbbjrPQ7IYY5lAdH_G3UoMRMGGGOxQ=s2048" alt=""><figcaption></figcaption></figure>

### рдЗрд▓рд╛рд╕реНрдЯрд┐рдХ рдЖрдИрдкреА рдкрддреЗ

рдПрдХ _рдЗрд▓рд╛рд╕реНрдЯрд┐рдХ рдЖрдИрдкреА рдкрддрд╛_ рдПрдХ **рд╕реНрдерд┐рд░ IPv4 рдкрддрд╛** рд╣реИ рдЬреЛ рдбрд╛рдпрдиреЗрдорд┐рдХ рдХреНрд▓рд╛рдЙрдб рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдПрдХ рдЗрд▓рд╛рд╕реНрдЯрд┐рдХ рдЖрдИрдкреА рдкрддрд╛ рдЖрдкрдХреЗ AWS рдЦрд╛рддреЗ рдХреЛ рдЖрд╡рдВрдЯрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдпрд╣ рдЖрдкрдХрд╛ рд╣реЛрддрд╛ рд╣реИ рдЬрдм рддрдХ рдЖрдк рдЗрд╕реЗ рдЫреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред рдЗрд▓рд╛рд╕реНрдЯрд┐рдХ рдЖрдИрдкреА рдкрддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдЖрдк рдПрдХ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдпрд╛ рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдХреЗ рдЕрд╕рдлрд▓ рд╣реЛрдиреЗ рдХреЛ рдЫрд┐рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рддрддреНрдХрд╛рд▓ рд░реВрдк рд╕реЗ рдЗрд╕реЗ рджреВрд╕рд░реЗ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдореЗрдВ рд░реАрдореИрдк рдХрд░рдХреЗ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### рд╕рдмрдиреЗрдЯ рдХреЗ рдмреАрдЪ рдХрдиреЗрдХреНрд╢рди

рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рд╕рднреА рд╕рдмрдиреЗрдЯреЛрдВ рдореЗрдВ **рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдЖрдИрдкреА рдкрддрд╛рдУрдВ рдХрд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ**, рд▓реЗрдХрд┐рди рдЗрд╕реЗ рдЪрд╛рд▓реВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

**рд░реВрдЯ рдЯреЗрдмрд▓ рдХреЗ рднреАрддрд░ рд╕реНрдерд╛рдиреАрдп рд░реВрдЯ** рд╡реАрдкреАрд╕реА рд╕рдмрдиреЗрдЯреЛрдВ рдХреЗ рдмреАрдЪ рд╕рдВрдЪрд╛рд░ рд╕рдВрднрд╡ рдмрдирд╛рддрд╛ рд╣реИред

рдпрджрд┐ рдЖрдк **рдПрдХ рд╕рдмрдиреЗрдЯ рдХреЛ рдПрдХ рдЕрд▓рдЧ рд╕рдмрдиреЗрдЯ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░ рд░рд╣реЗ рд╣реИрдВ рддреЛ рдЖрдк рдЙрд╕ рд╕рдмрдиреЗрдЯ рд╕реЗ рдЬреБрдбрд╝реЗ рд╕рдмрдиреЗрдЯ рддрдХ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**, рдЖрдкрдХреЛ рд╕реАрдзреЗ рдЙрдирдХреЗ рд╕рд╛рде рдХрдиреЗрдХреНрд╢рди рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред **рдпрд╣ рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ рдХреЗ рд▓рд┐рдП рднреА рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИ**ред рдЖрдк рдЗрдВрдЯрд░рдиреЗрдЯ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдмрдиреЗрдЯ рдХрдиреЗрдХреНрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЖрдкрдХреЛ рдЕрдкрдиреЗ рд╕рдмрдиреЗрдЯ рдХреЛ рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ рд╕реЗ рд╕рдВрдмрджреНрдз рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред

### VPC Peering

VPC рдкреАрдпрд░рд┐рдВрдЧ рдЖрдкрдХреЛ **рджреЛ рдпрд╛ рдЕрдзрд┐рдХ VPC рдХреЛ рдПрдХ рд╕рд╛рде рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ**, IPV4 рдпрд╛ IPV6 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдЬреИрд╕реЗ рдХрд┐ рд╡реЗ рдПрдХ рд╣реА рдиреЗрдЯрд╡рд░реНрдХ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реЛрдВред

рдПрдХ рдмрд╛рд░ рдкреАрдпрд░ рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рд╕реНрдерд╛рдкрд┐рдд рд╣реЛ рдЬрд╛рддреА рд╣реИ, **рдПрдХ VPC рдореЗрдВ рд╕рдВрд╕рд╛рдзрди рджреВрд╕рд░реЗ VPC рдореЗрдВ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ**ред VPC рдХреЗ рдмреАрдЪ рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рдореМрдЬреВрджрд╛ AWS рдиреЗрдЯрд╡рд░реНрдХ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓рд╛рдЧреВ рдХреА рдЬрд╛рддреА рд╣реИ, рдФрд░ рдЗрд╕рд▓рд┐рдП рдпрд╣ рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛ рд╡рд╛рд▓рд╛ рд╣реИ рдФрд░ рдХреЛрдИ рдмреИрдВрдбрд╡рд┐рдбреНрде рдмреЙрдЯрд▓рди
### рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдХреЗ рдШрдЯрдХ <a href="#what-is-components" id="what-is-components"></a>

**рдЕрдкрдиреЗ рдорд╢реАрди рд╕реЗ рдЕрдкрдиреЗ VPC рдореЗрдВ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ**

#### рд╕рдВрдХрд▓реНрдк

* **рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдЗрдВрдЯрд░рдлреЗрд╕:** рдпрд╣ рд╕рдВрд╕рд╛рдзрди рд╡рд╣ рд╣реИ рдЬрд┐рд╕реЗ рдЖрдк рдмрдирд╛рддреЗ рд╣реИрдВ рдФрд░ рд╡рд┐рдиреНрдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдХреНрд▓рд╛рдЗрдВрдЯ VPN рд╕рддреНрд░реЛрдВ рдХреЛ рд╕рдХреНрд╖рдо рдФрд░ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░ рд╕рдХреЗрдВред рдпрд╣ рд╕рдВрд╕рд╛рдзрди рд╣реИ рдЬрд╣рд╛рдВ рд╕рднреА рдХреНрд▓рд╛рдЗрдВрдЯ VPN рд╕рддреНрд░ рд╕рдорд╛рдкреНрдд рд╣реЛрддреЗ рд╣реИрдВред
* **рд▓рдХреНрд╖рд┐рдд рдиреЗрдЯрд╡рд░реНрдХ:** рдПрдХ рд▓рдХреНрд╖рд┐рдд рдиреЗрдЯрд╡рд░реНрдХ рд╡рд╣ рдиреЗрдЯрд╡рд░реНрдХ рд╣реИ рдЬрд┐рд╕реЗ рдЖрдк рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдЗрдВрдЯрд░рдлреЗрд╕ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдХрд░рддреЗ рд╣реИрдВред **рдПрдХ VPC рдХрд╛ рдПрдХ рд╕рдмрдиреЗрдЯ рдПрдХ рд▓рдХреНрд╖рд┐рдд рдиреЗрдЯрд╡рд░реНрдХ рд╣реИ**ред рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рд╕рд╛рде рдПрдХ рд╕рдмрдиреЗрдЯ рд╕рдВрдмрдВрдзрд┐рдд рдХрд░рдиреЗ рд╕реЗ рдЖрдк VPN рд╕рддреНрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЖрдк рдПрдХ рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рд╕рд╛рде рдПрдХрд╛рдзрд┐рдХ рд╕рдмрдиреЗрдЯ рд╕рдВрдмрдВрдзрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛ рд╣реЛред рд╕рднреА рд╕рдмрдиреЗрдЯ рдПрдХ рд╣реА VPC рд╕реЗ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред рдкреНрд░рддреНрдпреЗрдХ рд╕рдмрдиреЗрдЯ рдПрдХ рдЕрд▓рдЧ рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред
* **рдорд╛рд░реНрдЧ:** рдкреНрд░рддреНрдпреЗрдХ рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рдкрд╛рд╕ рдПрдХ рдорд╛рд░реНрдЧ рддрд╛рд▓рд┐рдХрд╛ рд╣реЛрддреА рд╣реИ рдЬреЛ рдЙрдкрд▓рдмреНрдз рдЧрдВрддрд╡реНрдп рдиреЗрдЯрд╡рд░реНрдХ рдорд╛рд░реНрдЧ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддреА рд╣реИред рдорд╛рд░реНрдЧ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рдорд╛рд░реНрдЧ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╕рдВрд╕рд╛рдзрди рдпрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рд▓рд┐рдП рдпрд╛рддреНрд░рд╛ рдХрд╛ рдорд╛рд░реНрдЧ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддрд╛ рд╣реИред
* **рдЕрдзрд┐рдХреГрддрд┐ рдирд┐рдпрдо:** рдПрдХ рдЕрдзрд┐рдХреГрддрд┐ рдирд┐рдпрдо **рдиреЗрдЯрд╡рд░реНрдХ рддрдХ рдкрд╣реБрдВрдЪ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рд╡рд╛рд▓реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рд╕реАрдорд┐рдд рдХрд░рддрд╛ рд╣реИ**ред рдПрдХ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рд▓рд┐рдП, рдЖрдк рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рд╡рд╛рд▓реЗ Active Directory рдпрд╛ рдкрд╣рдЪрд╛рди рдкреНрд░рджрд╛рддрд╛ (IdP) рд╕рдореВрд╣ рдХреЛ рд╡рд┐рдиреНрдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рд╕реЗ рдкрд╣реБрдВрдЪ рджреА рдЬрд╛рддреА рд╣реИред рдЗрд╕ рд╕рдореВрд╣ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╣реА рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдиреЗрдЯрд╡рд░реНрдХ рддрдХ рдкрд╣реБрдВрдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рдореЗрдВ рдХреЛрдИ рдЕрдзрд┐рдХреГрддрд┐ рдирд┐рдпрдо рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВ** рдФрд░ рдЖрдкрдХреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдФрд░ рдиреЗрдЯрд╡рд░реНрдХреЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХреГрддрд┐ рдирд┐рдпрдо рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рд╣реЛрдВрдЧреЗред
* **рдХреНрд▓рд╛рдЗрдВрдЯ:** рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдЗрдВрдЯрд░рдлреЗрд╕ рд╕реЗ рдПрдХ VPN рд╕рддреНрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдиреЗрдХреНрдЯ рд╣реЛрдиреЗ рд╡рд╛рд▓рд╛ рдЕрдВрдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ред рдЕрдВрдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдПрдХ OpenVPN рдХреНрд▓рд╛рдЗрдВрдЯ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдИ рдЧрдИ рдХреНрд▓рд╛рдЗрдВрдЯ VPN рд╡рд┐рдиреНрдпрд╛рд╕ рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдПрдХ VPN рд╕рддреНрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред
* **рдХреНрд▓рд╛рдЗрдВрдЯ CIDR рд░реЗрдВрдЬ:** рдХреНрд▓рд╛рдЗрдВрдЯ IP рдкрддреЛрдВ рдХреЛ рдЖрд╡рдВрдЯрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ IP рдкрддрд╛ рд░реЗрдВрдЬред рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рд╕рд╛рде рдХрдиреЗрдХреНрд╢рди рдХреЛ рдХреНрд▓рд╛рдЗрдВрдЯ CIDR рд░реЗрдВрдЬ рд╕реЗ рдПрдХ рдЕрджреНрд╡рд┐рддреАрдп IP рдкрддрд╛ рдЖрд╡рдВрдЯрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЖрдк рдХреНрд▓рд╛рдЗрдВрдЯ CIDR рд░реЗрдВрдЬ рдХрд╛ рдЪрдпрди рдХрд░рддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, `10.2.0.0/16`ред
* **рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдкреЛрд░реНрдЯ:** AWS рдХреНрд▓рд╛рдЗрдВрдЯ VPN TCP рдФрд░ UDP рджреЛрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдкреЛрд░реНрдЯ 443 рдФрд░ 1194 рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреЛрд░реНрдЯ 443 рд╣реИред
* **рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлреЗрд╕:** рдЬрдм рдЖрдк рдЕрдкрдиреЗ рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рд╕рд╛рде рдПрдХ рд╕рдмрдиреЗрдЯ рд╕рдВрдмрдВрдзрд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рд╣рдо рдЙрд╕ рд╕рдмрдиреЗрдЯ рдореЗрдВ рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлреЗрд╕ рдмрдирд╛рддреЗ рд╣реИрдВред **рдЬреЛ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдЗрдВрдЯрд░рдлреЗрд╕ рд╕реЗ VPC рдХреЛ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╡рд╣ рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИ**ред рдлрд┐рд░ рд╕реНрд░реЛрдд рдиреЗрдЯрд╡рд░реНрдХ рдкрддрд╛ рдЕрдиреБрд╡рд╛рджрди (SNAT) рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИ, рдЬрд╣рд╛рдВ рдХреНрд▓рд╛рдЗрдВрдЯ CIDR рд░реЗрдВрдЬ рд╕реЗ рд╕реНрд░реЛрдд IP рдкрддрд╛ рдХреЛ рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлреЗрд╕ IP рдкрддреЗ рдореЗрдВ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
* **рдХрдиреЗрдХреНрд╢рди рд▓реЙрдЧрд┐рдВрдЧ:** рдЖрдк рдЕрдкрдиреЗ рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рд▓рд┐рдП рдХрдиреЗрдХреНрд╢рди рд▓реЙрдЧрд┐рдВрдЧ рд╕рдХреНрд╖рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдХрдиреЗрдХреНрд╢рди рдШрдЯрдирд╛рдУрдВ рдХреЛ рд▓реЙрдЧ рдХрд░ рд╕рдХреЗрдВред рдЖрдк рдЗрд╕ рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдлреЙрд░реЗрдВрд╕рд┐рдХреНрд╕ рдЪрд▓рд╛рдиреЗ, рдЕрдкрдиреЗ рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдЗрдВрдЯрд░рдлреЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ рдпрд╛ рдХрдиреЗрдХреНрд╢рди рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рдбреАрдмрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
* **рд╕реНрд╡-рд╕реЗрд╡рд╛ рдкреЛрд░реНрдЯрд▓:** рдЖрдк рдЕрдкрдиреЗ рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реНрд╡-рд╕реЗрд╡рд╛ рдкреЛрд░реНрдЯрд▓ рд╕рдХреНрд╖рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдХреНрд▓рд╛рдЗрдВрдЯ рдЕрдкрдиреЗ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡реЗрдм-рдЖрдзрд╛рд░рд┐рдд рдкреЛрд░реНрдЯрд▓ рдореЗрдВ рд▓реЙрдЧ рдЗрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдЗрдВрдЯрд░рдл
