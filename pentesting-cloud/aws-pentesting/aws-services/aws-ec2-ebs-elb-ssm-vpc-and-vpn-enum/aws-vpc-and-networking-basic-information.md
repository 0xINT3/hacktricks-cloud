# AWS - VPC рдФрд░ рдиреЗрдЯрд╡рд░реНрдХрд┐рдВрдЧ рдореВрд▓ рдЬрд╛рдирдХрд╛рд░реА

<details>

<summary><strong>рд╢реВрдиреНрдп рд╕реЗ рдирд╛рдпрдХ рддрдХ AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ**, рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram group**](https://t.me/peass) рдпрд╛ **Twitter** рдкрд░ рдореБрдЭреЗ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm) **рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВ**.
* **HackTricks** рдХреЗ [**GitHub repos**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ.

</details>

## AWS рдиреЗрдЯрд╡рд░реНрдХрд┐рдВрдЧ рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ

рдПрдХ **VPC** рдореЗрдВ рдПрдХ **рдиреЗрдЯрд╡рд░реНрдХ CIDR** рд╣реЛрддрд╛ рд╣реИ рдЬреИрд╕реЗ рдХрд┐ 10.0.0.0/16 (рдЗрд╕рдХреЗ **рд░реВрдЯрд┐рдВрдЧ рдЯреЗрдмрд▓** рдФрд░ **рдиреЗрдЯрд╡рд░реНрдХ ACL** рдХреЗ рд╕рд╛рде).

рдпрд╣ VPC рдиреЗрдЯрд╡рд░реНрдХ **рд╕рдмрдиреЗрдЯрд╡рд░реНрдХреНрд╕** рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдПрдХ **рд╕рдмрдиреЗрдЯрд╡рд░реНрдХ** рд╕реАрдзреЗ **VPC**, **рд░реВрдЯрд┐рдВрдЧ** **рдЯреЗрдмрд▓** рдФрд░ **рдиреЗрдЯрд╡рд░реНрдХ ACL** рд╕реЗ **рд╕рдВрдмрдВрдзрд┐рдд** рд╣реЛрддрд╛ рд╣реИ.

рдлрд┐рд░, рд╕реЗрд╡рд╛рдУрдВ (рдЬреИрд╕реЗ EC2 рдЗрдВрд╕реНрдЯреЗрдВрд╕) рд╕реЗ рдЬреБрдбрд╝реЗ **рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлреЗрд╕** **рд╕рдмрдиреЗрдЯрд╡рд░реНрдХреНрд╕** рд╕реЗ **рдЬреБрдбрд╝реЗ** рд╣реЛрддреЗ рд╣реИрдВ **рд╕рд┐рдХреНрдпреЛрд░рд┐рдЯреА рдЧреНрд░реБрдк(s)** рдХреЗ рд╕рд╛рде.

рдЗрд╕рд▓рд┐рдП, рдПрдХ **рд╕рд┐рдХреНрдпреЛрд░рд┐рдЯреА рдЧреНрд░реБрдк** рдиреЗрдЯрд╡рд░реНрдХ **рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рдЙрдЬрд╛рдЧрд░ рдкреЛрд░реНрдЯреНрд╕ рдХреЛ рд╕реАрдорд┐рдд рдХрд░реЗрдЧрд╛**, **рд╕рдмрдиреЗрдЯрд╡рд░реНрдХ рдХреА рдкрд░рд╡рд╛рд╣ рдХрд┐рдП рдмрд┐рдирд╛**. рдФрд░ рдПрдХ **рдиреЗрдЯрд╡рд░реНрдХ ACL** **рдкреВрд░реЗ рдиреЗрдЯрд╡рд░реНрдХ** рдХреЗ рд▓рд┐рдП рдЙрдЬрд╛рдЧрд░ рдкреЛрд░реНрдЯреНрд╕ рдХреЛ **рд╕реАрдорд┐рдд рдХрд░реЗрдЧрд╛**.

рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, **рдЗрдВрдЯрд░рдиреЗрдЯ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ** рдХреЗ рд▓рд┐рдП рдХреБрдЫ рджрд┐рд▓рдЪрд╕реНрдк рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЬрд╛рдВрдЪрдирд╛ рдЪрд╛рд╣рд┐рдП:

* рдПрдХ **рд╕рдмрдиреЗрдЯрд╡рд░реНрдХ** **рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ IPv4 рдкрддреЗ рдЖрд╡рдВрдЯрд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ**
* рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдПрдХ **рдЗрдВрд╕реНрдЯреЗрдВрд╕** рдЬреЛ **IPv4 рдкрддреЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЖрд╡рдВрдЯрд┐рдд рдХрд░рддрд╛ рд╣реИ рд╡рд╣ рдПрдХ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ**
* рдПрдХ **рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ** рдХреЛ **VPC** рд╕реЗ **рдЬреЛрдбрд╝рд╛** рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП
* рдЖрдк **Egress-only рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ** рдХрд╛ рднреА рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ
* рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ **NAT рдЧреЗрдЯрд╡реЗ** рднреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ **рдирд┐рдЬреА рд╕рдмрдиреЗрдЯ** рдореЗрдВ рддрд╛рдХрд┐ рдЙрд╕ рдирд┐рдЬреА рд╕рдмрдиреЗрдЯ рд╕реЗ **рдмрд╛рд╣рд░реА рд╕реЗрд╡рд╛рдУрдВ рд╕реЗ рдЬреБрдбрд╝рдирд╛ рд╕рдВрднрд╡ рд╣реЛ**, рд▓реЗрдХрд┐рди **рдмрд╛рд╣рд░ рд╕реЗ рдЙрди рддрдХ рдкрд╣реБрдБрдЪрдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реИ**.
* NAT рдЧреЗрдЯрд╡реЗ **рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ** (рдЗрдВрдЯрд░рдиреЗрдЯ рддрдХ рдкрд╣реБрдБрдЪ) рдпрд╛ **рдирд┐рдЬреА** (рдЕрдиреНрдп VPCs рддрдХ рдкрд╣реБрдБрдЪ) рд╣реЛ рд╕рдХрддрд╛ рд╣реИ

![](<../../../../.gitbook/assets/image (73).png>)

## VPC

Amazon **Virtual Private Cloud** (Amazon VPC) рдЖрдкрдХреЛ рдПрдХ рдЖрднрд╛рд╕реА рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ AWS рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ **рд▓реЙрдиреНрдЪ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ** рдЬрд┐рд╕реЗ рдЖрдкрдиреЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рд╣реИ. рдЗрд╕ рдЖрднрд╛рд╕реА рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рдХрдИ рд╕рдмрдиреЗрдЯреНрд╕, рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ рдЗрдВрдЯрд░рдиреЗрдЯ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, ACLs, рд╕рд┐рдХреНрдпреЛрд░рд┐рдЯреА рдЧреНрд░реБрдкреНрд╕, IPs... рд╣реЛрдВрдЧреЗ.

### рд╕рдмрдиреЗрдЯреНрд╕

рд╕рдмрдиреЗрдЯреНрд╕ рдПрдХ рдЙрдЪреНрдЪ рд╕реНрддрд░ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддреЗ рд╣реИрдВ. **рд╕рдорд╛рди рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рддрд╛рд░реНрдХрд┐рдХ рд╕рдореВрд╣реАрдХрд░рдг** рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдореЗрдВ **рдкреНрд░рдмрдВрдзрди рдХреА рдЖрд╕рд╛рдиреА** рдмрдирд╛рдП рд░рдЦрдиреЗ рдореЗрдВ рднреА рдорджрдж рдХрд░рддрд╛ рд╣реИ.

* рд╡реИрдз CIDR /16 рдиреЗрдЯрдорд╛рд╕реНрдХ рд╕реЗ /28 рдиреЗрдЯрдорд╛рд╕реНрдХ рддрдХ рд╣реЛрддреЗ рд╣реИрдВ.
* рдПрдХ рд╕рдмрдиреЗрдЯ рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреНрд╖реЗрддреНрд░реЛрдВ рдореЗрдВ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛.
* **AWS рдкреНрд░рддреНрдпреЗрдХ рд╕рдмрдиреЗрдЯ рдХреЗ рдкрд╣рд▓реЗ рддреАрди рд╣реЛрд╕реНрдЯ IP рдкрддреЗ рдХреЛ** **рдЖрдВрддрд░рд┐рдХ AWS рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдЖрд░рдХреНрд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ**: рдкрд╣рд▓рд╛ рд╣реЛрд╕реНрдЯ рдкрддрд╛ VPC рд░рд╛рдЙрдЯрд░ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ. рджреВрд╕рд░рд╛ рдкрддрд╛ AWS DNS рдХреЗ рд▓рд┐рдП рдЖрд░рдХреНрд╖рд┐рдд рд╣реИ рдФрд░ рддреАрд╕рд░рд╛ рдкрддрд╛ рднрд╡рд┐рд╖реНрдп рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдЖрд░рдХреНрд╖рд┐рдд рд╣реИ.
* рдЙрдиреНрд╣реЗрдВ **рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╕рдмрдиреЗрдЯреНрд╕** рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рдирдХреЗ рдкрд╛рд╕ **рдЗрдВрдЯрд░рдиреЗрдЯ рддрдХ рд╕реАрдзреА рдкрд╣реБрдБрдЪ рд╣реИ, рдЬрдмрдХрд┐ рдирд┐рдЬреА рд╕рдмрдиреЗрдЯреНрд╕ рдХреЗ рдкрд╛рд╕ рдирд╣реАрдВ рд╣реИ.**

<figure><img src="https://lh5.googleusercontent.com/N_WTrTrDAHwN61FMKJvLSHVua2EM0IazHH1fSTg8JQfTChm-dLN9mn7wkjz2MlpD-uOUqtWdMZpqKOp4VxaHy5-5X66GD1K8y1UGc27r-GbHdFty9ImpXdcjEsC7u4vjxKme_B_HwDOUnG6camxENYECTw=s2048" alt=""><figcaption></figcaption></figure>

<figure><img src="https://lh3.googleusercontent.com/MmjfVzGmV4jM7tO8lVoTKONoeqbq6E40DGeKUoo4kN-lmMDKnEiGNB-gGVx3EvjK9UV844im225CA8aAjomHf1Modt3MramHrHZdEGbeSZncWhVuT9R8f7tQZ2pXjdSJxeNfErmJ-0mmcUaV6dcU0TAd2A=s2048" alt=""><figcaption></figcaption></figure>

### рд░реВрдЯ рдЯреЗрдмрд▓реНрд╕

рд░реВрдЯ рдЯреЗрдмрд▓реНрд╕ рдПрдХ VPC рдХреЗ рднреАрддрд░ рдПрдХ рд╕рдмрдиреЗрдЯ рдХреЗ рд▓рд┐рдП рдЯреНрд░реИрдлрд┐рдХ рд░реВрдЯрд┐рдВрдЧ рдХрд╛ рдирд┐рд░реНрдзрд╛рд░рдг рдХрд░рддреЗ рд╣реИрдВ. рд╡реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдХреМрди рд╕рд╛ рдиреЗрдЯрд╡рд░реНрдХ рдЯреНрд░реИрдлрд┐рдХ рдЗрдВрдЯрд░рдиреЗрдЯ рдпрд╛ VPN рдХрдиреЗрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рдЕрдЧреНрд░реЗрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ. рдЖрдк рдЖрдорддреМрд░ рдкрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддрдХ рдкрд╣реБрдБрдЪ рдкрд╛рдПрдВрдЧреЗ:

* рд╕реНрдерд╛рдиреАрдп VPC
* NAT
* рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ / Egress-only рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ (VPC рдХреЛ рдЗрдВрдЯрд░рдиреЗрдЯ рддрдХ рдкрд╣реБрдБрдЪ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ).
* рдПрдХ рд╕рдмрдиреЗрдЯ рдХреЛ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдЕрдкрдиреЗ VPC рд╕реЗ **рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ** рдХреЛ **рдмрдирд╛рдирд╛** рдФрд░ **рдЬреЛрдбрд╝рдирд╛** рд╣реЛрдЧрд╛.
* VPC рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ (рдирд┐рдЬреА рдиреЗрдЯрд╡рд░реНрдХреЛрдВ рд╕реЗ S3 рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП)

рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд┐рддреНрд░реЛрдВ рдореЗрдВ рдЖрдк рдПрдХ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рдПрдХ рдирд┐рдЬреА рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рдЕрдВрддрд░ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ:

<figure><img src="https://lh3.googleusercontent.com/q4ASpcLAYqijdNMLhMLl8EoowDtTMU5I_7YCVfk7-5hxDyeQOik9ImHnD2SYy32XUA2qXjEbXTAxA1lP--znJASdhYOdBveDcrD42f9XBKZ3EmjJCazN3YPLC6oS0xtRMmfORuwCszmMt-KrAkH07_izwg=s2048" alt=""><figcaption></figcaption></figure>

<figure><img src="https://lh5.googleusercontent.com/30psylXAI0gRN6_LK-reP00aGIlMma64E1qafCVPunn6nS-y5jAO6Y2JiempKcf6-LFi7ScicYcOh7BbHEya2VWtksnFX_8SPXQf97tKkg2tNZzrArWbiDCCn2m2LP1QUq6MZ_KayH3yir7t8zpO7CEQOw=s2048" alt=""><figcaption></figcaption></figure>
### ACLs

**рдиреЗрдЯрд╡рд░реНрдХ рдПрдХреНрд╕реЗрд╕ рдХрдВрдЯреНрд░реЛрд▓ рд▓рд┐рд╕реНрдЯреНрд╕ (ACLs)**: рдиреЗрдЯрд╡рд░реНрдХ ACLs рд╡реЗ рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдирд┐рдпрдо рд╣реЛрддреЗ рд╣реИрдВ рдЬреЛ рдПрдХ рд╕рдмрдиреЗрдЯ рдореЗрдВ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдФрд░ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдиреЗрдЯрд╡рд░реНрдХ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВред рд╡реЗ рд╡рд┐рд╢рд┐рд╖реНрдЯ IP рдкрддреЗ рдпрд╛ рд░реЗрдВрдЬреЛрдВ рдХреЗ рд▓рд┐рдП рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рдпрд╛ рдЕрд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред

* рдЖрдорддреМрд░ рдкрд░ рдПрдХреНрд╕реЗрд╕ рдХреЛ рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ/рдЕрд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд┐рдХреНрдпреЛрд░рд┐рдЯреА рдЧреНрд░реБрдкреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣реЛрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣реА рдПрдХрдорд╛рддреНрд░ рддрд░реАрдХрд╛ рд╣реИ рдЬрд┐рд╕рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рд░рд┐рд╡рд░реНрд╕ рд╢реЗрд▓реНрд╕ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдХрд╛рдЯрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рд╕рд┐рдХреНрдпреЛрд░рд┐рдЯреА рдЧреНрд░реБрдкреНрд╕ рдореЗрдВ рдПрдХ рд╕рдВрд╢реЛрдзрд┐рдд рдирд┐рдпрдо рдкрд╣рд▓реЗ рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрдиреЗрдХреНрд╢рдиреЛрдВ рдХреЛ рдирд╣реАрдВ рд░реЛрдХрддрд╛ рд╣реИ
* рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдкреВрд░реЗ рдЙрдкрдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╕рд╛рдорд╛рди рдЕрд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддреЗ рд╕рдордп рд╕рд╛рд╡рдзрд╛рди рд░рд╣реЗрдВ рдХреНрдпреЛрдВрдХрд┐ рдЖрд╡рд╢реНрдпрдХ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдкреНрд░рднрд╛рд╡рд┐рдд рд╣реЛ рд╕рдХрддреА рд╣реИ

### рд╕рд┐рдХреНрдпреЛрд░рд┐рдЯреА рдЧреНрд░реБрдкреНрд╕

рд╕рд┐рдХреНрдпреЛрд░рд┐рдЯреА рдЧреНрд░реБрдкреНрд╕ рдПрдХ рдЖрднрд╛рд╕реА **рдлрд╝рд╛рдпрд░рд╡реЙрд▓** рд╣реЛрддреЗ рд╣реИрдВ рдЬреЛ VPC рдореЗрдВ **рдЗрдВрд╕реНрдЯреЗрдВрд╕реЗрд╕ рдХреЗ рд▓рд┐рдП рдЖрдиреЗ рд╡рд╛рд▓реЗ рдФрд░ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдиреЗрдЯрд╡рд░реНрдХ рдЯреНрд░реИрдлрд╝рд┐рдХ** рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВред рдПрдХ SG рд╕реЗ M рдЗрдВрд╕реНрдЯреЗрдВрд╕реЗрд╕ рддрдХ рдХрд╛ рд╕рдВрдмрдВрдз (рдЖрдорддреМрд░ рдкрд░ 1 рд╕реЗ 1)ред\
рдЖрдорддреМрд░ рдкрд░ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЗрдВрд╕реНрдЯреЗрдВрд╕реЗрд╕ рдореЗрдВ рдЦрддрд░рдирд╛рдХ рдкреЛрд░реНрдЯреНрд╕ рдХреЛ рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдкреЛрд░реНрдЯ 22:

<figure><img src="https://lh5.googleusercontent.com/LliB7eb3cYfkEyOpyw1-eYgWsn2kq1yF6uRn5VYndvOuTvDlURimYx9UvuK8F2impTLmx50mid4MdTXE-Ljt2i_rxaIfnKUdji_hFjCdU9tdoW-axng9-W4tSL71gbbjrPQ7IYY5lAdH_G3UoMRMGGGOxQ=s2048" alt=""><figcaption></figcaption></figure>

### рдЗрд▓рд╛рд╕реНрдЯрд┐рдХ IP рдкрддреЗ

рдПрдХ _рдЗрд▓рд╛рд╕реНрдЯрд┐рдХ IP рдкрддрд╛_ рдПрдХ **рд╕реНрдерд┐рд░ IPv4 рдкрддрд╛** рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рдЧрддрд┐рд╢реАрд▓ рдХреНрд▓рд╛рдЙрдб рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдПрдХ рдЗрд▓рд╛рд╕реНрдЯрд┐рдХ IP рдкрддрд╛ рдЖрдкрдХреЗ AWS рдЦрд╛рддреЗ рдХреЛ рдЖрд╡рдВрдЯрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдпрд╣ рдЖрдкрдХрд╛ рд╣реЛрддрд╛ рд╣реИ рдЬрдм рддрдХ рдЖрдк рдЗрд╕реЗ рд░рд┐рд▓реАрдЬрд╝ рдирд╣реАрдВ рдХрд░рддреЗред рдЗрд▓рд╛рд╕реНрдЯрд┐рдХ IP рдкрддреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдЖрдк рдПрдХ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдпрд╛ рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдХреА рд╡рд┐рдлрд▓рддрд╛ рдХреЛ рдЬрд▓реНрджреА рд╕реЗ рджреВрд╕рд░реЗ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдореЗрдВ рдЕрдкрдиреЗ рдЦрд╛рддреЗ рдореЗрдВ рдкрддреЗ рдХреЛ рдкреБрдирдГ рдореИрдк рдХрд░рдХреЗ рдЫрд┐рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред

### рд╕рдмрдиреЗрдЯреНрд╕ рдХреЗ рдмреАрдЪ рдХрдиреЗрдХреНрд╢рди

рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рд╕рднреА рд╕рдмрдиреЗрдЯреНрд╕ рдореЗрдВ **рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ IP рдкрддреЗ рдХрд╛ рдЖрд╡рдВрдЯрди рдмрдВрдж** рд╣реЛрддрд╛ рд╣реИ рд▓реЗрдХрд┐рди рдЗрд╕реЗ рдЪрд╛рд▓реВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

**рд░реВрдЯ рдЯреЗрдмрд▓ рдХреЗ рднреАрддрд░ рдПрдХ рд╕реНрдерд╛рдиреАрдп рдорд╛рд░реНрдЧ VPC рд╕рдмрдиреЗрдЯреНрд╕ рдХреЗ рдмреАрдЪ рд╕рдВрдЪрд╛рд░ рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рддрд╛ рд╣реИред**

рдпрджрд┐ рдЖрдк **рдПрдХ рд╕рдмрдиреЗрдЯ рдХреЛ рдПрдХ рдЕрд▓рдЧ рд╕рдмрдиреЗрдЯ рд╕реЗ рдЬреЛрдбрд╝ рд░рд╣реЗ рд╣реИрдВ рддреЛ рдЖрдк рджреВрд╕рд░реЗ рд╕рдмрдиреЗрдЯ рд╕реЗ рдЬреБрдбрд╝реЗ рд╕рдмрдиреЗрдЯреНрд╕ рддрдХ рдкрд╣реБрдБрдЪ рдирд╣реАрдВ рд╕рдХрддреЗ**; рдЖрдкрдХреЛ рдЙрдирдХреЗ рд╕рд╛рде рд╕реАрдзреЗ рдХрдиреЗрдХреНрд╢рди рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред **рдпрд╣ рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ рдкрд░ рднреА рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИ**ред рдЖрдк рд╕рдмрдиреЗрдЯ рдХрдиреЗрдХреНрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЗрдВрдЯрд░рдиреЗрдЯ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддреЗ, рдЖрдкрдХреЛ рдЕрдкрдиреЗ рд╕рдмрдиреЗрдЯ рдХреЛ рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ рдЕрд╕рд╛рдЗрди рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред

### VPC рдкреАрдпрд░рд┐рдВрдЧ

VPC рдкреАрдпрд░рд┐рдВрдЧ рдЖрдкрдХреЛ **рджреЛ рдпрд╛ рдЕрдзрд┐рдХ VPCs рдХреЛ рдПрдХ рд╕рд╛рде рдЬреЛрдбрд╝рдиреЗ** рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, IPV4 рдпрд╛ IPV6 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдорд╛рдиреЛ рд╡реЗ рдПрдХ рд╣реА рдиреЗрдЯрд╡рд░реНрдХ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реЛрдВред

рдПрдХ рдмрд╛рд░ рдЬрдм рдкреАрдпрд░ рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рд╕реНрдерд╛рдкрд┐рдд рд╣реЛ рдЬрд╛рддреА рд╣реИ, рддреЛ **рдПрдХ VPC рдореЗрдВ рд╕рдВрд╕рд╛рдзрди рджреВрд╕рд░реЗ рдореЗрдВ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХрддреЗ рд╣реИрдВ**ред VPCs рдХреЗ рдмреАрдЪ рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рдореМрдЬреВрджрд╛ AWS рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓рд╛рдЧреВ рдХреА рдЬрд╛рддреА рд╣реИ, рдФрд░ рдЗрд╕рд▓рд┐рдП рдпрд╣ рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреЗ рд╕рд╛рде рд╣реЛрддреА рд╣реИ рдФрд░ рдХреЛрдИ рдмреИрдВрдбрд╡рд┐рдбреНрде рдмреЛрддрд▓рдиреЗрдХ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред рдЪреВрдВрдХрд┐ **рдкреАрдпрд░реНрдб рдХрдиреЗрдХреНрд╢рди рдПрдХ рд╣реА рдиреЗрдЯрд╡рд░реНрдХ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реЛрдиреЗ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ**, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЗ CIDR рдмреНрд▓реЙрдХ рд░реЗрдВрдЬреЛрдВ рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВ рдкреНрд░рддрд┐рдмрдВрдз рд╣реЛрддреЗ рд╣реИрдВ рдЬрд┐рдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред\
рдпрджрд┐ рдЖрдкрдХреЗ VPC рдХреЗ рд▓рд┐рдП **рдУрд╡рд░рд▓реИрдкрд┐рдВрдЧ рдпрд╛ рдбреБрдкреНрд▓рд┐рдХреЗрдЯ CIDR** рд░реЗрдВрдЬ рд╣реИрдВ, рддреЛ **рдЖрдк VPCs рдХреЛ рдкреАрдпрд░ рдирд╣реАрдВ рдХрд░ рдкрд╛рдПрдВрдЧреЗ**ред\
рдкреНрд░рддреНрдпреЗрдХ AWS VPC **рдХреЗрд╡рд▓ рдЕрдкрдиреЗ рдкреАрдпрд░ рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░реЗрдЧрд╛**ред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ, рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ VPC 1 рдФрд░ VPC 2 рдХреЗ рдмреАрдЪ рдПрдХ рдкреАрдпрд░рд┐рдВрдЧ рдХрдиреЗрдХреНрд╢рди рд╣реИ, рдФрд░ VPC 2 рдФрд░ VPC 3 рдХреЗ рдмреАрдЪ рдПрдХ рдФрд░ рдХрдиреЗрдХреНрд╢рди рд╣реИ, рддреЛ VPC 1 рдФрд░ 2 рдПрдХ рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рд╕реАрдзреЗ рд╕рдВрд╡рд╛рдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреИрд╕рд╛ рдХрд┐ VPC 2 рдФрд░ VPC 3 рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд╣рд╛рд▓рд╛рдВрдХрд┐, VPC 1 рдФрд░ VPC 3 рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗред **рдЖрдк рдПрдХ VPC рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рджреВрд╕рд░реЗ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдорд╛рд░реНрдЧ рдирд╣реАрдВ рдмрдирд╛ рд╕рдХрддреЗред**

### **VPC рдлреНрд▓реЛ рд▓реЙрдЧреНрд╕**

рдЖрдкрдХреЗ VPC рдХреЗ рднреАрддрд░, рдЖрдкрдХреЗ рдкрд╛рд╕ рд╕реИрдХрдбрд╝реЛрдВ рдпрд╛ рдпрд╣рд╛рдВ рддрдХ рдХрд┐ рд╣рдЬрд╛рд░реЛрдВ рд╕рдВрд╕рд╛рдзрди рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рд╡рд┐рднрд┐рдиреНрди рд╕рдмрдиреЗрдЯреНрд╕ рдХреЗ рдмреАрдЪ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдФрд░ рдирд┐рдЬреА рджреЛрдиреЛрдВ рдФрд░ VPC рдкреАрдпрд░рд┐рдВрдЧ рдХрдиреЗрдХреНрд╢рдиреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╡рд┐рднрд┐рдиреНрди VPCs рдХреЗ рдмреАрдЪ рд╕рдВрдЪрд╛рд░ рдХрд░ рд░рд╣реЗ рд╣реЛрддреЗ рд╣реИрдВред **VPC рдлреНрд▓реЛ рд▓реЙрдЧреНрд╕ рдЖрдкрдХреЛ рдЖрдкрдХреЗ VPC рдХреЗ рднреАрддрд░ рдЖрдкрдХреЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлреЗрд╕реЛрдВ рдХреЗ рдмреАрдЪ рдкреНрд░рд╡рд╛рд╣рд┐рдд рд╣реЛрдиреЗ рд╡рд╛рд▓реА IP рдЯреНрд░реИрдлрд╝рд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдХреИрдкреНрдЪрд░ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ**ред

S3 рдПрдХреНрд╕реЗрд╕ рд▓реЙрдЧреНрд╕ рдФрд░ CloudFront рдПрдХреНрд╕реЗрд╕ рд▓реЙрдЧреНрд╕ рдХреЗ рд╡рд┐рдкрд░реАрдд, **VPC рдлреНрд▓реЛ рд▓реЙрдЧреНрд╕ рджреНрд╡рд╛рд░рд╛ рдЙрддреНрдкрдиреНрди рд▓реЙрдЧ рдбреЗрдЯрд╛ S3 рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рдХреИрдкреНрдЪрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд▓реЙрдЧ рдбреЗрдЯрд╛ CloudWatch рд▓реЙрдЧреНрд╕ рдХреЛ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИ**ред

рдкреНрд░рддрд┐рдмрдВрдз:

* рдпрджрд┐ рдЖрдк рдПрдХ VPC рдкреАрдпрд░реНрдб рдХрдиреЗрдХреНрд╢рди рдЪрд▓рд╛ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдЖрдк рдХреЗрд╡рд▓ рдЙрдиреНрд╣реАрдВ рдкреАрдпрд░реНрдб VPCs рдХреЗ рдлреНрд▓реЛ рд▓реЙрдЧреНрд╕ рджреЗрдЦ рдкрд╛рдПрдВрдЧреЗ рдЬреЛ рдПрдХ рд╣реА рдЦрд╛рддреЗ рдХреЗ рднреАрддрд░ рд╣реИрдВред
* рдпрджрд┐ рдЖрдк рдЕрднреА рднреА EC2-Classic рд╡рд╛рддрд╛рд╡рд░рдг рдХреЗ рднреАрддрд░ рд╕рдВрд╕рд╛рдзрди рдЪрд▓рд╛ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рджреБрд░реНрднрд╛рдЧреНрдпрд╡рд╢ рдЖрдк рдЙрдирдХреЗ рдЗрдВрдЯрд░рдлреЗрд╕реЛрдВ рд╕реЗ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдирд╣реАрдВ рдХрд░ рдкрд╛рдПрдВрдЧреЗред
* рдПрдХ рдмрд╛рд░ VPC рдлреНрд▓реЛ рд▓реЙрдЧ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЗрд╕реЗ рдмрджрд▓рд╛ рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред VPC рдлреНрд▓реЛ рд▓реЙрдЧ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЗрд╕реЗ рд╣рдЯрд╛рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ рдлрд┐рд░ рдПрдХ рдирдпрд╛ рдмрдирд╛рдирд╛ рд╣реЛрдЧрд╛ред
* рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЯреНрд░реИрдлрд╝рд┐рдХ рд▓реЙрдЧреНрд╕ рджреНрд╡рд╛рд░рд╛ рдирд┐рдЧрд░рд╛рдиреА рдФрд░ рдХреИрдкреНрдЪрд░ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред VPC рдХреЗ рднреАрддрд░ DHCP рдЯреНрд░реИрдлрд╝рд┐рдХ, Amazon DNS рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рдЗрдВрд╕реНрдЯреЗрдВрд╕реЗрд╕ рд╕реЗ рдЖрдиреЗ рд╡рд╛рд▓рд╛ рдЯреНрд░реИрдлрд╝рд┐рдХред
* VPC рдбрд┐рдлрд╝
### Client VPN рдХреЗ рдШрдЯрдХ <a href="#what-is-components" id="what-is-components"></a>

**рдЕрдкрдиреА рдорд╢реАрди рд╕реЗ рдЕрдкрдиреЗ VPC рдореЗрдВ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ**

#### рдЕрд╡рдзрд╛рд░рдгрд╛рдПрдБ

* **Client VPN endpoint:** рдпрд╣ рд╡рд╣ рд╕рдВрд╕рд╛рдзрди рд╣реИ рдЬрд┐рд╕реЗ рдЖрдк рдмрдирд╛рддреЗ рд╣реИрдВ рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддреЗ рд╣реИрдВ рддрд╛рдХрд┐ Client VPN рд╕рддреНрд░реЛрдВ рдХреЛ рд╕рдХреНрд╖рдо рдФрд░ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред рдпрд╣ рд╡рд╣ рд╕рдВрд╕рд╛рдзрди рд╣реИ рдЬрд╣рд╛рдВ рд╕рднреА Client VPN рд╕рддреНрд░ рд╕рдорд╛рдкреНрдд рд╣реЛрддреЗ рд╣реИрдВред
* **Target network:** Target network рд╡рд╣ рдиреЗрдЯрд╡рд░реНрдХ рд╣реИ рдЬрд┐рд╕реЗ рдЖрдк Client VPN endpoint рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред **VPC рдХрд╛ рдПрдХ subnet target network рд╣реЛрддрд╛ рд╣реИ**ред рдХрд┐рд╕реА subnet рдХреЛ Client VPN endpoint рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝рдиреЗ рд╕реЗ рдЖрдк VPN рд╕рддреНрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЖрдк рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ Client VPN endpoint рдХреЗ рд╕рд╛рде рдХрдИ subnets рдХреЛ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред рд╕рднреА subnets рдХреЛ рдПрдХ рд╣реА VPC рд╕реЗ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред рдкреНрд░рддреНрдпреЗрдХ subnet рдХреЛ рдПрдХ рдЕрд▓рдЧ Availability Zone рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред
* **Route**: рдкреНрд░рддреНрдпреЗрдХ Client VPN endpoint рдХреЗ рдкрд╛рд╕ рдПрдХ route table рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рдЙрдкрд▓рдмреНрдз рдЧрдВрддрд╡реНрдп рдиреЗрдЯрд╡рд░реНрдХ рдорд╛рд░реНрдЧреЛрдВ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реИред Route table рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ route рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдпрд╛ рдиреЗрдЯрд╡рд░реНрдХреЛрдВ рдХреЗ рд▓рд┐рдП рдпрд╛рддрд╛рдпрд╛рдд рдХреЗ рдкрде рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддрд╛ рд╣реИред
* **Authorization rules:** рдПрдХ authorization rule **рдЙрди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдиреЗрдЯрд╡рд░реНрдХ рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХрддреЗ рд╣реИрдВ**ред рдПрдХ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рд▓рд┐рдП, рдЖрдк Active Directory рдпрд╛ identity provider (IdP) рд╕рдореВрд╣ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рд╕реЗ рдкрд╣реБрдБрдЪ рдХреА рдЕрдиреБрдорддрд┐ рд╣реИред рдХреЗрд╡рд▓ рдЗрд╕ рд╕рдореВрд╣ рдХреЗ рд╕рджрд╕реНрдп рд╣реА рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдиреЗрдЯрд╡рд░реНрдХ рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХрддреЗ рд╣реИрдВред **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдХреЛрдИ authorization rules рдирд╣реАрдВ рд╣реЛрддреЗ** рдФрд░ рдЖрдкрдХреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдФрд░ рдиреЗрдЯрд╡рд░реНрдХреЛрдВ рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП authorization rules рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред
* **Client:** рд╡рд╣ рдЕрдВрддрд┐рдо рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЬреЛ Client VPN endpoint рд╕реЗ рдХрдиреЗрдХреНрдЯ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП VPN рд╕рддреНрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИред рдЕрдВрддрд┐рдо рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдПрдХ OpenVPN client рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдФрд░ VPN рд╕рддреНрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдИ рдЧрдИ Client VPN configuration file рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред
* **Client CIDR range:** рдПрдХ IP рдкрддрд╛ рд░реЗрдВрдЬ рдЬрд┐рд╕рд╕реЗ client IP рдкрддреЗ рдЕрд╕рд╛рдЗрди рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред Client VPN endpoint рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХрдиреЗрдХреНрд╢рди рдХреЛ client CIDR range рд╕реЗ рдПрдХ рдЕрдиреВрдард╛ IP рдкрддрд╛ рдЕрд╕рд╛рдЗрди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЖрдк client CIDR range рдЪреБрдирддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, `10.2.0.0/16`.
* **Client VPN ports:** AWS Client VPN 443 рдФрд░ 1194 рдкреЛрд░реНрдЯреНрд╕ рдХреЛ TCP рдФрд░ UDP рджреЛрдиреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреЛрд░реНрдЯ 443 рд╣реИред
* **Client VPN network interfaces:** рдЬрдм рдЖрдк рдЕрдкрдиреЗ Client VPN endpoint рдХреЗ рд╕рд╛рде рдПрдХ subnet рдХреЛ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рд╣рдо рдЙрд╕ subnet рдореЗрдВ Client VPN network interfaces рдмрдирд╛рддреЗ рд╣реИрдВред **Client VPN endpoint рд╕реЗ VPC рдореЗрдВ рднреЗрдЬрд╛ рдЧрдпрд╛ рдпрд╛рддрд╛рдпрд╛рдд рдПрдХ Client VPN network interface рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИ**ред рдЗрд╕рдХреЗ рдмрд╛рдж source network address translation (SNAT) рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд╣рд╛рдВ client CIDR range рд╕реЗ source IP рдкрддрд╛ Client VPN network interface IP рдкрддреЗ рдореЗрдВ рдЕрдиреБрд╡рд╛рджрд┐рдд рд╣реЛрддрд╛ рд╣реИред
* **Connection logging:** рдЖрдк рдЕрдкрдиреЗ Client VPN endpoint рдХреЗ рд▓рд┐рдП connection logging рд╕рдХреНрд╖рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдХрдиреЗрдХреНрд╢рди рдЗрд╡реЗрдВрдЯреНрд╕ рдХреЛ рд▓реЙрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред рдЖрдк рдЗрд╕ рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдлреЛрд░реЗрдВрд╕рд┐рдХреНрд╕ рдЪрд▓рд╛рдиреЗ, рдпрд╣ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдЖрдкрдХрд╛ Client VPN endpoint рдХреИрд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ, рдпрд╛ рдХрдиреЗрдХреНрд╢рди рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рдбрд┐рдмрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
* **Self-service portal:** рдЖрдк рдЕрдкрдиреЗ Client VPN endpoint рдХреЗ рд▓рд┐рдП рдПрдХ self-service portal рд╕рдХреНрд╖рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред Clients рдЕрдкрдиреА credentials рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡реЗрдм-рдЖрдзрд╛рд░рд┐рдд рдкреЛрд░реНрдЯрд▓ рдореЗрдВ рд▓реЙрдЧ рдЗрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ Client VPN endpoint configuration file рдХрд╛ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг, рдпрд╛ AWS рдкреНрд░рджрд╛рди рдХрд┐рдП рдЧрдП client рдХрд╛ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

#### рд╕реАрдорд╛рдПрдБ

* **Client CIDR ranges рдХрд╛ рдУрд╡рд░рд▓реИрдк рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ** VPC рдХреЗ local CIDR рдХреЗ рд╕рд╛рде рдЬрд┐рд╕рдореЗрдВ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ subnet рд╕реНрдерд┐рдд рд╣реИ, рдпрд╛ Client VPN endpoint рдХреЗ route table рдореЗрдВ рдореИрдиреНрдпреБрдЕрд▓реА рдЬреЛрдбрд╝реЗ рдЧрдП рдХрд┐рд╕реА рднреА рдорд╛рд░реНрдЧреЛрдВ рдХреЗ рд╕рд╛рдеред
* Client CIDR ranges рдХрд╛ рдмреНрд▓реЙрдХ рд╕рд╛рдЗрдЬ рдХрдо рд╕реЗ рдХрдо **/22** рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдФрд░ **/12 рд╕реЗ рдмрдбрд╝рд╛ рдирд╣реАрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред**
* Client CIDR range рдореЗрдВ **рдХреБрдЫ рдкрддреЗ** Client VPN endpoint рдХреЗ рдЙрдкрд▓рдмреНрдзрддрд╛ рдореЙрдбрд▓ рдХрд╛ **рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ** рдФрд░ рдЙрдиреНрд╣реЗрдВ clients рдХреЛ рдЕрд╕рд╛рдЗрди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ред рдЗрд╕рд▓рд┐рдП, рд╣рдо рд╕реБрдЭрд╛рд╡ рджреЗрддреЗ рд╣реИрдВ рдХрд┐ рдЖрдк **рдПрдХ CIDR рдмреНрд▓реЙрдХ рдЕрд╕рд╛рдЗрди рдХрд░реЗрдВ рдЬрд┐рд╕рдореЗрдВ рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ Client VPN endpoint рдкрд░ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпреЛрдЬрдирд╛ рдмрдирд╛рдИ рдЧрдИ рдЕрдзрд┐рдХрддрдо рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рд╕рдордХрд╛рд▓рд┐рдХ рдХрдиреЗрдХреНрд╢рдиреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╕реЗ рджреЛрдЧреБрдиреА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ IP рдкрддреЗ рд╣реЛрдВ**ред
* **Client CIDR range рдХреЛ рдмрджрд▓рд╛ рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддрд╛** рдЬрдм рдЖрдк Client VPN endpoint рдмрдирд╛рддреЗ рд╣реИрдВред
* Client VPN endpoint рдХреЗ рд╕рд╛рде рдЬреБрдбрд╝реЗ **subnets** **рдПрдХ рд╣реА VPC рдореЗрдВ рд╣реЛрдиреЗ рдЪрд╛рд╣рд┐рдП**ред
* рдЖрдк **рдПрдХ рд╣реА Availability Zone рдХреЗ рдХрдИ subnets рдХреЛ Client VPN endpoint рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝ рдирд╣реАрдВ рд╕рдХрддреЗ**ред
* Client VPN endpoint **dedicated tenancy VPC рдореЗрдВ subnet associations рдХрд╛ рд╕рдорд░реНрдерди рдирд╣реАрдВ рдХрд░рддрд╛**ред
* Client VPN рдХреЗрд╡рд▓ **IPv4** рдпрд╛рддрд╛рдпрд╛рдд рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред
* Client VPN **FIPS (Federal Information Processing Standards) рдЕрдиреБрд░реВрдк рдирд╣реАрдВ рд╣реИ**ред
*   рдпрджрд┐ рдЖрдкрдХреЗ Active Directory рдХреЗ рд▓рд┐рдП multi-factor authentication (MFA) рдЕрдХреНрд╖рдо рд╣реИ, рддреЛ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред

```
SCRV1:<base64_encoded_string>:<base64_encoded_string>
```
* Self-service portal **mutual authentication рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ clients рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИ**ред

<details>

<summary><strong>AWS hacking рд╕реАрдЦреЗрдВ zero рд╕реЗ hero рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХреЛ HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**official PEASS & HackTricks swag**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд╛ рд╕рдВрдЧреНрд░рд╣ред
* ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram group**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** ЁЯРж рдкрд░ **рдореБрдЭреЗ рдлреЙрд▓реЛ** рдХрд░реЗрдВ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рдЕрдкрдиреА hacking tricks рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред

</details>
