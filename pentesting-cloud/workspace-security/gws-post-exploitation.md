# GWS - Post Exploitation

<details>

<summary><strong>Naucz się hakować AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* Jeśli chcesz zobaczyć swoją **firmę reklamowaną w HackTricks** lub **pobrać HackTricks w formacie PDF**, sprawdź [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Zdobądź [**oficjalne gadżety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**Rodzinę PEASS**](https://opensea.io/collection/the-peass-family), naszą kolekcję ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **Dołącz do** 💬 [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **śledź** mnie na **Twitterze** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Podziel się swoimi sztuczkami hakerskimi, przesyłając PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriów GitHub.

</details>

## Google Groups Privesc

Domyślnie w Workspace **grupa** może być **swobodnie dostępna** dla każdego członka organizacji.\
Workspace pozwala również na **przyznanie uprawnień grupom** (nawet uprawnień GCP), więc jeśli grupy mogą być dołączane i mają dodatkowe uprawnienia, atakujący może **wykorzystać tę ścieżkę do eskalacji uprawnień**.

Potencjalnie potrzebujesz dostępu do konsoli, aby dołączyć do grup, które można dołączyć przez każdego w organizacji. Sprawdź informacje o grupach na stronie [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups).

### Dostęp do informacji o grupach mailowych

Jeśli udało ci się **skompromitować sesję użytkownika Google**, z [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups) możesz zobaczyć historię wiadomości wysłanych do grup mailowych, których użytkownik jest członkiem, i możesz znaleźć **dane uwierzytelniające** lub inne **wrażliwe dane**.

## GCP <--> GWS Pivoting

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## Takeout - Pobierz wszystko, co Google wie o koncie

Jeśli masz **sesję wewnątrz konta Google ofiary**, możesz pobrać wszystko, co Google wie o tym koncie z [**https://takeout.google.com**](https://takeout.google.com/u/1/?pageId=none)

## Vault - Pobierz wszystkie dane Workspace użytkowników

Jeśli organizacja ma włączony **Google Vault**, możesz mieć dostęp do [**https://vault.google.com**](https://vault.google.com/u/1/) i **pobrać** wszystkie **informacje**.

## Pobierz kontakty

Z [**https://contacts.google.com**](https://contacts.google.com/u/1/?hl=es\&tab=mC) możesz pobrać wszystkie **kontakty** użytkownika.

## Cloudsearch

Na stronie [**https://cloudsearch.google.com/**](https://cloudsearch.google.com) możesz przeszukiwać **wszystkie treści Workspace** (e-maile, dysk, strony...) do których użytkownik ma dostęp. Idealne do **szybkiego znalezienia wrażliwych informacji**.

## Google Chat

Na stronie [**https://mail.google.com/chat**](https://mail.google.com/chat) możesz uzyskać dostęp do Google **Chat**, gdzie możesz znaleźć wrażliwe informacje w rozmowach (jeśli takie istnieją).

## Wydobywanie z Google Drive

Podczas **udostępniania** dokumentu możesz **określić**, **które osoby** mają do niego dostęp, **udostępnić** go **całej firmie** (**lub** niektórym **grupom**) przez **wygenerowanie linku**.

Podczas udostępniania dokumentu w ustawieniach zaawansowanych możesz również **zezwolić ludziom na wyszukiwanie** tego pliku (domyślnie jest to **wyłączone**). Ważne jest jednak zauważenie, że po wyświetleniu dokumentu przez użytkowników staje się on dla nich wyszukiwalny.

Dla uproszczenia większość osób generuje i udostępnia link zamiast dodawać osoby, które mogą mieć dostęp do dokumentu.

Kilka sugerowanych sposobów na znalezienie wszystkich dokumentów:

* Szukaj wewnętrznych czatów, forów...
* **Przeszukaj** znane **dokumenty**, szukając **odwołań** do innych dokumentów. Możesz to zrobić za pomocą skryptu aplikacji [**PaperChaser**](https://github.com/mandatoryprogrammer/PaperChaser)

## **Keep Notes**

Na stronie [**https://keep.google.com/**](https://keep.google.com) możesz uzyskać dostęp do notatek użytkownika, gdzie mogą być przechowywane **wrażliwe informacje**.

### Modyfikowanie skryptów aplikacji

Na stronie [**https://script.google.com/**](https://script.google.com/) można znaleźć skrypty aplikacji użytkownika.

## **Administrowanie Workspace**

Na stronie [**https://admin.google.com**/](https://admin.google.com) możesz modyfikować ustawienia Workspace całej organizacji, jeśli masz wystarczające uprawnienia.

Możesz również znaleźć e-maile, przeszukując wszystkie faktury użytkownika w [**https://admin.google.com/ac/emaillogsearch**](https://admin.google.com/ac/emaillogsearch)

## Odnośniki

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - Hacking G Suite: The Power of Dark Apps Script Magic
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch and Beau Bullock - OK Google, How do I Red Team GSuite?

<details>

<summary><strong>Naucz się hakować AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* Jeśli chcesz zobaczyć swoją **firmę reklamowaną w HackTricks** lub **pobrać HackTricks w formacie PDF**, sprawdź [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Zdobądź [**oficjalne gadżety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**Rodzinę PEASS**](https://opensea.io/collection/the-peass-family), naszą kolekcję ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **Dołącz do** 💬 [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **śledź** mnie na **Twitterze** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Podziel się swoimi sztuczkami hakerskimi, przesyłając PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriów GitHub.

</details>
