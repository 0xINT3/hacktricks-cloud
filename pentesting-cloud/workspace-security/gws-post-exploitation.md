# GWS - 포스트 익스플로잇

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>를 통해 AWS 해킹을 처음부터 전문가까지 배워보세요<strong>!</strong></summary>

HackTricks를 지원하는 다른 방법:

* **회사를 HackTricks에서 광고하거나 HackTricks를 PDF로 다운로드**하려면 [**구독 요금제**](https://github.com/sponsors/carlospolop)를 확인하세요!
* [**공식 PEASS & HackTricks 스웨그**](https://peass.creator-spring.com)를 얻으세요.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)를 발견하세요. 독점적인 [**NFT**](https://opensea.io/collection/the-peass-family) 컬렉션입니다.
* 💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f) 또는 [**텔레그램 그룹**](https://t.me/peass)에 **참여**하거나 **Twitter**에서 저를 팔로우하세요 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* [**HackTricks**](https://github.com/carlospolop/hacktricks)와 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github 저장소에 **PR을 제출하여** 여러분의 해킹 기법을 공유하세요.

</details>

## Google Groups 권한 상승

기본적으로 Workspace에서 **그룹**은 조직의 **모든 구성원이 자유롭게 접근**할 수 있습니다.\
Workspace은 또한 그룹에 **권한을 부여**할 수 있으므로 그룹에 가입할 수 있고 추가 권한이 있는 경우 공격자는 이 경로를 **권한 상승에 악용**할 수 있습니다.

조직 내에서 누구나 가입할 수 있는 그룹에 가입하려면 콘솔에 액세스할 수 있는 권한이 필요할 수 있습니다. [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups)에서 그룹 정보를 확인하세요.

### 그룹 메일 정보에 액세스

Google 사용자 세션을 **침해**했다면 [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups)에서 사용자가 소속된 메일 그룹에 보낸 메일의 이력을 볼 수 있으며, **자격 증명**이나 **기타 민감한 데이터**를 찾을 수 있습니다.

## GCP <--> GWS 피벗팅

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## Takeout - 계정에 대한 Google의 모든 정보 다운로드

피해자의 Google 계정 내에서 **세션**을 보유하고 있다면 [**https://takeout.google.com**](https://takeout.google.com/u/1/?pageId=none)에서 해당 계정에 대해 Google이 저장한 모든 정보를 다운로드할 수 있습니다.

## Vault - 사용자의 모든 Workspace 데이터 다운로드

조직에서 **Google Vault를 활성화**한 경우 [**https://vault.google.com**](https://vault.google.com/u/1/)에 액세스하여 모든 정보를 **다운로드**할 수 있을 수 있습니다.

## 연락처 다운로드

[**https://contacts.google.com**](https://contacts.google.com/u/1/?hl=es\&tab=mC)에서 사용자의 **연락처**를 모두 다운로드할 수 있습니다.

## Cloudsearch

[**https://cloudsearch.google.com/**](https://cloudsearch.google.com)에서 사용자가 액세스할 수 있는 모든 Workspace 콘텐츠(이메일, 드라이브, 사이트 등)를 검색할 수 있습니다. 민감한 정보를 **빠르게 찾는 데** 유용합니다.

## Google Chat

[**https://mail.google.com/chat**](https://mail.google.com/chat)에서 Google **Chat**에 액세스할 수 있으며, 대화에서 민감한 정보를 찾을 수 있습니다(있는 경우).

## Google Drive Mining

문서를 **공유**할 때는 **개별적으로 액세스할 수 있는 사람**을 **지정**하거나 **링크를 생성**하여 **전체 회사**(**또는** 특정 **그룹**)와 **공유**할 수 있습니다.

문서를 공유할 때, 고급 설정에서 이 파일을 **검색할 수 있는 권한**을 **사용자에게 허용**할 수도 있습니다(기본적으로 이 기능은 **비활성화**됨). 그러나 사용자가 문서를 보면 검색 가능해집니다.

간단하게 말해서, 대부분의 사람들은 문서에 개별적으로 액세스할 수 있는 사람을 추가하는 대신 링크를 생성하고 공유할 것입니다.

모든 문서를 찾는 몇 가지 제안:

* 내부 채팅, 포럼에서 검색...
* 다른 문서에 대한 참조를 검색하여 알려진 문서를 **스파이더링**합니다. [**PaperChaser**](https://github.com/mandatoryprogrammer/PaperChaser)와 함께 App Script 내에서 이 작업을 수행할 수 있습니다.

## **Keep Notes**

[**https://keep.google.com/**](https://keep.google.com)에서 사용자의 메모에 액세스할 수 있으며, 여기에는 **민감한 정보**가 저장될 수 있습니다.

### App Scripts 수정

[**https://script.google.com/**](https://script.google.com/)에서 사용자의 APP 스크립트를 찾을 수 있습니다.

## **Workspace 관리**

[**https://admin.google.com**/](https://admin.google.com)에서 충분한 권한이 있다면 전체 조직의 Workspace 설정을 수정할 수 있습니다.

[**https://admin.google.com/ac/emaillogsearch**](https://admin.google.com/ac/emaillogsearch)에서 모든 사용자의 이메일 청구서를 검색하여 이메일을 찾을 수도 있습니다.

## 참고 자료

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - Hacking G Suite: The Power of Dark Apps Script Magic
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch and Beau Bullock - OK Google, How do I Red Team GSuite?

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>를 통해 AWS 해킹을 처음부터 전문가까지 배워보세요<strong>!</strong></summary>

HackTricks를 지원하는 다른 방법:

* **회사를 HackTricks에서 광고하거나 HackTricks를 PDF로 다운로드**하려면 [**구독 요금제**](https://github.com/sponsors/carlospolop)를 확인하세요!
* [**공식 PEASS & HackTricks 스웨그**](https://peass.creator-spring.com)를 얻으세요.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)를 발견하세요. 독점적인 [**NFT**](https://opensea.io/collection/the-peass-family) 컬렉션입니다.
* 💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f) 또는 [**텔레그램 그룹**](https://t.me/peass)에 **참여**하거나 **Twitter**에서 저를 팔로우하세요 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* [**HackTricks**](https://github.com/carlospolop/hacktricks)와 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github 저장소에 **PR을 제출하여** 여러분의 해킹 기법을 공유하세요.

</details>
