# GWS - 権限昇格後の活動

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert) で AWS ハッキングをゼロからヒーローまで学ぶ</strong></summary>

HackTricks をサポートする他の方法:

* **HackTricks にあなたの会社を広告したい**、または **HackTricks を PDF でダウンロードしたい** 場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください。
* [**公式の PEASS & HackTricks グッズ**](https://peass.creator-spring.com) を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) を発見する、私たちの独占的な [**NFTs**](https://opensea.io/collection/the-peass-family) のコレクション
* 💬 [**Discord グループ**](https://discord.gg/hRep4RUj7f) に**参加する**か、[**telegram グループ**](https://t.me/peass) に参加するか、**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm) を**フォローする**。
* **HackTricks** の GitHub リポジトリ [**HackTricks**](https://github.com/carlospolop/hacktricks) と [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) に PR を提出して、あなたのハッキングのコツを共有する。

</details>

## Google グループの権限昇格

デフォルトでは、Workspace の**グループ**は組織のメンバーなら誰でも**自由にアクセス**できます。\
Workspace では**グループに権限を付与**することも可能です（GCP の権限を含む）。したがって、グループに参加できて追加の権限がある場合、攻撃者はその道を悪用して**権限を昇格させる可能性**があります。

組織内の誰でも参加できるグループに参加するためには、コンソールへのアクセスが必要になることがあります。[**https://groups.google.com/all-groups**](https://groups.google.com/all-groups) でグループ情報を確認してください。

### グループメール情報へのアクセス

Google ユーザーセッションを**侵害した場合**、[**https://groups.google.com/all-groups**](https://groups.google.com/all-groups) からユーザーがメンバーであるメールグループに送信されたメールの履歴を見ることができ、**認証情報**やその他の**機密データ**が見つかるかもしれません。

## GCP <--> GWS ピボット

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## Takeout - アカウントに関する Google の情報をすべてダウンロード

被害者の Google アカウント内に**セッションがある場合**、[**https://takeout.google.com**](https://takeout.google.com/u/1/?pageId=none) からそのアカウントについて Google が保存しているすべての情報をダウンロードできます。

## Vault - ユーザーの Workspace データをすべてダウンロード

組織で**Google Vault が有効になっている場合**、[**https://vault.google.com**](https://vault.google.com/u/1/) にアクセスして、すべての**情報**を**ダウンロード**することができるかもしれません。

## 連絡先のダウンロード

[**https://contacts.google.com**](https://contacts.google.com/u/1/?hl=es\&tab=mC) からユーザーのすべての**連絡先**をダウンロードできます。

## Cloudsearch

[**https://cloudsearch.google.com/**](https://cloudsearch.google.com) では、ユーザーがアクセスできるすべての Workspace コンテンツ（メール、ドライブ、サイトなど）を検索できます。**機密情報を迅速に見つける**のに理想的です。

## Google Chat

[**https://mail.google.com/chat**](https://mail.google.com/chat) で Google **Chat** にアクセスでき、会話の中に機密情報が含まれている可能性があります（もしあれば）。

## Google Drive の探索

ドキュメントを**共有**する際に、アクセスできる**人々**を一人ずつ**指定**したり、**リンクを生成**して**会社全体**（**または** 特定の**グループ**）と**共有**することができます。

ドキュメントを共有する際、詳細設定でこのファイルを検索できるように**許可する**こともできます（**デフォルト**では**無効**です）。ただし、一度ユーザーがドキュメントを閲覧すると、それは彼らによって検索可能になることに注意が必要です。

簡単のために、ほとんどの人はリンクを生成して共有することを選びます。

すべてのドキュメントを見つけるための提案された方法:

* 内部チャット、フォーラムなどで検索する。
* 既知の**ドキュメント**を**スパイダリング**して他のドキュメントへの**参照**を探す。これは App Script 内で [**PaperChaser**](https://github.com/mandatoryprogrammer/PaperChaser) を使用して行うことができます。

## **Keep Notes**

[**https://keep.google.com/**](https://keep.google.com) でユーザーのノートにアクセスでき、ここに**機密情報**が保存されている可能性があります。

## **Workspace の管理**

[**https://admin.google.com**/](https://admin.google.com) で、十分な権限があれば、組織全体の Workspace 設定を変更することができるかもしれません。

また、[**https://admin.google.com/ac/emaillogsearch**](https://admin.google.com/ac/emaillogsearch) でユーザーのすべての請求書を検索することによってメールを見つけることもできます。

## 参考文献

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - G Suite のハッキング: Dark Apps Script Magic の力
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch and Beau Bullock - OK Google, GSuite のレッドチームはどうやって行うの？

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert) で AWS ハッキングをゼロからヒーローまで学ぶ</strong></summary>

HackTricks をサポートする他の方法:

* **HackTricks にあなたの会社を広告したい**、または **HackTricks を PDF でダウンロードしたい** 場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください。
* [**公式の PEASS & HackTricks グッズ**](https://peass.creator-spring.com) を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) を発見する、私たちの独占的な [**NFTs**](https://opensea.io/collection/the-peass-family) のコレクション
* 💬 [**Discord グループ**](https://discord.gg/hRep4RUj7f) に**参加する**か、[**telegram グループ**](https://t.me/peass) に参加するか、**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm) を**フォローする**。
* **HackTricks** の GitHub リポジトリ [**HackTricks**](https://github.com/carlospolop/hacktricks) と [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) に PR を提出して、あなたのハッキングのコツを共有する。

</details>
