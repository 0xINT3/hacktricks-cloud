# GWS - Post Exploitation

<details>

<summary><strong>Apprenez le piratage AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Autres moyens de soutenir HackTricks :

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**La Famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusifs
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Partagez vos astuces de piratage en soumettant des PR aux d√©p√¥ts github** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

## √âl√©vation de privil√®ges avec Google Groups

Par d√©faut dans Workspace, un **groupe** peut √™tre **librement accessible** par tout membre de l'organisation.\
Workspace permet √©galement d'**accorder des permissions aux groupes** (y compris des permissions GCP), donc si des groupes peuvent √™tre rejoints et qu'ils ont des permissions suppl√©mentaires, un attaquant peut **abuser de cette voie pour escalader des privil√®ges**.

Vous aurez potentiellement besoin d'acc√©der √† la console pour rejoindre des groupes qui permettent √† n'importe qui dans l'org de les rejoindre. V√©rifiez les informations des groupes sur [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups).

### Acc√©der aux informations de messagerie des groupes

Si vous avez r√©ussi √† **compromettre une session utilisateur Google**, depuis [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups) vous pouvez voir l'historique des mails envoy√©s aux groupes de messagerie dont l'utilisateur est membre, et vous pourriez trouver des **identifiants** ou d'autres **donn√©es sensibles**.

## Pivotement GCP <--> GWS

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## Takeout - T√©l√©charger tout ce que Google sait sur un compte

Si vous avez une **session dans le compte Google de la victime**, vous pouvez t√©l√©charger tout ce que Google enregistre sur ce compte depuis [**https://takeout.google.com**](https://takeout.google.com/u/1/?pageId=none)

## Vault - T√©l√©charger toutes les donn√©es Workspace des utilisateurs

Si une organisation a **Google Vault activ√©**, vous pourriez √™tre en mesure d'acc√©der √† [**https://vault.google.com**](https://vault.google.com/u/1/) et de **t√©l√©charger** toutes les **informations**.

## T√©l√©chargement des contacts

Depuis [**https://contacts.google.com**](https://contacts.google.com/u/1/?hl=es\&tab=mC), vous pouvez t√©l√©charger tous les **contacts** de l'utilisateur.

## Cloudsearch

Sur [**https://cloudsearch.google.com/**](https://cloudsearch.google.com), vous pouvez simplement rechercher **√† travers tout le contenu de Workspace** (email, drive, sites...) auquel un utilisateur a acc√®s. Id√©al pour **trouver rapidement des informations sensibles**.

## Google Chat

Sur [**https://mail.google.com/chat**](https://mail.google.com/chat), vous pouvez acc√©der √† un **Chat Google**, et vous pourriez trouver des informations sensibles dans les conversations (le cas √©ch√©ant).

## Exploration de Google Drive

Lors du **partage** d'un document, vous pouvez **sp√©cifier** les **personnes** qui peuvent y acc√©der une par une, **partager** avec votre **entreprise enti√®re** (**ou** avec certains **groupes** sp√©cifiques) en **g√©n√©rant un lien**.

Lors du partage d'un document, dans les param√®tres avanc√©s, vous pouvez √©galement **permettre aux gens de rechercher** ce fichier (par **d√©faut**, cela est **d√©sactiv√©**). Cependant, il est important de noter qu'une fois qu'un utilisateur consulte un document, il devient recherchable par cet utilisateur.

Pour des raisons de simplicit√©, la plupart des gens vont g√©n√©rer et partager un lien au lieu d'ajouter une par une les personnes pouvant acc√©der au document.

Quelques m√©thodes propos√©es pour trouver tous les documents :

* Rechercher dans le chat interne, les forums...
* **Explorer** les **documents** connus √† la recherche de **r√©f√©rences** √† d'autres documents. Vous pouvez faire cela avec un App Script avec [**PaperChaser**](https://github.com/mandatoryprogrammer/PaperChaser)

## **Keep Notes**

Sur [**https://keep.google.com/**](https://keep.google.com), vous pouvez acc√©der aux notes de l'utilisateur, des **informations sensibles** pourraient y √™tre enregistr√©es.

### Modifier les App Scripts

Sur [**https://script.google.com/**](https://script.google.com/), vous pouvez trouver les APP Scripts de l'utilisateur.

## **Administrer Workspace**

Sur [**https://admin.google.com**/](https://admin.google.com), vous pourriez √™tre en mesure de modifier les param√®tres de Workspace de toute l'organisation si vous avez suffisamment de permissions.

Vous pouvez √©galement trouver des emails en recherchant √† travers toutes les factures de l'utilisateur sur [**https://admin.google.com/ac/emaillogsearch**](https://admin.google.com/ac/emaillogsearch)

## R√©f√©rences

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - Piratage de G Suite : Le Pouvoir de la Magie des Scripts Apps Sombres
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch et Beau Bullock - OK Google, Comment faire du Red Team sur GSuite ?

<details>

<summary><strong>Apprenez le piratage AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Autres moyens de soutenir HackTricks :

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**La Famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusifs
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Partagez vos astuces de piratage en soumettant des PR aux d√©p√¥ts github** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
