# GWS - Post Esploitation

<details>

<summary><strong>Impara l'hacking di AWS da zero a eroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se vuoi vedere la tua **azienda pubblicizzata in HackTricks** o **scaricare HackTricks in PDF** Controlla i [**PACCHETTI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di [**NFT**](https://opensea.io/collection/the-peass-family) esclusivi
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo Telegram**](https://t.me/peass) o **seguimi** su **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Condividi i tuoi trucchi di hacking inviando PR ai repository** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) di GitHub.

</details>

## Google Groups Privesc

Per impostazione predefinita in Workspace un **gruppo** pu√≤ essere **acceduto liberamente** da qualsiasi membro dell'organizzazione.\
Workspace consente anche di **concedere autorizzazioni ai gruppi** (anche autorizzazioni GCP), quindi se i gruppi possono essere uniti e hanno autorizzazioni extra, un attaccante potrebbe **sfruttare tale percorso per elevare i privilegi**.

Potrebbe essere necessario accedere alla console per unirsi a gruppi che consentono a chiunque nell'organizzazione di unirsi. Verifica le informazioni sui gruppi in [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups).

### Accesso alle informazioni di posta dei gruppi

Se sei riuscito a **compromettere una sessione utente di Google**, da [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups) puoi vedere la cronologia delle email inviate ai gruppi di posta di cui l'utente √® membro, e potresti trovare **credenziali** o altri **dati sensibili**.

## GCP <--> GWS Pivoting

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## Takeout - Scarica tutto ci√≤ che Google sa su un account

Se hai una **sessione all'interno dell'account Google della vittima**, puoi scaricare tutto ci√≤ che Google salva su quell'account da [**https://takeout.google.com**](https://takeout.google.com/u/1/?pageId=none)

## Vault - Scarica tutti i dati di Workspace degli utenti

Se un'organizzazione ha **Google Vault abilitato**, potresti essere in grado di accedere a [**https://vault.google.com**](https://vault.google.com/u/1/) e **scaricare** tutte le **informazioni**.

## Download dei contatti

Da [**https://contacts.google.com**](https://contacts.google.com/u/1/?hl=es\&tab=mC) puoi scaricare tutti i **contatti** dell'utente.

## Cloudsearch

In [**https://cloudsearch.google.com/**](https://cloudsearch.google.com) puoi cercare **in tutti i contenuti di Workspace** (email, drive, siti...) a cui un utente ha accesso. Ideale per **trovare rapidamente informazioni sensibili**.

## Google Chat

In [**https://mail.google.com/chat**](https://mail.google.com/chat) puoi accedere a una chat di Google, e potresti trovare informazioni sensibili nelle conversazioni (se presenti).

## Google Drive Mining

Quando si **condivide** un documento, √® possibile **specificare** le **persone** che possono accedervi una per una, **condividerlo** con l'**intera azienda** (**o** con alcuni **gruppi** specifici) generando un link.

Quando si condivide un documento, nelle impostazioni avanzate √® anche possibile **consentire alle persone di cercare** questo file (per impostazione predefinita questa opzione √® **disabilitata**). Tuttavia, √® importante notare che una volta che gli utenti visualizzano un documento, possono cercarlo.

Per semplicit√†, la maggior parte delle persone generer√† e condivider√† un link anzich√© aggiungere le persone che possono accedere al documento una per una.

Alcuni modi proposti per trovare tutti i documenti:

* Cerca nella chat interna, nei forum...
* **Spider** i documenti noti cercando **riferimenti** ad altri documenti. Puoi farlo all'interno di uno script dell'app con [**PaperChaser**](https://github.com/mandatoryprogrammer/PaperChaser)

## **Keep Notes**

In [**https://keep.google.com/**](https://keep.google.com) puoi accedere alle note dell'utente, potrebbero essere presenti **informazioni sensibili**.

### Modifica degli App Scripts

In [**https://script.google.com/**](https://script.google.com/) puoi trovare gli App Scripts dell'utente.

## **Amministra Workspace**

In [**https://admin.google.com**/](https://admin.google.com), potresti essere in grado di modificare le impostazioni di Workspace dell'intera organizzazione se hai le autorizzazioni sufficienti.

Puoi anche trovare le email cercando in tutte le fatture dell'utente in [**https://admin.google.com/ac/emaillogsearch**](https://admin.google.com/ac/emaillogsearch)

## Riferimenti

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - Hacking G Suite: The Power of Dark Apps Script Magic
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch e Beau Bullock - OK Google, How do I Red Team GSuite?

<details>

<summary><strong>Impara l'hacking di AWS da zero a eroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se vuoi vedere la tua **azienda pubblicizzata in HackTricks** o **scaricare HackTricks in PDF** Controlla i [**PACCHETTI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di [**NFT**](https://opensea.io/collection/the-peass-family) esclusivi
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo Telegram**](https://t.me/peass) o **seguimi** su **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Condividi i tuoi trucchi di hacking inviando PR ai repository** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) di GitHub.

</details>
