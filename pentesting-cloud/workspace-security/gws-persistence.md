# GWS - Volharding

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** my op **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Deel jou hacktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-opslagplekke.

</details>

{% hint style="danger" %}
Alle aksies wat in hierdie gedeelte genoem word en wat instellings verander, sal 'n **veiligheidswaarskuwing na die e-pos stuur en selfs 'n drukkennisgewing na enige gekoppelde mobiele toestel** genereer.
{% endhint %}

## Volharding in Gmail

* Jy kan **filters skep om** sekuriteitskennisgewings van Google te **versteek**
* `from: (no-reply@accounts.google.com) "Security Alert"`
* Dit sal voorkom dat sekuriteits-e-posse die e-pos bereik (maar sal nie voorkom dat drukkennisgewings na die mobiele toestel gestuur word nie)

<details>

<summary>Stappe om 'n Gmail-filter te skep</summary>

(Instruksies vanaf [**hier**](https://support.google.com/mail/answer/6579))

1. Maak [Gmail](https://mail.google.com/) oop.
2. Klik op die soekbalk bo-aan, klik op **Show search options** ![photos tune](https://lh3.googleusercontent.com/cD6YR\_YvqXqNKxrWn2NAWkV6tjJtg8vfvqijKT1\_9zVCrl2sAx9jROKhLqiHo2ZDYTE=w36).
3. Voer jou soekkriteria in. As jy wil nagaan of jou soektog korrek gewerk het, kyk watter e-posse verskyn deur op **Search** te klik.&#x20;
4. Klik onder aan die soekvenster op **Create filter**.
5. Kies wat jy wil h√™ die filter moet doen.
6. Klik op **Create filter**.

Kyk na jou huidige filters (om hulle te verwyder) by [https://mail.google.com/mail/u/0/#settings/filters](https://mail.google.com/mail/u/0/#settings/filters)

</details>

<figure><img src="../../.gitbook/assets/image (142).png" alt=""><figcaption></figcaption></figure>

* Skep 'n **deurstuuradres om sensitiewe inligting** (of alles) deur te stuur - Jy benodig handmatige toegang.
* Skep 'n deurstuuradres by [https://mail.google.com/mail/u/2/#settings/fwdandpop](https://mail.google.com/mail/u/2/#settings/fwdandpop)
* Die ontvangs-adres sal dit moet bevestig
* Stel dit dan in om al die e-posse deur te stuur terwyl 'n kopie behou word (onthou om op save changes te klik):

<figure><img src="../../.gitbook/assets/image (143).png" alt=""><figcaption></figcaption></figure>

Dit is ook moontlik om filters te skep en slegs spesifieke e-posse na die ander e-posadres deur te stuur.

## App-wagwoorde

As jy daarin geslaag het om 'n **Google-gebruikersessie te kompromitteer** en die gebruiker het **2FA**, kan jy 'n [**app-wagwoord**](https://support.google.com/accounts/answer/185833?hl=en) genereer (volg die skakel om die stappe te sien). Let daarop dat **Google nie meer app-wagwoorde aanbeveel nie en dit herroep** wanneer die gebruiker **sy Google-rekeningwagwoord verander**.

**Selfs as jy 'n oop sessie het, sal jy die wagwoord van die gebruiker moet weet om 'n app-wagwoord te skep.**

{% hint style="info" %}
App-wagwoorde kan **slegs gebruik word met rekeninge waarop 2-stap-verifikasie** aangeskakel is.
{% endhint %}

## Verander 2-FA en soortgelyke

Dit is ook moontlik om **2-FA af te skakel of 'n nuwe toestel** (of telefoonnommer) te registreer (of telefoonnommer) op hierdie bladsy [**https://myaccount.google.com/security**](https://myaccount.google.com/security)**.**\
**Dit is ook moontlik om wagwoorde te genereer (voeg jou eie toestel by), die wagwoord te verander, mobiele nommers by te voeg vir verifikasie van telefoon en herstel, die herstel-e-pos te verander en die sekuriteitsvrae te verander).**

{% hint style="danger" %}
Om te **verhoed dat sekuriteitsdruk-kennisgewings** die gebruiker se foon bereik, kan jy hom **afteken van sy slimfoon** (alhoewel dit vreemd sou wees) omdat jy hom nie weer hier kan inteken nie.

Dit is ook moontlik om die toestel op te spoor.
{% endhint %}

**Selfs as jy 'n oop sessie het, sal jy die wagwoord van die gebruiker moet weet om hierdie instellings te verander.**

## Volharding via OAuth-toepassings

As jy die rekening van 'n gebruiker **gekompromitteer** het, kan jy net **aanvaar** om alle moontlike toestemmings aan 'n **OAuth-toepassing** te verleen. Die enigste probleem is dat Workspace gekonfigureer kan word om **onheroordeelde eksterne en/of interne OAuth-toepassings te verbied.**\
Dit is redelik algemeen vir Workspace-organisasies om nie standaard eksterne OAuth-toepassings te vertrou nie, maar interne toepassings wel te vertrou. As jy dus **genoeg toestemmings het om 'n nuwe OAuth-toepassing** binne die organisasie te genereer en eksterne toepassings word verbied, genereer dit en **gebruik daardie nuwe interne OAuth-toepassing om volharding te handhaaf**.

Kyk na die volgende bladsy vir meer inligting oor OAuth-toepassings:

{% content-ref url="gws-google-platforms-phishing/" %}
[gws-google-platforms-phishing](gws-google-platforms-phishing/)
{% endcontent-ref %}

## Volharding via delegasie

Jy kan die rekening net **delegeer na 'n ander rekening** wat deur die aanvaller beheer word (as jy hiervoor toestemming het). In Workspace-**organisasies** moet hierdie opsie **ingeskakel** wees. Dit kan vir almal gedeaktiveer word, ingeskakel word vir sekere gebruikers/groepe of vir almal (gewoonlik is dit slegs ingeskakel vir sekere gebruikers/groepe of heeltemal gedeaktiveer).

<details>

<summary>As jy 'n Workspace-admin is, kyk hierna om die funksie in te skakel</summary>

(Inligting [gekopieer vanaf die dokumentasie](https://support.google.com/a/answer/7223765))

As 'n administrateur vir jou organisasie (byvoorbeeld jou werk of skool), beheer jy of gebruikers toegang tot hul Gmail-rekening kan delegeer. Jy kan toelaat dat almal die opsie het om hul rekening te delegeer. Of, laat slegs mense in sekere departemente toe om delegasie op te st
### Stap 1: Skakel Gmail-delegasie aan vir jou gebruikers&#x20;

**Voordat jy begin:** Om die instelling toe te pas vir sekere gebruikers, plaas hul rekeninge in 'n [organisasie-eenheid](https://support.google.com/a/topic/1227584).

1. [Meld aan](https://admin.google.com/) by jou [Google Admin-konsole](https://support.google.com/a/answer/182076).

Meld aan met 'n _administrateur-rekening_, nie jou huidige rekening CarlosPolop@gmail.com
2. In die Admin-konsole, gaan na die Menu ![](https://storage.googleapis.com/support-kms-prod/JxKYG9DqcsormHflJJ8Z8bHuyVI5YheC0lAp)![en dan](https://storage.googleapis.com/support-kms-prod/Th2Tx0uwPMOhsMPn7nRXMUo3vs6J0pto2DTn)![](https://storage.googleapis.com/support-kms-prod/ocGtUSENh4QebLpvZcmLcNRZyaTBcolMRSyl) **Apps**![en dan](https://storage.googleapis.com/support-kms-prod/Th2Tx0uwPMOhsMPn7nRXMUo3vs6J0pto2DTn)**Google Workspace**![en dan](https://storage.googleapis.com/support-kms-prod/Th2Tx0uwPMOhsMPn7nRXMUo3vs6J0pto2DTn)**Gmail**![en dan](https://storage.googleapis.com/support-kms-prod/Th2Tx0uwPMOhsMPn7nRXMUo3vs6J0pto2DTn)**Gebruikersinstellings**.
3. Om die instelling op almal toe te pas, laat die top organisasie-eenheid geselekteer. Kies andersins 'n kinder [organisasie-eenheid](https://support.google.com/a/topic/1227584).
4. Klik op **Posdelegasie**.
5. Merk die **Laat gebruikers toe om toegang tot hul posbus aan ander gebruikers in die domein te delegeren**-blokkie aan.
6. (Opsioneel) Om gebruikers in staat te stel om te spesifiseer watter afstuurderinligting ingesluit moet word in gedelegeerde boodskappe wat vanuit hul rekening gestuur word, merk die **Laat gebruikers toe om hierdie instelling aan te pas**-blokkie aan.
7. Kies 'n opsie vir die verstek afstuurderinligting wat ingesluit word in boodskappe wat deur gedelegeerdes gestuur word:&#x20;
* **Wys die rekeningseienaar en die gedelegeerde wat die e-pos gestuur het**‚ÄîBoodskappe sluit die e-posadresse van die Gmail-rekeningseienaar en die gedelegeerde in.
* **Wys slegs die rekeningseienaar**‚ÄîBoodskappe sluit slegs die e-posadres van die Gmail-rekeningseienaar in. Die gedelegeerde se e-posadres word nie ingesluit nie.
8. (Opsioneel) Om gebruikers toe te laat om 'n groep in Groepe as 'n gedelegeerde by te voeg, merk die **Laat gebruikers toe om toegang tot hul posbus aan 'n Google-groep te verleen**-blokkie aan.
9. Klik op **Stoor**. As jy 'n kinder organisasie-eenheid gekonfigureer het, kan jy moontlik die instellings van 'n ouer organisasie-eenheid **Oorerf** of **Oorskryf**.
10. (Opsioneel) Om Gmail-delegasie aan te skakel vir ander organisasie-eenhede, herhaal stappe 3‚Äì9.

Veranderinge kan tot 24 uur neem, maar gebeur gewoonlik vinniger. [Leer meer](https://support.google.com/a/answer/7514107)

### Stap 2: Laat gebruikers gedelegeerdes vir hul rekeninge instel

Nadat jy delegasie aangeskakel het, gaan jou gebruikers na hul Gmail-instellings om gedelegeerdes toe te ken. Gedelegeerdes kan dan boodskappe lees, stuur en ontvang namens die gebruiker. &#x20;

Vir meer inligting, verwys gebruikers na [Delegeer en saamwerk aan e-pos](https://support.google.com/a/users/answer/138350).

</details>

<details>

<summary>Van 'n gewone gebruiker, kyk hier die instruksies om te probeer om jou toegang te delegeer</summary>

(Inligting gekopieer [**van die dokumentasie**](https://support.google.com/mail/answer/138350))

Jy kan tot 10 gedelegeerdes byvoeg.

As jy Gmail gebruik deur jou werk, skool, of ander organisasie:

* Jy kan tot 1000 gedelegeerdes binne jou organisasie byvoeg.
* Met tipiese gebruik kan 40 gedelegeerdes terselfdertyd toegang tot 'n Gmail-rekening h√™.&#x20;
* As jy outomatiese prosesse gebruik, soos API's of blaaieruitbreidings, kan 'n paar gedelegeerdes terselfdertyd toegang tot 'n Gmail-rekening h√™.

1. Op jou rekenaar, maak [Gmail](https://mail.google.com/) oop. Jy kan nie gedelegeerdes byvoeg vanuit die Gmail-toep nie.
2. In die boonste regterhoek, klik op Instellings ![Instellings](https://lh3.googleusercontent.com/p3J-ZSPOLtuBBR\_ofWTFDfdgAYQgi8mR5c76ie8XQ2wjegk7-yyU5zdRVHKybQgUlQ=w36-h36) ![en dan](https://lh3.googleusercontent.com/3\_l97rr0GvhSP2XV5OoCkV2ZDTIisAOczrSdzNCBxhIKWrjXjHucxNwocghoUa39gw=w36-h36) **Sien alle instellings**.
3. Klik op die **Rekeninge en invoer** of **Rekeninge**-koppelvlak.
4. In die "Verleen toegang tot jou rekening"-afdeling, klik op **Voeg nog 'n rekening by**. As jy Gmail gebruik deur jou werk of skool, mag jou organisasie e-posdelegasie beperk. As jy hierdie instelling nie sien nie, kontak jou administrateur.
* As jy nie die opsie Skenk toegang tot jou rekening sien nie, is dit beperk.
5. Voer die e-posadres van die persoon wat jy wil byvoeg in. As jy Gmail gebruik deur jou werk, skool, of ander organisasie, en jou administrateur dit toelaat, kan jy die e-posadres van 'n groep invoer. Hierdie groep moet dieselfde domein as jou organisasie h√™. Eksterne lede van die groep word gedelegeerde toegang ontken. \
\
**Belangrik:** As die rekening wat jy delegeer 'n nuwe rekening is of as die wagwoord gereset is, moet die administrateur die vereiste om die wagwoord te verander wanneer jy die eerste keer aanmeld, uitskakel.

* [Leer hoe 'n administrateur 'n gebruiker kan skep](https://support.google.com/a/answer/33310).
* [Leer hoe 'n administrateur wagwoorde kan herstel](https://support.google.com/a/answer/33319).

6\. Klik op **Volgende stap** ![en dan](https://lh3.googleusercontent.com/QbWcYKta5vh\_4-OgUeFmK-JOB0YgLLoGh69P478nE6mKdfpWQniiBabjF7FVoCVXI0g=h36) **Stuur e-pos om toegang te verleen**.

Die persoon wat jy bygevoeg het, sal 'n e-pos ontvang waarin hulle gevra word om te bevestig. Die uitnodiging verval na 'n week.

As jy 'n groep bygevoeg het, sal
* **Deel jou hacking truuks deur PRs in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.
