# GWS - Volharding

<details>

<summary><strong>Leer AWS-hacking vanaf nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat** Kyk na die [**INSKRYWINGSPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**Die PEASS Familie**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** my op **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Deel jou haktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>

{% hint style="gevaar" %}
Alle aksies wat in hierdie afdeling genoem word en instellings verander, sal 'n **sekuriteitswaarskuwing na die e-pos stuur en selfs 'n drukkennisgewing na enige gesinkroniseerde mobiele toestel** met die rekening genereer.
{% endhint %}

## **Volharding in Gmail**

* Jy kan **filters skep om** sekuriteitskennisgewings van Google te **versteek**
* `from: (no-reply@accounts.google.com) "Security Alert"`
* Dit sal voorkom dat sekuriteits-e-posse die e-pos bereik (maar sal nie voorkom dat drukkennisgewings na die mobiele toestel gestuur word nie)

<details>

<summary>Stappe om 'n gmail-filter te skep</summary>

(Instruksies van [**hier**](https://support.google.com/mail/answer/6579))

1. Maak [Gmail](https://mail.google.com/) oop.
2. Klik in die soekblokkie bo-aan op Wys soekopsies ![photos tune](https://lh3.googleusercontent.com/cD6YR\_YvqXqNKxrWn2NAWkV6tjJtg8vfvqijKT1\_9zVCrl2sAx9jROKhLqiHo2ZDYTE=w36) .
3. Voer jou soekkriteria in. As jy wil nagaan of jou soektog korrek gewerk het, kyk watter e-posse verskyn deur op **Soek** te klik.&#x20;
4. Onder aan die soekvenster, klik op **Skep filter**.
5. Kies wat jy wil h√™ die filter moet doen.
6. Klik op **Skep filter**.

Kyk na jou huidige filter (om hulle te verwyder) in [https://mail.google.com/mail/u/0/#settings/filters](https://mail.google.com/mail/u/0/#settings/filters)

</details>

<figure><img src="../../.gitbook/assets/image (331).png" alt=""><figcaption></figcaption></figure>

* Skep **deurverwysingsadres om sensitiewe inligting** (of alles) deur te stuur - Jy benodig handmatige toegang.
* Skep 'n deurverwysingsadres in [https://mail.google.com/mail/u/2/#settings/fwdandpop](https://mail.google.com/mail/u/2/#settings/fwdandpop)
* Die ontvangsadresse moet dit bevestig
* Stel dan in om al die e-posse deur te stuur terwyl 'n afskrif behou word (onthou om op stoor veranderinge te klik):

<figure><img src="../../.gitbook/assets/image (332).png" alt=""><figcaption></figcaption></figure>

Dit is ook moontlik om filters te skep en slegs spesifieke e-posse na die ander e-posadres deur te stuur.

## App wagwoorde

As jy daarin geslaag het om **'n Google-gebruikersessie te kompromitteer** en die gebruiker het **2FA**, kan jy **'n [app-wagwoord](https://support.google.com/accounts/answer/185833?hl=en) genereer** (volg die skakel om die stappe te sien). Let daarop dat **App-wagwoorde nie meer deur Google aanbeveel word nie en herroep** word wanneer die gebruiker **sy Google-rekeningwagwoord verander.**

**Selfs al het jy 'n oop sessie, sal jy die wagwoord van die gebruiker moet weet om 'n app-wagwoord te skep.**

{% hint style="inligting" %}
App-wagwoorde kan **slegs gebruik word met rekeninge wat 2-stap-verifikasie** aan het.
{% endhint %}

## Verander 2-FA en soortgelyke

Dit is ook moontlik om **2-FA af te skakel of 'n nuwe toestel** (of telefoonnommer) in te skryf op hierdie bladsy [**https://myaccount.google.com/security**](https://myaccount.google.com/security)**.**\
**Dit is ook moontlik om wagwoorde te genereer (voeg jou eie toestel by), verander die wagwoord, voeg mobiele nommers by vir verifikasie van fone en herwinning, verander die herwin-e-pos en verander die sekuriteitsvrae).**

{% hint style="gevaar" %}
Om te **verhoed dat sekuriteitsdrukkennisgewings** die gebruiker se foon bereik, kan jy **sy slimfoon afteken** (alhoewel dit vreemd sou wees) omdat jy hom nie weer hier kan aanmeld nie.

Dit is ook moontlik om **die toestel op te spoor.**
{% endhint %}

**Selfs al het jy 'n oop sessie, sal jy die wagwoord van die gebruiker moet weet om hierdie instellings te verander.**

## Volharding via OAuth-toepassings

As jy **die rekening van 'n gebruiker gekompromitteer het,** kan jy net **aanvaar** om alle moontlike toestemmings aan 'n **OAuth-toepassing** te verleen. Die enigste probleem is dat Workspace kan ingestel word om **onopgesmukte eksterne en/of interne OAuth-toepassings te verbied.**\
Dit is redelik algemeen vir Workspace-organisasies om nie standaard eksterne OAuth-toepassings te vertrou nie, maar interne wel, dus as jy **genoeg toestemmings het om 'n nuwe OAuth-toepassing te genereer** binne die organisasie en eksterne toepassings is verbied, genereer dit en **gebruik daardie nuwe interne OAuth-toepassing om volharding te handhaaf**.

Kyk na die volgende bladsy vir meer inligting oor OAuth-toepassings:

{% content-ref url="gws-google-platforms-phishing/" %}
[gws-google-platforms-phishing](gws-google-platforms-phishing/)
{% endcontent-ref %}

## Volharding via delegasie

Jy kan net **die rekening delegeer** aan 'n ander rekening wat deur die aanvaller beheer word (indien jy hiertoe toegelaat word). In Workspace **Organisasies** moet hierdie opsie **geaktiveer** wees. Dit kan vir almal gedeaktiveer word, geaktiveer word vir sekere gebruikers/groepe of vir almal (gewoonlik is dit slegs geaktiveer vir sekere gebruikers/groepe of heeltemal gedeaktiveer).

<details>

<summary>As jy 'n Workspace-admin is, kyk hierna om die funksie te aktiveer</summary>

(Inligting [gekopieer van die dokumente](https://support.google.com/a/answer/7223765))

As 'n administrateur vir jou organisasie (byvoorbeeld jou werk of skool), beheer jy of gebruikers toegang tot hul Gmail-rekening kan delegeer. Jy kan almal die opsie gee om hul rekening te delegeer. Of, laat net mense in sekere departemente toe om delegeering op te stel. Byvoorbeeld, jy kan:

* Voeg 'n administratiewe assistent as 'n afgevaardigde by jou Gmail-rekening sodat hulle e-pos kan lees en stuur namens jou.&#x20;
* Voeg 'n groep, soos jou verkope-afdeling, in Groepe as 'n afgevaardigde by om almal toegang tot een Gmail-rekening te gee.

Gebruikers kan slegs toegang tot 'n ander gebruiker in dieselfde organisasie delegeer, ongeag hul domein of hul organisatoriese eenheid.

### Delegasie-limiete & -beperkings&#x20;

* **Laat gebruikers toe om hul posbus-toegang aan 'n Google-groep te verleen**-opsie: Om hierdie opsie te gebruik, moet dit geaktiveer word vir die OU van die afgevaardigde rekening en vir elke groeplid se OU. Groeplede wat aan 'n OU behoort waarsonder hierdie opsie geaktiveer is, kan nie toegang tot die afgevaardigde rekening kry nie.
* Met tipiese gebruik kan 40 afgevaardigde gebruikers terselfdertyd toegang tot 'n Gmail-rekening kry. Bogenoemde gemiddelde gebruik deur een of meer afgevaardigdes kan hierdie getal verminder.&#x20;
* Geoutomatiseerde prosesse wat gereeld toegang tot Gmail kry, kan ook die aantal afgevaardigdes wat terselfdertyd toegang tot 'n rekening kan kry, verminder. Hierdie prosesse sluit API's of blaaieruitbreidings in wat gereeld toegang tot Gmail kry.
* 'n Enkele Gmail-rekening ondersteun tot 1,000 unieke afgevaardigdes. 'n Groep in Groepe tel as een afgevaardigde na die limiet.
* Delegasie verhoog nie die limiete vir 'n Gmail-rekening nie. Gmail-rekeninge met afgevaardigde gebruikers het die standaard Gmail-rekeninglimiete en -beleide. Vir meer inligting, besoek [Gmail-limiete en -beleide](https://support.google.com/a/topic/28609).
### Stap 1: Skakel Gmail-delegasie aan vir jou gebruikers&#x20;

**Voordat jy begin:** Om die instelling op sekere gebruikers toe te pas, plaas hul rekeninge in 'n [organisasie-eenheid](https://support.google.com/a/topic/1227584).

1. [Teken in](https://admin.google.com/) by jou [Google Admin-konsole](https://support.google.com/a/answer/182076).

Teken in met 'n _administrateur-rekening_, nie jou huidige rekening CarlosPolop@gmail.com
2. In die Admin-konsole, gaan na die Menu ![](https://storage.googleapis.com/support-kms-prod/JxKYG9DqcsormHflJJ8Z8bHuyVI5YheC0lAp)![en dan](https://storage.googleapis.com/support-kms-prod/Th2Tx0uwPMOhsMPn7nRXMUo3vs6J0pto2DTn)![](https://storage.googleapis.com/support-kms-prod/ocGtUSENh4QebLpvZcmLcNRZyaTBcolMRSyl) **Apps**![en dan](https://storage.googleapis.com/support-kms-prod/Th2Tx0uwPMOhsMPn7nRXMUo3vs6J0pto2DTn)**Google Workspace**![en dan](https://storage.googleapis.com/support-kms-prod/Th2Tx0uwPMOhsMPn7nRXMUo3vs6J0pto2DTn)**Gmail**![en dan](https://storage.googleapis.com/support-kms-prod/Th2Tx0uwPMOhsMPn7nRXMUo3vs6J0pto2DTn)**Gebruikersinstellings**.
3. Om die instelling op almal toe te pas, los die boonste organisasie-eenheid geselekteer. Andersins, kies 'n kinder [organisasie-eenheid](https://support.google.com/a/topic/1227584).
4. Klik op **Posdelegasie**.
5. Merk die **Laat gebruikers toe om toegang tot hul posbus aan ander gebruikers in die domein te delegeer** blokkie aan.
6. (Opsioneel) Om gebruikers toe te laat om te spesifiseer watter afsenderinligting ingesluit word in gedelegeerde boodskappe wat vanaf hul rekening gestuur word, merk die **Laat gebruikers toe om hierdie instelling aan te pas** blokkie aan.
7. Kies 'n opsie vir die verstek afsenderinligting wat ingesluit word in boodskappe gestuur deur gedelegeerdes:&#x20;
* **Wys die rekening eienaar en die gedelegeerde wat die e-pos gestuur het**‚ÄîBoodskappe sluit die e-posadresse van die Gmail-rekening eienaar en die gedelegeerde in.
* **Wys net die rekening eienaar**‚ÄîBoodskappe sluit slegs die e-posadres van die Gmail-rekening eienaar in. Die gedelegeerde se e-posadres word nie ingesluit nie.
8. (Opsioneel) Om gebruikers toe te laat om 'n groep in Groepe as 'n gedelegeerde by te voeg, merk die **Laat gebruikers toe om hul posbus-toegang aan 'n Google-groep te verleen** blokkie aan.
9. Klik op **Stoor**. As jy 'n kinder organisasie-eenheid gekonfigureer het, kan jy dalk die ouer organisasie-eenheid se instellings **Oorerf** of **Oorskry**.
10. (Opsioneel) Om Gmail-delegasie aan te skakel vir ander organisasie-eenhede, herhaal stappe 3‚Äì9.

Veranderinge kan tot 24 uur neem, maar gebeurlik gebeur dit vinniger. [Leer meer](https://support.google.com/a/answer/7514107)

### Stap 2: Laat gebruikers gedelegeerdes vir hul rekeninge instel

Nadat jy delegasie aanskakel, gaan jou gebruikers na hul Gmail-instellings om gedelegeerdes toe te ken. Gedelegeerdes kan dan boodskappe lees, stuur, en ontvang namens die gebruiker. &#x20;

Vir meer inligting, verwys gebruikers na [Delegeer en saamwerk aan e-pos](https://support.google.com/a/users/answer/138350).

</details>

<details>

<summary>Van 'n gewone gebruiker, kyk hier die instruksies om te probeer om jou toegang te delegeer</summary>

(Inligting gekopieer [**van die dokumente**](https://support.google.com/mail/answer/138350))

Jy kan tot 10 gedelegeerdes byvoeg.

As jy Gmail gebruik deur jou werk, skool, of 'n ander organisasie:

* Jy kan tot 1000 gedelegeerdes binne jou organisasie byvoeg.
* Met tipiese gebruik, kan 40 gedelegeerdes toegang tot 'n Gmail-rekening h√™ op dieselfde tyd.&#x20;
* As jy outomatiese prosesse gebruik, soos API's of blaaieruitbreidings, kan 'n paar gedelegeerdes toegang tot 'n Gmail-rekening h√™ op dieselfde tyd.

1. Op jou rekenaar, maak [Gmail](https://mail.google.com/) oop. Jy kan nie gedelegeerdes byvoeg vanuit die Gmail-toep nie.
2. In die boonste reg, klik op Instellings ![Instellings](https://lh3.googleusercontent.com/p3J-ZSPOLtuBBR\_ofWTFDfdgAYQgi8mR5c76ie8XQ2wjegk7-yyU5zdRVHKybQgUlQ=w36-h36) ![en dan](https://lh3.googleusercontent.com/3\_l97rr0GvhSP2XV5OoCkV2ZDTIisAOczrSdzNCBxhIKWrjXjHucxNwocghoUa39gw=w36-h36) **Sien alle instellings**.
3. Klik op die **Rekeninge en invoer** of **Rekeninge**-tabblad.
4. In die "Verleen toegang tot jou rekening" afdeling, klik **Voeg 'n ander rekening by**. As jy Gmail gebruik deur jou werk of skool, mag jou organisasie e-posdelegasie beperk. As jy nie hierdie instelling sien nie, kontak jou admin.
* As jy nie Skenk toegang tot jou rekening sien nie, is dit beperk.
5. Voer die e-posadres van die persoon wat jy wil byvoeg in. As jy Gmail gebruik deur jou werk, skool, of 'n ander organisasie, en jou admin dit toelaat, kan jy die e-posadres van 'n groep invoer. Hierdie groep moet dieselfde domein as jou organisasie h√™. Eksterne lede van die groep word delegasietoegang ontneem. \
\
**Belangrik:** As die rekening wat jy delegeer 'n nuwe rekening is of die wagwoord is gereset, moet die Admin die vereiste om die wagwoord te verander wanneer jy eerste keer teken, afskakel.

* [Leer hoe 'n Admin 'n gebruiker kan skep](https://support.google.com/a/answer/33310).
* [Leer hoe 'n Admin wagwoorde kan herstel](https://support.google.com/a/answer/33319).

6\. Klik **Volgende stap** ![en dan](https://lh3.googleusercontent.com/QbWcYKta5vh\_4-OgUeFmK-JOB0YgLLoGh69P478nE6mKdfpWQniiBabjF7FVoCVXI0g=h36) **Stuur e-pos om toegang te verleen**.

Die persoon wat jy bygevoeg het, sal 'n e-pos kry wat hulle vra om te bevestig. Die uitnodiging verval na 'n week.

As jy 'n groep bygevoeg het, sal alle groeplede gedelegeerdes word sonder om te bevestig.&#x20;

Nota: Dit kan tot 24 uur neem voordat die delegasie begin werk.

</details>

## Volharding via Android-toep

As jy 'n **sessie binne slagoffers Google-rekening** het, kan jy na die **Play Store** blaai en moontlik **malware installeer** wat jy reeds na die winkel gelaai het direk **na die foon** om volharding te handhaaf en toegang tot die slagoffer se foon te verkry.

## **Volharding via** App-skripte

Jy kan **tydgebaseerde afleiers** in App-skripte skep, sodat as die App-skrip deur die gebruiker aanvaar word, dit **geaktiveer** sal word selfs **sonder dat die gebruiker dit toegang gee**. Vir meer inligting oor hoe om dit te doen, kyk:

{% content-ref url="gws-google-platforms-phishing/gws-app-scripts.md" %}
[gws-app-scripts.md](gws-google-platforms-phishing/gws-app-scripts.md)
{% endcontent-ref %}

## Verwysings

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - Hack van G Suite: Die Krag van Donker App-skripsielug
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch en Beau Bullock - OK Google, Hoe Red Team GSuite?

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat** Kyk na die [**INSKRYWINGSPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**Die PEASS Familie**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFT's**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** my op **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Deel jou hacking truuks deur PRs in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
