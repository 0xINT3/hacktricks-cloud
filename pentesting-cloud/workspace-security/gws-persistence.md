# GWS - Upornost

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **vašu kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu**, proverite [**PLANOVE ZA PRETPLATU**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili me **pratite** na **Twitter-u** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

{% hint style="danger" %}
Sve radnje navedene u odeljku koje menjaju postavke generisaće **bezbednosno upozorenje na e-mail i čak push obaveštenje na bilo koji sinhronizovani mobilni uređaj** sa nalogom.
{% endhint %}

## **Upornost u Gmail-u**

* Možete kreirati **filtere da sakrijete** bezbednosna obaveštenja od Google-a
* `from: (no-reply@accounts.google.com) "Security Alert"`
* Ovo će sprečiti da bezbednosne e-mail poruke stignu na e-mail (ali neće sprečiti push obaveštenja na mobilnom)

<details>

<summary>Koraci za kreiranje Gmail filtera</summary>

(Uputstva sa [**ovde**](https://support.google.com/mail/answer/6579))

1. Otvorite [Gmail](https://mail.google.com/).
2. U polju za pretragu na vrhu, kliknite na "Prikaži opcije pretrage" ![photos tune](https://lh3.googleusercontent.com/cD6YR\_YvqXqNKxrWn2NAWkV6tjJtg8vfvqijKT1\_9zVCrl2sAx9jROKhLqiHo2ZDYTE=w36) .
3. Unesite svoje kriterijume pretrage. Ako želite da proverite da li je pretraga uspela, vidite koje e-mail poruke se pojavljuju klikom na **Pretraga**.&#x20;
4. Na dnu prozora pretrage, kliknite na **Kreiraj filter**.
5. Izaberite šta želite da filter uradi.
6. Kliknite na **Kreiraj filter**.

Proverite svoje trenutne filtere (da biste ih obrisali) na [https://mail.google.com/mail/u/0/#settings/filters](https://mail.google.com/mail/u/0/#settings/filters)

</details>

<figure><img src="../../.gitbook/assets/image (142).png" alt=""><figcaption></figcaption></figure>

* Kreirajte **adresu za prosleđivanje osetljivih informacija** (ili svega) - Potrebno je ručno pristupiti.
* Kreirajte adresu za prosleđivanje na [https://mail.google.com/mail/u/2/#settings/fwdandpop](https://mail.google.com/mail/u/2/#settings/fwdandpop)
* Adresa koja prima će morati da potvrdi ovo
* Zatim, postavite da se svi e-mailovi prosleđuju uz čuvanje kopije (ne zaboravite da kliknete na sačuvaj promene):

<figure><img src="../../.gitbook/assets/image (143).png" alt=""><figcaption></figcaption></figure>

Takođe je moguće kreirati filtere i prosleđivati samo određene e-mail poruke na drugu e-mail adresu.

## Lozinke aplikacija

Ako ste uspeli da **kompromitujete sesiju korisnika Google-a** i korisnik ima **2FA**, možete **generisati** [**lozinku aplikacije**](https://support.google.com/accounts/answer/185833?hl=en) (pratite link da biste videli korake). Imajte na umu da **Google više ne preporučuje lozinke aplikacija i povlače se** kada korisnik **promeni lozinku svog Google naloga.**

**Čak i ako imate otvorenu sesiju, moraćete da znate lozinku korisnika da biste kreirali lozinku aplikacije.**

{% hint style="info" %}
Lozinke aplikacija mogu se **koristiti samo sa nalozima koji imaju uključenu dvostepenu verifikaciju**.
{% endhint %}

## Promena 2-FA i slično

Takođe je moguće **isključiti 2-FA ili upisati novi uređaj** (ili broj telefona) na ovoj stranici [**https://myaccount.google.com/security**](https://myaccount.google.com/security)**.**\
**Takođe je moguće generisati ključeve za pristup (dodajte sopstveni uređaj), promeniti lozinku, dodati mobilne brojeve za verifikaciju telefona i oporavak, promeniti e-mail za oporavak i promeniti sigurnosna pitanja).**

{% hint style="danger" %}
Da biste sprečili da bezbednosna push obaveštenja stignu na telefon korisnika, možete ga **odjaviti sa svog pametnog telefona** (iako bi to bilo čudno) jer ga ne možete ponovo prijaviti sa ove stranice.

Takođe je moguće **locirati uređaj**.
{% endhint %}

**Čak i ako imate otvorenu sesiju, moraćete da znate lozinku korisnika da biste promenili ove postavke.**

## Upornost putem OAuth aplikacija

Ako ste **kompromitovali nalog korisnika**, možete jednostavno **prihvatiti** da dodelite sve moguće dozvole **OAuth aplikaciji**. Jedini problem je što Workspace može biti konfigurisan da **ne dozvoljava neodobrenim spoljnim i/ili internim OAuth aplikacijama.**\
Prilično je uobičajeno da Workspace organizacije po defaultu ne veruju spoljnim OAuth aplikacijama, ali veruju internim, pa ako imate **dovoljno dozvola da generišete novu OAuth aplikaciju** unutar organizacije i spoljne aplikacije su zabranjene, generišite je i **koristite tu novu internu OAuth aplikaciju za održavanje upornosti**.

Proverite sledeću stranicu za više informacija o OAuth aplikacijama:

{% content-ref url="gws-google-platforms-phishing/" %}
[gws-google-platforms-phishing](gws-google-platforms-phishing/)
{% endcontent-ref %}

## Upornost putem delegacije

Možete jednostavno **delegirati nalog** drugom nalogu koji kontroliše napadač (ako vam je to dozvoljeno). U Workspace **Organizacijama** ova opcija mora biti **omogućena**. Može biti onemogućena za sve, omogućena za određene korisnike/grupe ili za sve (obično je omogućena samo za određene korisnike/grupe ili potpuno onemogućena).

<details>

<summary>Ako ste administrator Workspace-a, proverite ovo da biste omogućili funkciju</summary>

(Informacije [kopirane sa dokumentacije](https://support.google.com/a/answer/7223765))

Kao administrator za vašu organizaciju (na primer, vaš posao ili škola), vi kontrolišete da li korisnici mog
### Korak 1: Uključite delegaciju Gmaila za svoje korisnike

**Pre nego što počnete:** Da biste primenili podešavanje za određene korisnike, stavite njihove naloge u [organizacionu jedinicu](https://support.google.com/a/topic/1227584).

1. [Prijavite se](https://admin.google.com/) na svoju [Google Admin konzolu](https://support.google.com/a/answer/182076).

Prijavite se koristeći _administratorski nalog_, a ne svoj trenutni nalog CarlosPolop@gmail.com.
2. U Admin konzoli idite na Meni ![](https://storage.googleapis.com/support-kms-prod/JxKYG9DqcsormHflJJ8Z8bHuyVI5YheC0lAp)![a zatim](https://storage.googleapis.com/support-kms-prod/Th2Tx0uwPMOhsMPn7nRXMUo3vs6J0pto2DTn)![](https://storage.googleapis.com/support-kms-prod/ocGtUSENh4QebLpvZcmLcNRZyaTBcolMRSyl) **Aplikacije**![a zatim](https://storage.googleapis.com/support-kms-prod/Th2Tx0uwPMOhsMPn7nRXMUo3vs6J0pto2DTn)**Google Workspace**![a zatim](https://storage.googleapis.com/support-kms-prod/Th2Tx0uwPMOhsMPn7nRXMUo3vs6J0pto2DTn)**Gmail**![a zatim](https://storage.googleapis.com/support-kms-prod/Th2Tx0uwPMOhsMPn7nRXMUo3vs6J0pto2DTn)**Podešavanja korisnika**.
3. Da biste primenili podešavanje za sve, ostavite izabranu gornju organizacionu jedinicu. U suprotnom, izaberite podređenu [organizacionu jedinicu](https://support.google.com/a/topic/1227584).
4. Kliknite na **Delegacija pošte**.
5. Označite polje **Dozvoli korisnicima da delegiraju pristup svojoj poštanskoj sandučiću drugim korisnicima u domenu**.
6. (Opciono) Da biste omogućili korisnicima da specificiraju koje informacije o pošiljaocu su uključene u delegirane poruke poslate iz njihovog naloga, označite polje **Dozvoli korisnicima da prilagode ovo podešavanje**.
7. Izaberite opciju za podrazumevane informacije o pošiljaocu koje su uključene u poruke poslate od strane delegata:&#x20;
* **Prikaži vlasnika naloga i delegata koji je poslao e-poštu** - Poruke uključuju e-adrese vlasnika Gmail naloga i delegata.
* **Prikaži samo vlasnika naloga** - Poruke uključuju samo e-adresu vlasnika Gmail naloga. E-adresa delegata nije uključena.
8. (Opciono) Da biste omogućili korisnicima da dodaju grupu u Grupama kao delegata, označite polje **Dozvoli korisnicima da dodele pristup svojoj poštanskoj sandučiću Google grupi**.
9. Kliknite na **Sačuvaj**. Ako ste konfigurirali podređenu organizacionu jedinicu, možda ćete moći **Naslediti** ili **Prebrisati** podešavanja nadređene organizacione jedinice.
10. (Opciono) Da biste uključili delegaciju Gmaila za druge organizacione jedinice, ponovite korake 3-9.

Promene mogu potrajati do 24 sata, ali obično se dešavaju brže. [Saznajte više](https://support.google.com/a/answer/7514107)

### Korak 2: Neka korisnici podele pristup svojim nalozima

Nakon što uključite delegaciju, vaši korisnici idu na svoja Gmail podešavanja da bi dodelili delegatima. Delegati mogu čitati, slati i primati poruke u ime korisnika. &#x20;

Za detalje, uputite korisnike na [Delegiranje i saradnju putem e-pošte](https://support.google.com/a/users/answer/138350).

</details>

<details>

<summary>Iz običnog korisnika, proverite ovde uputstva kako biste pokušali da delegirate pristup</summary>

(Informacije kopirane [**iz dokumenata**](https://support.google.com/mail/answer/138350))

Možete dodati do 10 delegata.

Ako koristite Gmail preko svog posla, škole ili druge organizacije:

* Možete dodati do 1000 delegata unutar svoje organizacije.
* Uobičajenom upotrebom, 40 delegata može pristupiti Gmail nalogu istovremeno.&#x20;
* Ako koristite automatizovane procese, kao što su API-ji ili proširenja pregledača, nekoliko delegata može pristupiti Gmail nalogu istovremeno.

1. Na svom računaru otvorite [Gmail](https://mail.google.com/). Ne možete dodavati delegate iz Gmail aplikacije.
2. U gornjem desnom uglu kliknite na Postavke ![Postavke](https://lh3.googleusercontent.com/p3J-ZSPOLtuBBR\_ofWTFDfdgAYQgi8mR5c76ie8XQ2wjegk7-yyU5zdRVHKybQgUlQ=w36-h36) ![a zatim](https://lh3.googleusercontent.com/3\_l97rr0GvhSP2XV5OoCkV2ZDTIisAOczrSdzNCBxhIKWrjXjHucxNwocghoUa39gw=w36-h36) **Prikaži sva podešavanja**.
3. Kliknite na karticu **Nalozi i uvoz** ili **Nalozi**.
4. U odeljku "Dodeli pristup svom nalogu" kliknite na **Dodaj drugi nalog**. Ako koristite Gmail preko svog posla ili škole, vaša organizacija može ograničiti delegaciju e-pošte. Ako ne vidite ovo podešavanje, kontaktirajte svog administratora.
* Ako ne vidite Dodeli pristup svom nalogu, onda je ograničeno.
5. Unesite e-adresu osobe koju želite dodati. Ako koristite Gmail preko svog posla, škole ili druge organizacije, i ako to dozvoljava vaš administrator, možete uneti e-adresu grupe. Ova grupa mora imati istu domenu kao vaša organizacija. Spoljni članovi grupe nemaju pristup delegaciji. \
\
**Važno:** Ako je nalog koji delegirate novi nalog ili je lozinka resetovana, administrator mora isključiti zahtev za promenu lozinke prilikom prvog prijavljivanja.

* [Saznajte kako administrator može kreirati korisnika](https://support.google.com/a/answer/33310).
* [Saznajte kako administrator može resetovati lozinke](https://support.google.com/a/answer/33319).

6. Kliknite na **Sledeći korak** ![a zatim](https://lh3.googleusercontent.com/QbWcYKta5vh\_4-OgUeFmK-JOB0YgLLoGh69P478nE6mKdfpWQniiBabjF7FVoCVXI0g=h36) **Pošalji e-poš
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) **i** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **github repozitorijume.**

</details>
