# AWS - アカウントの非認証列挙

<details>

<summary><strong>ハックトリックをサポートして特典を得る！</strong></summary>

* もし、**会社の広告をHackTricksで見たい**場合や、**PEASSの最新バージョンをダウンロードしたい**場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**公式PEASS＆HackTricksグッズ**](https://peass.creator-spring.com)を手に入れましょう
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見しましょう。独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションです
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**Telegramグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)をフォローしてください。
* **ハッキングのトリックを共有するために、PRを** [**HackTricks**](https://github.com/carlospolop/hacktricks) **および** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **のGitHubリポジトリに提出してください。**

</details>

## アカウントID

ターゲットがある場合、ターゲットに関連するアカウントのアカウントIDを特定する方法があります。

### ブルートフォース

潜在的なアカウントIDとエイリアスのリストを作成し、それらをチェックします。
```bash
# Check if an account ID exists
curl -v https://<acount_id>.signin.aws.amazon.com
## If response is 404 it doesn't, if 200, it exists
## It also works from account aliases
curl -v https://vodafone-uk2.signin.aws.amazon.com
```
このプロセスは、[このツールを使用して自動化することができます](https://github.com/dagrz/aws\_pwn/blob/master/reconnaissance/validate\_accounts.py)。

### OSINT

組織に関連するエイリアスを含むURL `<alias>.signin.aws.amazon.com` を探します。

### マーケットプレイス

ベンダーがマーケットプレイスにインスタンスを持っている場合、使用したAWSアカウントの所有者ID（アカウントID）を取得できます。

### スナップショット

* パブリックEBSスナップショット（EC2 -> スナップショット -> パブリックスナップショット）
* RDSパブリックスナップショット（RDS -> スナップショット -> すべてのパブリックスナップショット）
* パブリックAMI（EC2 -> AMI -> パブリックイメージ）

### エラー

多くのAWSエラーメッセージ（アクセスが拒否された場合でも）は、その情報を提供します。

## 参考文献

* [https://www.youtube.com/watch?v=8ZXRw4Ry3mQ](https://www.youtube.com/watch?v=8ZXRw4Ry3mQ)

<details>

<summary><strong>ハックトリックをサポートして特典を得る！</strong></summary>

* **HackTricksで会社を宣伝したい**場合や、**最新バージョンのPEASSを入手したい**場合は、[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**公式のPEASS＆HackTricksグッズ**](https://peass.creator-spring.com)を手に入れましょう
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を見つけて、独占的な[**NFT**](https://opensea.io/collection/the-peass-family)を入手しましょう
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**telegramグループ**](https://t.me/peass)に**参加**するか、**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**をフォロー**してください。
* **ハッキングのトリックを共有するには、PRを** [**HackTricks**](https://github.com/carlospolop/hacktricks) **および** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **githubリポジトリに提出**してください。

</details>
