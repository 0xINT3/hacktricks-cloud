# AWS - 未经身份验证的枚举和访问

<details>

<summary><strong>从零开始学习AWS黑客技术，成为专家</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE（HackTricks AWS红队专家）</strong></a><strong>！</strong></summary>

支持HackTricks的其他方式：

* 如果您想看到您的**公司在HackTricks中做广告**或**下载PDF格式的HackTricks**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)!
* 获取[**官方PEASS和HackTricks周边产品**](https://peass.creator-spring.com)
* 探索[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们独家的[**NFTs**](https://opensea.io/collection/the-peass-family)收藏品
* **加入** 💬 [**Discord群**](https://discord.gg/hRep4RUj7f) 或 [**电报群**](https://t.me/peass) 或在**Twitter**上关注我们 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**。**
* 通过向[**HackTricks**](https://github.com/carlospolop/hacktricks)和[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库提交PR来分享您的黑客技巧。

</details>

## AWS凭证泄漏

获取对AWS账户的访问权限或信息的常见方法是通过**搜索泄漏**。您可以使用**google dorks**搜索泄漏，检查**组织的公共存储库**和**组织的工作人员**在**Github**或其他平台上，搜索**凭证泄漏数据库**...或者在您认为可能会找到有关公司及其云基础设施的任何信息的任何地方进行搜索。\
一些有用的**工具**：

* [https://github.com/carlospolop/leakos](https://github.com/carlospolop/leakos)
* [https://github.com/carlospolop/pastos](https://github.com/carlospolop/pastos)
* [https://github.com/carlospolop/gorks](https://github.com/carlospolop/gorks)

## AWS未经身份验证的枚举和访问

AWS中有几项服务可能配置为向所有互联网或比预期更多的人提供某种访问权限。在这里查看如何操作：

* [**账户未经身份验证的枚举**](aws-accounts-unauthenticated-enum.md)
* [**Cloud9未经身份验证的枚举**](https://github.com/carlospolop/hacktricks-cloud/blob/master/pentesting-cloud/aws-security/aws-unauthenticated-enum-access/broken-reference/README.md)
* [**Cloudfront未经身份验证的枚举**](aws-cloudfront-unauthenticated-enum.md)
* [**Cloudsearch未经身份验证的枚举**](https://github.com/carlospolop/hacktricks-cloud/blob/master/pentesting-cloud/aws-security/aws-unauthenticated-enum-access/broken-reference/README.md)
* [**Cognito未经身份验证的枚举**](aws-cognito-unauthenticated-enum.md)
* [**DocumentDB未经身份验证的枚举**](aws-documentdb-enum.md)
* [**EC2未经身份验证的枚举**](aws-ec2-unauthenticated-enum.md)
* [**Elasticsearch未经身份验证的枚举**](aws-elasticsearch-unauthenticated-enum.md)
* [**IAM未经身份验证的枚举**](aws-iam-and-sts-unauthenticated-enum.md)
* [**IoT未经身份验证的访问**](aws-iot-unauthenticated-enum.md)
* [**Kinesis Video未经身份验证的访问**](aws-kinesis-video-unauthenticated-enum.md)
* [**Media未经身份验证的访问**](aws-media-unauthenticated-enum.md)
* [**MQ未经身份验证的访问**](aws-mq-unauthenticated-enum.md)
* [**MSK未经身份验证的访问**](aws-msk-unauthenticated-enum.md)
* [**RDS未经身份验证的访问**](aws-rds-unauthenticated-enum.md)
* [**Redshift未经身份验证的访问**](aws-redshift-unauthenticated-enum.md)
* [**SQS未经身份验证的访问**](aws-sqs-unauthenticated-enum.md)
* [**S3未经身份验证的访问**](aws-s3-unauthenticated-enum.md)

## 跨账户攻击

在演讲[**打破隔离：跨账户AWS漏洞**](https://www.youtube.com/watch?v=JfEFIcpJ2wk)中，介绍了一些服务允许任何AWS账户访问它们，因为**AWS服务允许未指定账户ID**。

在演讲中，他们列举了几个示例，例如S3存储桶**允许cloudtrail**（**任何AWS**账户）**写入它们**：

![](<../../../.gitbook/assets/image (260).png>)

其他发现存在漏洞的服务：

* AWS Config
* 无服务器存储库

## 工具

* [**cloud\_enum**](https://github.com/initstring/cloud\_enum)：多云OSINT工具。在AWS、Azure和Google Cloud中**查找公共资源**。支持的AWS服务：开放/受保护的S3存储桶，awsapps（WorkMail、WorkDocs、Connect等）
