# AWS - RDS Unauthenticated Enum

<details>

<summary><strong>Impara l'hacking di AWS da zero a esperto con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se vuoi vedere la tua **azienda pubblicizzata su HackTricks** o **scaricare HackTricks in PDF** Controlla i [**PACCHETTI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di [**NFT**](https://opensea.io/collection/the-peass-family) esclusivi
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo Telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Condividi i tuoi trucchi di hacking inviando PR ai repository** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github.

</details>

## RDS

Per ulteriori informazioni, controlla:

{% content-ref url="../aws-services/aws-relational-database-rds-enum.md" %}
[aws-relational-database-rds-enum.md](../aws-services/aws-relational-database-rds-enum.md)
{% endcontent-ref %}

## Porta pubblica

√à possibile concedere l'accesso pubblico al **database da Internet**. L'attaccante avr√† comunque bisogno di **conoscere il nome utente e la password**, l'accesso IAM o uno **sfruttamento** per accedere al database.

## Snapshot pubblici di RDS

AWS consente di dare **accesso a chiunque per scaricare gli snapshot di RDS**. √à possibile elencare facilmente questi snapshot pubblici di RDS dal proprio account:

```bash
# Public RDS snapshots
aws rds describe-db-snapshots --include-public

## Search by account ID
aws rds describe-db-snapshots --include-public --query 'DBSnapshots[?contains(DBSnapshotIdentifier, `284546856933:`) == `true`]'
## To share a RDS snapshot with everybody the RDS DB cannot be encrypted (so the snapshot won't be encryted)
## To share a RDS encrypted snapshot you need to share the KMS key also with the account


# From the own account you can check if there is any public snapshot with:
aws rds describe-db-snapshots --snapshot-type public [--region us-west-2]
## Even if in the console appear as there are public snapshot it might be public
## snapshots from other accounts used by the current account
```

### Modello di URL pubblico

```plaintext
https://rds.amazonaws.com/2014-10-31/dbclusters?Action=DescribeDBClusters
```

### Description

This technique allows an attacker to enumerate the available Amazon RDS clusters without authentication.

### Descrizione

Questa tecnica consente a un attaccante di enumerare i cluster Amazon RDS disponibili senza autenticazione.

### Impact

By enumerating the available RDS clusters, an attacker can gather information about the database instances, such as their names, engine type, and status. This information can be used to plan further attacks or gain unauthorized access to the databases.

### Impatto

Enumerando i cluster RDS disponibili, un attaccante pu√≤ raccogliere informazioni sulle istanze del database, come i loro nomi, il tipo di motore e lo stato. Queste informazioni possono essere utilizzate per pianificare ulteriori attacchi o ottenere accesso non autorizzato ai database.

### Steps to Reproduce

1. Send an HTTP GET request to the following URL:

```plaintext
https://rds.amazonaws.com/2014-10-31/dbclusters?Action=DescribeDBClusters
```

2. Analyze the response to obtain information about the available RDS clusters.

### Passaggi per riprodurre

1. Inviare una richiesta HTTP GET all'URL seguente:

```plaintext
https://rds.amazonaws.com/2014-10-31/dbclusters?Action=DescribeDBClusters
```

2. Analizzare la risposta per ottenere informazioni sui cluster RDS disponibili.

### Mitigation

To mitigate this vulnerability, ensure that proper authentication and access controls are in place for the Amazon RDS service. Regularly review and update the security configurations to prevent unauthorized access.

### Mitigazione

Per mitigare questa vulnerabilit√†, assicurarsi che siano in atto una corretta autenticazione e controlli di accesso per il servizio Amazon RDS. Revisionare e aggiornare regolarmente le configurazioni di sicurezza per prevenire l'accesso non autorizzato.

```
mysql://{user_provided}.{random_id}.{region}.rds.amazonaws.com:3306
postgres://{user_provided}.{random_id}.{region}.rds.amazonaws.com:5432
```

<details>

<summary><strong>Impara l'hacking di AWS da zero a eroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se vuoi vedere la tua **azienda pubblicizzata su HackTricks** o **scaricare HackTricks in PDF** controlla i [**PIANI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di [**NFT**](https://opensea.io/collection/the-peass-family) esclusivi
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo Telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Condividi i tuoi trucchi di hacking inviando PR ai repository di** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) su GitHub.

</details>
