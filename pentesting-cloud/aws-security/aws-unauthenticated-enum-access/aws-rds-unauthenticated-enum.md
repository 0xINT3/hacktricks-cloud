# AWS - Enumera√ß√£o n√£o autenticada do RDS

<details>

<summary><strong>Apoie o HackTricks e obtenha benef√≠cios!</strong></summary>

* Se voc√™ deseja ver sua **empresa anunciada no HackTricks** ou se deseja acessar a **√∫ltima vers√£o do PEASS ou baixar o HackTricks em PDF**, verifique os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Obtenha o [**oficial PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Descubra [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Junte-se ao** üí¨ [**grupo Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo telegram**](https://t.me/peass) ou **siga-me** no **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm).

* **Compartilhe suas t√©cnicas de hacking enviando PRs para os reposit√≥rios do** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) no github.

</details>

## RDS

Para mais informa√ß√µes, verifique:

{% content-ref url="../aws-services/aws-databases/aws-relational-database-rds-enum.md" %}
[aws-relational-database-rds-enum.md](../aws-services/aws-databases/aws-relational-database-rds-enum.md)
{% endcontent-ref %}

## Porta p√∫blica

√â poss√≠vel dar acesso p√∫blico ao **banco de dados pela internet**. O atacante ainda precisar√° **saber o nome de usu√°rio e senha**, acesso IAM ou uma **exploit** para entrar no banco de dados.

## Snapshots p√∫blicos do RDS

A AWS permite dar **acesso a qualquer pessoa para baixar snapshots do RDS**. Voc√™ pode listar esses snapshots p√∫blicos do RDS muito facilmente de sua pr√≥pria conta:

```bash
# Snapshots p√∫blicos do RDS
aws rds describe-db-snapshots --include-public

## Pesquisar por ID de conta
aws rds describe-db-snapshots --include-public --query 'DBSnapshots[?contains(DBSnapshotIdentifier, `284546856933:`) == `true`]'
## Para compartilhar um snapshot do RDS com todos, o RDS DB n√£o pode ser criptografado (para que o snapshot n√£o seja criptografado)
## Para compartilhar um snapshot criptografado do RDS, voc√™ precisa compartilhar a chave KMS tamb√©m com a conta


# Da pr√≥pria conta, voc√™ pode verificar se h√° algum snapshot p√∫blico com:
aws rds describe-db-snapshots --snapshot-type public [--region us-west-2]
## Mesmo que no console apare√ßa como se houvesse snapshot p√∫blico, pode ser p√∫blico
## snapshots de outras contas usadas pela conta atual
```

### Modelo de URL p√∫blica

```
mysql://{user_provided}.{random_id}.{region}.rds.amazonaws.com:3306
postgres://{user_provided}.{random_id}.{region}.rds.amazonaws.com:5432
```

<details>

<summary><strong>Apoie o HackTricks e obtenha benef√≠cios!</strong></summary>

* Se voc√™ deseja ver sua **empresa anunciada no HackTricks** ou se deseja acessar a **√∫ltima vers√£o do PEASS ou baixar o HackTricks em PDF**, verifique os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Obtenha o [**oficial PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Descubra [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Junte-se ao** üí¨ [**grupo Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo telegram**](https://t.me/peass) ou **siga-me** no **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm).

* **Compartilhe suas t√©cnicas de hacking enviando PRs para os reposit√≥rios do** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) no github.

</details>