# AWS - Πρόσβαση στο CodeBuild χωρίς Ταυτοποίηση

<details>

<summary><strong>Μάθετε χάκινγκ στο AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι υποστήριξης του HackTricks:

* Αν θέλετε να δείτε την **εταιρεία σας διαφημισμένη στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε** στην 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα τηλεγραφήματος**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs** στα [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>

## CodeBuild

Για περισσότερες πληροφορίες ελέγξτε αυτήν τη σελίδα:

{% content-ref url="../aws-services/aws-codebuild-enum.md" %}
[aws-codebuild-enum.md](../aws-services/aws-codebuild-enum.md)
{% endcontent-ref %}

### buildspec.yml

Αν καταφέρετε να έχετε πρόσβαση εγγραφής σε ένα αποθετήριο που περιέχει ένα αρχείο με το όνομα **`buildspec.yml`**, μπορείτε να **εισάγετε πίσω πόρτα** σε αυτό το αρχείο, το οποίο καθορίζει τις **εντολές που θα εκτελεστούν** μέσα σε ένα έργο CodeBuild και να εξαγάγετε τα μυστικά, να καταστρέψετε το τι γίνεται και επίσης να καταστρέψετε τα **διαπιστευτήρια του ρόλου IAM του CodeBuild**.

Σημειώστε ότι ακόμα και αν δεν υπάρχει κανένα αρχείο **`buildspec.yml`** αλλά γνωρίζετε ότι χρησιμοποιείται το Codebuild (ή ένα διαφορετικό CI/CD) **η τροποποίηση κάποιου νόμιμου κώδικα** που θα εκτελεστεί μπορεί επίσης να σας δώσει ένα αντίστροφο κέλυφος για παράδειγμα.

Για κάποιες σχετικές πληροφορίες μπορείτε να ελέγξετε τη σελίδα σχετικά με το πώς να επιτεθείτε στις ενέργειες του Github (παρόμοιο με αυτό):

{% content-ref url="../../../pentesting-ci-cd/github-security/abusing-github-actions/" %}
[abusing-github-actions](../../../pentesting-ci-cd/github-security/abusing-github-actions/)
{% endcontent-ref %}

## Αυτο-φιλοξενούμενοι δρομείς ενεργειών του GitHub στο AWS CodeBuild <a href="#action-runner" id="action-runner"></a>

Όπως [**υποδεικνύεται στα έγγραφα**](https://docs.aws.amazon.com/codebuild/latest/userguide/action-runner.html), είναι δυνατόν να διαμορφώσετε το **CodeBuild** ώστε να εκτελεί **αυτο-φιλοξενούμενες ενέργειες του Github** όταν ενεργοποιείται ένα ροή εργασίας μέσα σε ένα αποθετήριο Github που έχει διαμορφωθεί. Αυτό μπορεί να ανιχνευθεί ελέγχοντας τη διαμόρφωση του έργου CodeBuild επειδή ο τύπος **`Event`** πρέπει να περιέχει: **`WORKFLOW_JOB_QUEUED`** και σε μια Ροή Εργασίας του Github επειδή θα επιλέξει έναν **αυτο-φιλοξενούμενο** δρομέα όπως αυτό:
```bash
runs-on: codebuild-<project-name>-${{ github.run_id }}-${{ github.run_attempt }}
```
```html
Αυτή η νέα σχέση μεταξύ των Github Actions και του AWS δημιουργεί άλλον έναν τρόπο να διακινδυνεύσετε το AWS από το Github καθώς ο κώδικας στο Github θα εκτελείται σε ένα έργο CodeBuild με έναν συνδεδεμένο ρόλο IAM.

<details>

<summary><strong>Μάθετε το χάκινγκ στο AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι υποστήριξης του HackTricks:

* Αν θέλετε να δείτε την **εταιρεία σας διαφημισμένη στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε την [**Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια στο github.

</details>
```
