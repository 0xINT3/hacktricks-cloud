# AWS - CodeBuild Kimlik Doğrulamasız Erişim

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sıfırdan kahramana kadar AWS hackleme öğrenin!</summary>

HackTricks'i desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklamını görmek istiyorsanız** veya **HackTricks'i PDF olarak indirmek istiyorsanız** [**ABONELİK PLANLARI**](https://github.com/sponsors/carlospolop)'na göz atın!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya bizi **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)'da **takip edin**.
* **Hacking püf noktalarınızı paylaşarak PR göndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına katkıda bulunun.

</details>

## CodeBuild

Daha fazla bilgi için bu sayfaya bakın:

{% content-ref url="../aws-services/aws-codebuild-enum.md" %}
[aws-codebuild-enum.md](../aws-services/aws-codebuild-enum.md)
{% endcontent-ref %}

### buildspec.yml

Bir dosya olan **`buildspec.yml`** içeren bir depo üzerinde yazma erişimini ele geçirirseniz, bu dosyayı **arka kapı** olarak kullanabilirsiniz, bu dosya CodeBuild projesi içinde **yürütülecek komutları belirler** ve sırları dışa çıkarabilir, yapılan işi tehlikeye atabilir ve ayrıca **CodeBuild IAM rol kimliklerini tehlikeye atabilirsiniz**.

Unutmayın ki **`buildspec.yml`** dosyası olmasa bile Codebuild'in kullanıldığını biliyorsanız (veya farklı bir CI/CD) **yürütülecek bazı meşru kodları değiştirmek** örneğin ters kabuk almanıza da olanak tanır.

İlgili bazı bilgiler için Github Actions'ı nasıl saldırabileceğinizle ilgili sayfaya bakabilirsiniz (bu benzerdir):

{% content-ref url="../../../pentesting-ci-cd/github-security/abusing-github-actions/" %}
[abusing-github-actions](../../../pentesting-ci-cd/github-security/abusing-github-actions/)
{% endcontent-ref %}

## Kendi barındırılan GitHub Actions çalıştırıcıları AWS CodeBuild'de <a href="#action-runner" id="action-runner"></a>

[**Belgelerde belirtildiği gibi**](https://docs.aws.amazon.com/codebuild/latest/userguide/action-runner.html), bir Github deposu yapılandırıldığında bir iş akışı tetiklendiğinde **CodeBuild**'in **kendi barındırılan Github işlemlerini** çalıştırması yapılandırılabilir. Bu, CodeBuild proje yapılandırmasını kontrol ederek tespit edilebilir çünkü **`Olay türü`**'nün **`WORKFLOW_JOB_QUEUED`** içermesi gerekmekte ve Github İş Akışı'nda şöyle bir **kendi barındırılan** çalıştırıcı seçecektir:
```bash
runs-on: codebuild-<project-name>-${{ github.run_id }}-${{ github.run_attempt }}
```
Bu yeni ilişki Github Actions ve AWS arasında, Github'daki kodun bir IAM rolü eklenmiş bir CodeBuild projesinde çalıştırılacağından AWS'yi Github üzerinden tehlikeye atacak başka bir yol oluşturur. 

<details>

<summary><strong>A'dan Z'ye AWS hacklemeyi öğrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'i desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklamını görmek istiyorsanız** veya **HackTricks'i PDF olarak indirmek istiyorsanız** [**ABONELİK PLANLARI'na**](https://github.com/sponsors/carlospolop) göz atın!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family'yi**](https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **Katılın** 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya bizi **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'da takip edin.**
* **Hacking püf noktalarınızı paylaşarak PR göndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına katkıda bulunun.

</details>
