# AWS - CodeBuild Ongeagte Toegang

<details>

<summary><strong>Leer AWS hakwerk vanaf nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy geadverteer wil sien in HackTricks** of **HackTricks in PDF wil aflaai** Kyk na die [**INSKRYWINGSPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**Die PEASS Familie**](https://opensea.io/collection/the-peass-family), ons versameling van eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord groep**](https://discord.gg/hRep4RUj7f) of die [**telegram groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel jou haktruuks deur PRs in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## CodeBuild

Vir meer inligting kyk na hierdie bladsy:

{% content-ref url="../aws-services/aws-codebuild-enum.md" %}
[aws-codebuild-enum.md](../aws-services/aws-codebuild-enum.md)
{% endcontent-ref %}

### buildspec.yml

As jy skryftoegang oor 'n argief wat 'n l√™er met die naam **`buildspec.yml`** bevat, kompromitteer, kan jy hierdie l√™er **agterdeur** maak, wat die **opdragte spesifiseer wat binne 'n CodeBuild projek uitgevoer gaan word** en die geheime uitlek, kompromitteer wat gedoen word en ook die **CodeBuild IAM rolgeloofsbriewe** kompromitteer.

Let daarop dat selfs al is daar nie enige **`buildspec.yml`** l√™er nie, maar jy weet Codebuild word gebruik (of 'n ander CI/CD) **om 'n bietjie legitieme kode te wysig** wat uitgevoer gaan word, kan jou byvoorbeeld 'n omgekeerde dop gee.

Vir enige verwante inligting kan jy die bladsy oor hoe om Github Aksies aan te val (soortgelyk aan hierdie) nagaan:

{% content-ref url="../../../pentesting-ci-cd/github-security/abusing-github-actions/" %}
[abusing-github-actions](../../../pentesting-ci-cd/github-security/abusing-github-actions/)
{% endcontent-ref %}

## Self-gehoste GitHub Aksies runners in AWS CodeBuild <a href="#action-runner" id="action-runner"></a>

Soos [**aangedui in die dokumente**](https://docs.aws.amazon.com/codebuild/latest/userguide/action-runner.html), is dit moontlik om **CodeBuild** te konfigureer om **self-gehoste Github aksies** uit te voer wanneer 'n werkstroom in 'n Github argief geaktiveer word. Dit kan opgespoor word deur die CodeBuild projekkonfigurasie te ondersoek omdat die **`Gebeurtenistipe`** die volgende moet bevat: **`WERKSTROOM_WERKGEWAG`** en in 'n Github Werkvloei omdat dit 'n **self-gehoste** runner soos hierdie sal kies:
```bash
runs-on: codebuild-<project-name>-${{ github.run_id }}-${{ github.run_attempt }}
```
Hierdie nuwe verhouding tussen Github Aksies en AWS skep 'n ander manier om AWS van Github af te compromiseer, aangesien die kode in Github in 'n CodeBuild-projek sal hardloop met 'n IAM-rol daaraan geheg.

<details>

<summary><strong>Leer AWS-hacking vanaf nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat** Kyk na die [**INSKRYWINGSPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**Die PEASS Familie**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFT's**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel jou haktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>
