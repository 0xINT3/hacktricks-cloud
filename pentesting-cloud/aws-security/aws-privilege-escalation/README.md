# AWS - 权限提升

<details>

<summary><strong>从零开始学习AWS黑客技术，成为</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS 红队专家)</strong></a><strong>！</strong></summary>

支持HackTricks的其他方式：

* 如果您想在 **HackTricks中看到您的公司广告** 或 **下载HackTricks的PDF版本**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方PEASS & HackTricks商品**](https://peass.creator-spring.com)
* 发现[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们独家的[**NFTs系列**](https://opensea.io/collection/the-peass-family)
* **加入** 💬 [**Discord群组**](https://discord.gg/hRep4RUj7f) 或 [**telegram群组**](https://t.me/peass) 或在 **Twitter** 🐦 上**关注**我 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* **通过向** [**HackTricks**](https://github.com/carlospolop/hacktricks) 和 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库提交PR来分享您的黑客技巧。

</details>

## AWS 权限提升

在AWS中提升权限的方式是拥有足够的权限，以某种方式，访问其他角色/用户/组的权限。链式提升直到您对组织拥有管理员访问权限。

{% hint style="warning" %}
AWS有**数百个**（如果不是数千个）**权限**可以授予实体。在这本书中，您可以找到**我所知道的所有权限**，您可以滥用它们来**提升权限**，但如果您**知道这里未提及的某些路径**，**请分享它**。
{% endhint %}

{% hint style="danger" %}
如果IAM策略中有`"Effect": "Allow"`和`"NotAction": "Someaction"`指示一个**资源**... 这意味着**被允许的主体**有**除了指定操作之外的任何操作的权限**。\
因此请记住，这是另一种向主体**授予特权权限**的方式。
{% endhint %}

您可以找到所有按服务划分的**权限提升路径**：

* [**Apigateway 权限提升**](aws-apigateway-privesc.md)
* [**Codebuild 权限提升**](aws-codebuild-privesc.md)
* [**Codepipeline 权限提升**](aws-codepipeline-privesc.md)
* [**Codestar 权限提升**](aws-codestar-privesc/)
* [**Cloudformation 权限提升**](aws-cloudformation-privesc/)
* [**Cognito 权限提升**](aws-cognito-privesc.md)
* [**Datapipeline 权限提升**](aws-datapipeline-privesc.md)
* [**DynamoDB 权限提升**](aws-dynamodb-privesc.md)
* [**EBS 权限提升**](aws-ebs-privesc.md)
* [**EC2 权限提升**](aws-ec2-privesc.md)
* [**ECR 权限提升**](aws-ecr-privesc.md)
* [**ECS 权限提升**](aws-ecs-privesc.md)
* [**EFS 权限提升**](aws-efs-privesc.md)
* [**EMR 权限提升**](aws-emr-privesc.md)
* [**Glue 权限提升**](aws-glue-privesc.md)
* [**IAM 权限提升**](aws-iam-privesc.md)
* [**KMS 权限提升**](aws-kms-privesc.md)
* [**Lambda 权限提升**](../../aws-pentesting/aws-privilege-escalation/aws-lambda-privesc.md)
* [**Lightsail 权限提升**](aws-lightsail-privesc.md)
* [**MQ 权限提升**](aws-mq-privesc.md)
* [**MSK 权限提升**](aws-msk-privesc.md)
* [**RDS 权限提升**](aws-rds-privesc.md)
* [**Redshift 权限提升**](aws-redshift-privesc.md)
* [**S3 权限提升**](aws-s3-privesc.md)
* [**Sagemaker 权限提升**](aws-sagemaker-privesc.md)
* [**Secrets 权限提升**](aws-secrets-manager-privesc.md)
* [**SSM 权限提升**](aws-ssm-privesc.md)
* [**STS 权限提升**](aws-sts-privesc.md)
* [**Misc (其他技术) 权限提升**](broken-reference)

## 工具

* [https://github.com/RhinoSecurityLabs/Security-Research/blob/master/tools/aws-pentest-tools/aws\_escalate.py](https://github.com/RhinoSecurityLabs/Security-Research/blob/master/tools/aws-pentest-tools/aws\_escalate.py)
* [Pacu](https://github.com/RhinoSecurityLabs/pacu)

## 参考资料

* [https://rhinosecuritylabs.com/aws/aws-privilege-escalation-methods-mitigation-part-2/](https://rhinosecuritylabs.com/aws/aws-privilege-escalation-methods-mitigation-part-2/)
* [https://rhinosecuritylabs.com/aws/aws-privilege-escalation-methods-mitigation/](https://rhinosecuritylabs.com/aws/aws-privilege-escalation-methods-mitigation/)
* [https://bishopfox.com/blog/privilege-escalation-in-aws](https://bishopfox.com/blog/privilege-escalation-in-aws)
* [https://hackingthe.cloud/aws/exploitation/local-priv-esc-user-data-s3/](https://hackingthe.cloud/aws/exploitation/local-priv-esc-user-data-s3/)

<details>

<summary><strong>从零开始学习AWS黑客技术，成为</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS 红队专家)</strong></a><strong>！</strong></summary>

支持HackTricks的其他方式：

* 如果您想在 **HackTricks中看到您的公司广告** 或 **下载HackTricks的PDF版本**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方PEASS & HackTricks商品**](https://peass.creator-spring.com)
* 发现[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们独家的[**NFTs系列**](https://opensea.io/collection/the-peass-family)
* **加入** 💬 [**Discord群组**](https://discord.gg/hRep4RUj7f) 或 [**telegram群组**](https://t.me/peass) 或在 **Twitter** 🐦 上**关注**我 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* **通过向** [**HackTricks**](https://github.com/carlospolop/hacktricks) 和 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库提交PR来分享您的黑客技巧。

</details>
