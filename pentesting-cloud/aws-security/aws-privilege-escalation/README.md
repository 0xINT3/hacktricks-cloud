# AWS - 特权升级

<details>

<summary><strong>从零开始学习AWS黑客技术，成为专家</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE（HackTricks AWS红队专家）</strong></a><strong>！</strong></summary>

支持HackTricks的其他方式：

* 如果您想看到您的**公司在HackTricks中做广告**或**下载PDF格式的HackTricks**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)!
* 获取[**官方PEASS & HackTricks周边产品**](https://peass.creator-spring.com)
* 探索[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们独家[**NFTs**](https://opensea.io/collection/the-peass-family)收藏品
* **加入** 💬 [**Discord群**](https://discord.gg/hRep4RUj7f) 或 [**电报群**](https://t.me/peass) 或在**Twitter**上关注我们 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**。**
* 通过向[**HackTricks**](https://github.com/carlospolop/hacktricks)和[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库提交PR来分享您的黑客技巧。

</details>

## AWS特权升级

在AWS中提升特权的方法是拥有足够的权限，以便能够以某种方式访问其他角色/用户/组的权限。通过串联特权升级，直到获得对组织的管理员访问权限。

{% hint style="warning" %}
AWS有**数百**（如果不是数千）个**权限**可以授予实体。在本书中，您可以找到我所知道的所有可以滥用以**提升特权**的**权限**，但如果您**知道**一些未在此处提及的**路径**，请**分享**。
{% endhint %}

{% hint style="danger" %}
如果IAM策略具有`"Effect": "Allow"`和`"NotAction": "Someaction"`指示一个**资源**...那意味着**允许的主体**有**权限执行除了指定操作之外的任何操作**。\
因此请记住，这是另一种向**主体授予特权权限**的方式。
{% endhint %}

您可以找到所有**按服务划分的特权升级路径**：

* [**Apigateway特权升级**](aws-apigateway-privesc.md)
* [**Codebuild特权升级**](aws-codebuild-privesc.md)
* [**Codepipeline特权升级**](aws-codepipeline-privesc.md)
* [**Codestar特权升级**](aws-codestar-privesc/)
* [**Cloudformation特权升级**](aws-cloudformation-privesc/)
* [**Cognito特权升级**](aws-cognito-privesc.md)
* [**Datapipeline特权升级**](aws-datapipeline-privesc.md)
* [**DynamoDB特权升级**](aws-dynamodb-privesc.md)
* [**EBS特权升级**](aws-ebs-privesc.md)
* [**EC2特权升级**](aws-ec2-privesc.md)
* [**ECR特权升级**](aws-ecr-privesc.md)
* [**ECS特权升级**](aws-ecs-privesc.md)
* [**EFS特权升级**](aws-efs-privesc.md)
* [**EMR特权升级**](aws-emr-privesc.md)
* [**Glue特权升级**](aws-glue-privesc.md)
* [**IAM特权升级**](aws-iam-privesc.md)
* [**KMS特权升级**](aws-kms-privesc.md)
* [**Lambda特权升级**](../../aws-pentesting/aws-privilege-escalation/aws-lambda-privesc.md)
* [**Lightsail特权升级**](aws-lightsail-privesc.md)
* [**MQ特权升级**](aws-mq-privesc.md)
* [**MSK特权升级**](aws-msk-privesc.md)
* [**RDS特权升级**](aws-rds-privesc.md)
* [**Redshift特权升级**](aws-redshift-privesc.md)
* [**S3特权升级**](aws-s3-privesc.md)
* [**Sagemaker特权升级**](aws-sagemaker-privesc.md)
* [**Secrets特权升级**](aws-secrets-manager-privesc.md)
* [**SSM特权升级**](aws-ssm-privesc.md)
* [**STS特权升级**](aws-sts-privesc.md)
* [**其他技术特权升级**](broken-reference)

## 工具

* [https://github.com/RhinoSecurityLabs/Security-Research/blob/master/tools/aws-pentest-tools/aws\_escalate.py](https://github.com/RhinoSecurityLabs/Security-Research/blob/master/tools/aws-pentest-tools/aws\_escalate.py)
* [Pacu](https://github.com/RhinoSecurityLabs/pacu)

## 参考资料

* [https://rhinosecuritylabs.com/aws/aws-privilege-escalation-methods-mitigation-part-2/](https://rhinosecuritylabs.com/aws/aws-privilege-escalation-methods-mitigation-part-2/)
* [https://rhinosecuritylabs.com/aws/aws-privilege-escalation-methods-mitigation/](https://rhinosecuritylabs.com/aws/aws-privilege-escalation-methods-mitigation/)
* [https://bishopfox.com/blog/privilege-escalation-in-aws](https://bishopfox.com/blog/privilege-escalation-in-aws)
* [https://hackingthe.cloud/aws/exploitation/local-priv-esc-user-data-s3/](https://hackingthe.cloud/aws/exploitation/local-priv-esc-user-data-s3/)

<details>

<summary><strong>从零开始学习AWS黑客技术，成为专家</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE（HackTricks AWS红队专家）</strong></a><strong>！</strong></summary>

支持HackTricks的其他方式：

* 如果您想看到您的**公司在HackTricks中做广告**或**下载PDF格式的HackTricks**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)!
* 获取[**官方PEASS & HackTricks周边产品**](https://peass.creator-spring.com)
* 探索[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们独家[**NFTs**](https://opensea.io/collection/the-peass-family)收藏品
* **加入** 💬 [**Discord群**](https://discord.gg/hRep4RUj7f) 或 [**电报群**](https://t.me/peass) 或在**Twitter**上关注我们 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**。**
* 通过向[**HackTricks**](https://github.com/carlospolop/hacktricks)和[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库提交PR来分享您的黑客技巧。

</details>
