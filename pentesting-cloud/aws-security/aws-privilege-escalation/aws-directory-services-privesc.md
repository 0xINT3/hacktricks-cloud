# AWS - Directory Services Privesc

<details>

<summary><strong>Apprenez le piratage AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Expert Red Team AWS de HackTricks)</strong></a><strong>!</strong></summary>

Autres fa√ßons de soutenir HackTricks :

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**La famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>

## Services de r√©pertoire

Pour plus d'informations sur les services de r√©pertoire, consultez :

{% content-ref url="../aws-services/aws-directory-services-workdocs-enum.md" %}
[aws-directory-services-workdocs-enum.md](../aws-services/aws-directory-services-workdocs-enum.md)
{% endcontent-ref %}

### `ds:ResetUserPassword`

Cette autorisation permet de **changer** le **mot de passe** de tout **utilisateur existant** dans l'Active Directory.\
Par d√©faut, le seul utilisateur existant est **Admin**.

```
aws ds reset-user-password --directory-id <id> --user-name Admin --new-password Newpassword123.
```

### Console de gestion AWS

Il est possible d'activer une **URL d'acc√®s √† l'application** √† laquelle les utilisateurs d'AD peuvent acc√©der pour se connecter :

<figure><img src="../../../.gitbook/assets/image (16) (2).png" alt=""><figcaption></figcaption></figure>

Et ensuite **leur accorder un r√¥le IAM AWS** pour lorsqu'ils se connectent, de cette mani√®re un utilisateur/groupe AD aura acc√®s √† la console de gestion AWS :

<figure><img src="../../../.gitbook/assets/image (17) (1).png" alt=""><figcaption></figcaption></figure>

Apparemment, il n'y a aucun moyen d'activer l'URL d'acc√®s √† l'application, la Console de gestion AWS et d'accorder des autorisations.
