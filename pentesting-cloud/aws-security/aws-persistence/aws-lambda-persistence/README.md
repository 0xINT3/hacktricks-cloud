# AWS - Uthabiti wa Lambda

<details>

<summary><strong>Jifunze kuhusu udukuzi wa AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikionekana kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) za kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu zako za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## Lambda

Kwa habari zaidi angalia:

{% content-ref url="../../aws-services/aws-lambda-enum.md" %}
[aws-lambda-enum.md](../../aws-services/aws-lambda-enum.md)
{% endcontent-ref %}

### Uthabiti wa Tabaka la Lambda

Inawezekana **kuweka/kuweka mlango nyuma kwenye tabaka ili kutekeleza nambari ya kupindukia** wakati lambda inatekelezwa kwa njia ya siri:

{% content-ref url="aws-lambda-layers-persistence.md" %}
[aws-lambda-layers-persistence.md](aws-lambda-layers-persistence.md)
{% endcontent-ref %}

### Uthabiti wa Kupanua Lambda

Kwa kutumia Uthabiti wa Tabaka la Lambda pia inawezekana kutumia kupanua na kudumisha kwenye lambda lakini pia kuiba na kubadilisha maombi.

{% content-ref url="aws-abusing-lambda-extensions.md" %}
[aws-abusing-lambda-extensions.md](aws-abusing-lambda-extensions.md)
{% endcontent-ref %}

### Kupitia sera za rasilimali

Inawezekana kutoa upatikanaji kwa vitendo tofauti vya lambda (kama vile kuita au kusasisha nambari) kwa akaunti za nje:

<figure><img src="../../../../.gitbook/assets/image (255).png" alt=""><figcaption></figcaption></figure>

### Toleo, Majina ya Ubadilishaji & Vikundi

Lambda inaweza kuwa na **matoleo tofauti** (yenye nambari tofauti kila toleo).\
Kisha, unaweza kuunda **majina tofauti na matoleo tofauti** ya lambda na kuweka uzito tofauti kwa kila moja.\
Kwa njia hii, mshambuliaji anaweza kuunda **toleo lenye mlango nyuma 1** na **toleo 2 lenye nambari halali tu** na **kutekeleza toleo 1 tu kwa 1%** ya maombi ili kubaki kwa siri.

<figure><img src="../../../../.gitbook/assets/image (120).png" alt=""><figcaption></figcaption></figure>

### Mlango Nyuma wa Toleo + Lango la API

1. Nakili nambari ya asili ya Lambda
2. **Unda toleo jipya lenye mlango nyuma** wa nambari ya asili (au tu na nambari ya kudhuru). Chapisha na **dhibiti toleo hilo** kwa $LATEST
1. Piga simu kwa lango la API linalohusiana na lambda kutekeleza nambari
3. **Unda toleo jipya na nambari ya asili**, Chapisha na dhibiti **toleo hilo** kwa $LATEST.
1. Hii itaficha nambari iliyowekwa mlango nyuma katika toleo la awali
4. Nenda kwenye Lango la API na **unda njia mpya ya POST** (au chagua njia nyingine yoyote) itakayotekeleza toleo lenye mlango nyuma wa lambda: `arn:aws:lambda:us-east-1:<acc_id>:function:<func_name>:1`
1. Tambua :1 ya mwisho ya arn **inayoonyesha toleo la kazi** (toleo 1 litakuwa lenye mlango nyuma katika hali hii).
5. Chagua njia ya POST iliyoundwa na katika Vitendo chagua **`Dhibiti API`**
6. Sasa, unapopiga simu kazi kupitia POST mlango wako wa nyuma utaitwa

### Mtekelezaji wa Cron/Tukio

Uwezo wa kufanya **kazi za lambda zitekelezwe wakati kitu kinatokea au wakati muda unapita** hufanya lambda kuwa njia nzuri na ya kawaida ya kupata uthabiti na kuepuka kugunduliwa.\
Hapa kuna baadhi ya mawazo ya kufanya **uwepo wako kwenye AWS uwe wa siri zaidi kwa kuunda lambdas**.

* Kila wakati mtumiaji mpya anapotengenezwa lambda inazalisha ufunguo mpya wa mtumiaji na kuutuma kwa mshambuliaji.
* Kila wakati jukumu jipya linapotengenezwa lambda inatoa ruhusa ya kudai jukumu kwa watumiaji walioathiriwa.
* Kila wakati kuna kumbukumbu mpya za cloudtrail zinazozalishwa, futa/badilisha hizo

<details>

<summary><strong>Jifunze kuhusu udukuzi wa AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikionekana kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) za kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu zako za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
