# AWS - IAM Upornost

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **vašu kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

## IAM

Za više informacija pristupite:

{% content-ref url="../aws-services/aws-iam-enum.md" %}
[aws-iam-enum.md](../aws-services/aws-iam-enum.md)
{% endcontent-ref %}

### Uobičajena IAM upornost

* Kreirajte korisnika
* Dodajte kontrolisanog korisnika u privilegovanu grupu
* Kreirajte pristupne ključeve (novog korisnika ili svih korisnika)
* Dodelite dodatna ovlašćenja kontrolisanim korisnicima/grupama (priložene politike ili politike unutar teksta)
* Onemogućite MFA / Dodajte svoj MFA uređaj
* Kreirajte situaciju lanca uloga (više o tome u STS upornosti)

### Poverljive politike poverenja uloga

Možete postaviti poverljivu politiku poverenja kako biste mogli da je pretpostavite za spoljni resurs koji kontrolišete (ili za sve):
```json
{
"Version": "2012-10-17",
"Statement": [
{
"Effect": "Allow",
"Principal": {
"AWS": [
"*",
"arn:aws:iam::123213123123:root"
]
},
"Action": "sts:AssumeRole"
}
]
}
```
### Verzija politike sa zadnjim vratima

Dodelite administratorske dozvole politici koja nije njena poslednja verzija (poslednja verzija treba da izgleda legitimno), a zatim dodelite tu verziju politike kontrolisanom korisniku/grupi.

### Vrata sa zadnjim vratima / Kreiranje provajdera identiteta

Ako je nalog već poverljiv prema zajedničkom provajderu identiteta (kao što je Github), uslovi poverenja mogu se povećati kako bi napadač mogao da ih zloupotrebi.
