# AWS - Uhifadhi wa S3

<details>

<summary><strong>Jifunze kuhusu udukuzi wa AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) za kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu zako za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## S3

Kwa habari zaidi angalia:

{% content-ref url="../aws-services/aws-s3-athena-and-glacier-enum.md" %}
[aws-s3-athena-and-glacier-enum.md](../aws-services/aws-s3-athena-and-glacier-enum.md)
{% endcontent-ref %}

### KMS Ufichaji wa Mteja

Wakati mchakato wa ufichaji unapokamilika mtumiaji atatumia API ya KMS kuzalisha funguo mpya (`aws kms generate-data-key`) na atahifadhi **funguo iliyofichwa iliyozalishwa ndani ya metadata** ya faili ([mfano wa nambari ya python](https://aioboto3.readthedocs.io/en/latest/cse.html#how-it-works-kms-managed-keys)) ili wakati wa kufichua itaweza kufichua tena kutumia KMS:

<figure><img src="../../../.gitbook/assets/image (226).png" alt=""><figcaption></figcaption></figure>

Hivyo, mudukuzi anaweza kupata funguo hili kutoka kwa metadata na kufichua na KMS (`aws kms decrypt`) ili kupata funguo uliotumika kuficha habari. Kwa njia hii mudukuzi atakuwa na funguo la ufichaji na ikiwa funguo huo utatumika tena kuficha faili nyingine ataweza kulitumia.

### Kutumia ACLs za S3

Ingawa kawaida ACLs za vikombe vimelemazwa, mudukuzi mwenye mamlaka ya kutosha anaweza kuzitumia vibaya (ikiwa zimelemazwa au ikiwa mudukuzi anaweza kuziwezesha) ili kuendelea kupata ufikiaji wa kikombe cha S3.
