# AWS - Elastic Beanstalk ポストエクスプロイテーション

<details>

<summary><strong>Support HackTricks and get benefits!</strong></summary>

* もし **HackTricks であなたの会社を宣伝したい** または **PEASS の最新バージョンにアクセスしたい** または **HackTricks を PDF でダウンロードしたい** 場合は、[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop) をチェックしてください！
* [**公式 PEASS & HackTricks スワッグ**](https://peass.creator-spring.com) を手に入れましょう
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) を見つけてください。これは私たちの独占的な [**NFTs**](https://opensea.io/collection/the-peass-family) のコレクションです
* 💬 [**Discord グループ**](https://discord.gg/hRep4RUj7f) または [**telegram グループ**](https://t.me/peass) に参加するか、私を **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm) で **フォロー** してください
* **ハッキングのトリックを共有するために、PR を** [**HackTricks**](https://github.com/carlospolop/hacktricks) **と** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **の GitHub リポジトリに提出してください**

</details>

## Elastic Beanstalk

詳細については、以下を参照してください：

{% content-ref url="../../aws-pentesting/aws-services/aws-elastic-beanstalk-enum.md" %}
[aws-elastic-beanstalk-enum.md](../../aws-pentesting/aws-services/aws-elastic-beanstalk-enum.md)
{% endcontent-ref %}

### `elasticbeanstalk:DeleteApplicationVersion`

{% hint style="info" %}
TODO: これには他の権限が必要かどうかをテストする
{% endhint %}

`elasticbeanstalk:DeleteApplicationVersion` の権限を持つ攻撃者は、**既存のアプリケーションバージョンを削除** することができます。このアクションは、アプリケーションのデプロイパイプラインを妨害したり、バックアップされていない特定のアプリケーションバージョンの損失を引き起こす可能性があります。

{% code overflow="wrap" %}
```bash
aws elasticbeanstalk delete-application-version --application-name my-app --version-label my-version
```
{% endcode %}

**潜在的な影響**：アプリケーションの展開の中断とアプリケーションバージョンの潜在的な損失。

### `elasticbeanstalk:TerminateEnvironment`

{% hint style="info" %}
TODO: これにはさらなる権限が必要かどうかをテストする
{% endhint %}

`elasticbeanstalk:TerminateEnvironment`の権限を持つ攻撃者は、既存のElastic Beanstalk環境を**終了**させることができます。これにより、アプリケーションのダウンタイムが発生し、環境がバックアップに設定されていない場合はデータの損失が発生する可能性があります。

{% code overflow="wrap" %}
```bash
aws elasticbeanstalk terminate-environment --environment-name my-existing-env
```
{% endcode %}

**潜在的な影響**: アプリケーションのダウンタイム、潜在的なデータの損失、およびサービスの中断。

### `elasticbeanstalk:DeleteApplication`

{% hint style="info" %}
TODO: これにはさらなる権限が必要かどうかをテストする
{% endhint %}

`elasticbeanstalk:DeleteApplication` の権限を持つ攻撃者は、すべてのバージョンと環境を含む Elastic Beanstalk アプリケーション全体を削除することができます。このアクションは、バックアップがない場合にアプリケーションのリソースと設定の重大な損失を引き起こす可能性があります。

{% code overflow="wrap" %}
```bash
aws elasticbeanstalk delete-application --application-name my-app --terminate-env-by-force
```
{% endcode %}

**潜在的な影響**: アプリケーションのリソース、設定、環境、およびアプリケーションバージョンの喪失により、サービスの中断と潜在的なデータの喪失が発生する可能性があります。

### `elasticbeanstalk:SwapEnvironmentCNAMEs`

{% hint style="info" %}
TODO: これにはさらなる権限が必要かどうかをテストする
{% endhint %}

`elasticbeanstalk:SwapEnvironmentCNAMEs` 権限を持つ攻撃者は、**2つの Elastic Beanstalk 環境の CNAME レコードを交換**することができます。これにより、ユーザーに対して誤ったアプリケーションのバージョンが提供されたり、意図しない動作が発生したりする可能性があります。

{% code overflow="wrap" %}
```bash
aws elasticbeanstalk swap-environment-cnames --source-environment-name my-env-1 --destination-environment-name my-env-2
```
{% endcode %}

**潜在的な影響**: ユーザーに対して誤ったバージョンのアプリケーションを提供したり、環境の入れ替えによるアプリケーションの意図しない動作を引き起こす可能性があります。

### `elasticbeanstalk:AddTags`, `elasticbeanstalk:RemoveTags`

{% hint style="info" %}
TODO: これにはさらに権限が必要かどうかをテストする
{% endhint %}

`elasticbeanstalk:AddTags`および`elasticbeanstalk:RemoveTags`の権限を持つ攻撃者は、**Elastic Beanstalkリソースにタグを追加または削除**することができます。この操作により、リソースの割り当て、課金、またはリソース管理が正しく行われなくなる可能性があります。

{% code overflow="wrap" %}
```bash
aws elasticbeanstalk add-tags --resource-arn arn:aws:elasticbeanstalk:us-west-2:123456789012:environment/my-app/my-env --tags Key=MaliciousTag,Value=1

aws elasticbeanstalk remove-tags --resource-arn arn:aws:elasticbeanstalk:us-west-2:123456789012:environment/my-app/my-env --tag-keys MaliciousTag
```
{% endcode %}

**潜在的な影響**: タグの追加や削除によるリソースの割り当て、請求、リソース管理の誤り。

<details>

<summary><strong>Support HackTricks and get benefits!</strong></summary>

* もしもあなたの**会社をHackTricksで宣伝したい**場合や、**PEASSの最新バージョンにアクセスしたい**場合、または**HackTricksをPDFでダウンロードしたい**場合は、[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**公式のPEASS＆HackTricksグッズ**](https://peass.creator-spring.com)を手に入れましょう
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を見つけて、独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションを発見しましょう
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**Telegramグループ**](https://t.me/peass)に**参加**するか、**Twitter**で私をフォローしてください 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **HackTricks**と**HackTricks Cloud**のgithubリポジトリにPRを提出して、あなたのハッキングトリックを共有してください。

</details>
