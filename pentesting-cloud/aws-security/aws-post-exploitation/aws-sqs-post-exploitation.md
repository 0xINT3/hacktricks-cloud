# AWS - SQS ポストエクスプロイト

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)で</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>ゼロからヒーローまでAWSハッキングを学ぶ</strong></a><strong>！</strong></summary>

HackTricksをサポートする他の方法:

* **HackTricksにあなたの会社を広告したい**、または**HackTricksをPDFでダウンロードしたい**場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**公式PEASS & HackTricksグッズ**](https://peass.creator-spring.com)を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)のコレクションをチェックする
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に**参加する**か、[**テレグラムグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)を**フォローする**。
* [**HackTricks**](https://github.com/carlospolop/hacktricks)と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のgithubリポジトリにPRを提出して、あなたのハッキングのコツを**共有する**。

</details>

## SQS

詳細については、以下をチェックしてください:

{% content-ref url="../aws-services/aws-sqs-and-sns-enum.md" %}
[aws-sqs-and-sns-enum.md](../aws-services/aws-sqs-and-sns-enum.md)
{% endcontent-ref %}

### `sqs:SendMessage` , `sqs:SendMessageBatch`

攻撃者は、SQSキューに悪意のあるメッセージや望ましくないメッセージを送信することができ、データの破損、意図しないアクションのトリガー、またはリソースの枯渇を引き起こす可能性があります。
```bash
aws sqs send-message --queue-url <value> --message-body <value>
aws sqs send-message-batch --queue-url <value> --entries <value>
```
**潜在的影響**: 脆弱性の悪用、データの破損、意図しない行動、またはリソースの枯渇。

### `sqs:ReceiveMessage`, `sqs:DeleteMessage`,  `sqs:ChangeMessageVisibility`

攻撃者は、SQSキュー内のメッセージを受信、削除、または可視性を変更することができ、それらのメッセージに依存するアプリケーションにメッセージの損失、データの破損、またはサービスの中断を引き起こす可能性があります。
```bash
aws sqs receive-message --queue-url <value>
aws sqs delete-message --queue-url <value> --receipt-handle <value>
aws sqs change-message-visibility --queue-url <value> --receipt-handle <value> --visibility-timeout <value>
```
**潜在的な影響**: 機密情報の盗難、メッセージの損失、影響を受けるメッセージに依存するアプリケーションのデータ破損およびサービスの中断。

### `sqs:DeleteQueue`

攻撃者はSQSキュー全体を削除することができ、メッージの損失を引き起こし、キューに依存するアプリケーションに影響を与える可能性があります。
```arduino
Copy codeaws sqs delete-queue --queue-url <value>
```
**潜在的な影響**: 削除されたキューを使用しているアプリケーションに対するメッセージの損失とサービスの中断。

### `sqs:PurgeQueue`

攻撃者はSQSキューからすべてのメッセージをパージすることができ、メッセージの損失とそれらのメッセージに依存しているアプリケーションの潜在的な中断を引き起こす可能性があります。
```arduino
Copy codeaws sqs purge-queue --queue-url <value>
```
**潜在的影響**: メッセージが失われ、それに依存するアプリケーションのサービスが中断する可能性があります。

### `sqs:SetQueueAttributes`

攻撃者はSQSキューの属性を変更し、そのパフォーマンス、セキュリティ、または可用性に影響を与える可能性があります。
```arduino
aws sqs set-queue-attributes --queue-url <value> --attributes <value>
```
**潜在的な影響**: 誤った設定により、パフォーマンスの低下、セキュリティ問題、または可用性の低下を招く可能性があります。

### `sqs:TagQueue` , `sqs:UntagQueue`

攻撃者は、SQSリソースにタグを追加、変更、または削除することで、組織のコスト割り当て、リソース追跡、およびタグに基づくアクセス制御ポリシーを混乱させる可能性があります。
```bash
aws sqs tag-queue --queue-url <value> --tags Key=<key>,Value=<value>
aws sqs untag-queue --queue-url <value> --tag-keys <key>
```
**潜在的影響**: コスト配分、リソース追跡、タグベースのアクセス制御ポリシーの混乱。

### `sqs:RemovePermission`

攻撃者は、SQSキューに関連付けられたポリシーを削除することで、正当なユーザーやサービスの権限を取り消す可能性があります。これにより、キューに依存するアプリケーションの正常な機能に混乱を招く可能性があります。
```arduino
arduinoCopy codeaws sqs remove-permission --queue-url <value> --label <value>
```
**潜在的な影響**: キューに対する許可の不正な削除により、キューに依存するアプリケーションの正常な機能が中断される可能性があります。

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)で</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>AWSハッキングをゼロからヒーローまで学ぶ</strong></a><strong>！</strong></summary>

HackTricksをサポートする他の方法:

* **HackTricksにあなたの会社を広告したい**、または**HackTricksをPDFでダウンロードしたい**場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**公式のPEASS & HackTricksグッズ**](https://peass.creator-spring.com)を手に入れる
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)のコレクションをチェックする
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に**参加する**か、[**テレグラムグループ**](https://t.me/peass)に参加する、または**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)を**フォローする**。
* **HackTricks**のGitHubリポジトリ[**HackTricks**](https://github.com/carlospolop/hacktricks)と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)にPRを提出して、あなたのハッキングのコツを共有する。

</details>
