# AWS - Uchimbaji wa Baada ya Uvamizi wa S3

<details>

<summary><strong>Jifunze uchimbaji wa AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikionekana kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) za kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za uchimbaji kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## S3

Kwa habari zaidi angalia:

{% content-ref url="../aws-services/aws-s3-athena-and-glacier-enum.md" %}
[aws-s3-athena-and-glacier-enum.md](../aws-services/aws-s3-athena-and-glacier-enum.md)
{% endcontent-ref %}

### Taarifa Nyeti

Maranyingi utaweza kupata taarifa nyeti zinazoweza kusomwa kwenye vikombe. Kwa mfano, siri za hali ya terraform.

### Kubadilisha Mwelekeo

Jukwaa tofauti linaweza kutumia S3 kuhifadhi mali nyeti. Kwa mfano, **airflow** inaweza kuhifadhi **mimba** **mimba** kwenye huko, au **kurasa za wavuti** zinaweza kutumikia moja kwa moja kutoka S3. Mvamizi mwenye ruhusa ya kuandika anaweza **kurekebisha kanuni** kutoka kwa kikombe ili **kubadilisha** kwenye majukwaa mengine, au **kuchukua akaunti** kwa kurekebisha faili za JS.

### Ransomware ya S3

Katika hali hii, **mvamizi anaunda ufunguo wa KMS (Key Management Service) kwenye akaunti yao ya AWS** au akaunti nyingine iliyovamiwa. Kisha wanafanya huu **ufikiaji wa ufunguo kwa mtu yeyote ulimwenguni**, kuruhusu mtumiaji yeyote wa AWS, jukumu, au akaunti kuchipua vitu kutumia ufunguo huu. Walakini, vitu hivyo haviwezi kufunguliwa.

Mvamizi anatambua **kikombe cha S3 cha lengo na kupata ufikiaji wa kiwango cha kuandika** kwake kwa kutumia njia mbalimbali. Hii inaweza kuwa kutokana na usanidi mbaya wa kikombe ambao unauweka wazi au mvamizi kupata ufikiaji kwenye mazingira ya AWS yenyewe. Mvamizi kawaida analenga vikombe vinavyoleta taarifa nyeti kama vile taarifa inayoweza kutambulika kibinafsi (PII), taarifa iliyolindwa ya afya (PHI), magogo, nakala rudufu, na zaidi.

Ili kubaini ikiwa kikombe kinaweza kulengwa kwa ransomware, mvamizi anachunguza usanidi wake. Hii ni pamoja na kuhakikisha ikiwa **Utoaji wa Vitu vya S3** umewezeshwa na ikiwa **ufutaji wa uthibitishaji wa hatua nyingi (MFA delete) umewezeshwa**. Ikiwa Utoaji wa Vitu haujawaanzishwa, mvamizi anaweza kuendelea. Ikiwa Utoaji wa Vitu umewezeshwa lakini ufutaji wa MFA umefungwa, mvamizi anaweza **kulemaza Utoaji wa Vitu**. Ikiwa Utoaji wa Vitu na ufutaji wa MFA vimeanzishwa, inakuwa ngumu zaidi kwa mvamizi kufanya ransomware kwenye kikombe hicho maalum.

Kwa kutumia API ya AWS, mvamizi **anachukua nafasi ya kila kitu kwenye kikombe na nakala iliyofungwa kwa kutumia ufunguo wao wa KMS**. Hii kimsingi inafanya data kwenye kikombe iwe imefungwa, ikifanya iwe haipatikani bila ufunguo.

Kuongeza shinikizo zaidi, mvamizi anapanga kufuta ufunguo wa KMS uliotumiwa kwenye shambulio. Hii inampa lengo dirisha la siku 7 kurejesha data yao kabla ufunguo haujafutwa na data kuwa imepotea kabisa.

Hatimaye, mvamizi anaweza kupakia faili ya mwisho, kawaida iitwayo "ransom-note.txt," ambayo ina maagizo kwa lengo juu ya jinsi ya kupata faili zao. Faili hii hupakiwa bila kufungwa, labda ili kuvutia tahadhari ya lengo na kuwafanya waweze kufahamu shambulio la ransomware.

**Kwa habari zaidi** [**angalia utafiti wa awali**](https://rhinosecuritylabs.com/aws/s3-ransomware-part-1-attack-vector/)**.**

<details>

<summary><strong>Jifunze uchimbaji wa AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikionekana kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) za kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za uchimbaji kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
