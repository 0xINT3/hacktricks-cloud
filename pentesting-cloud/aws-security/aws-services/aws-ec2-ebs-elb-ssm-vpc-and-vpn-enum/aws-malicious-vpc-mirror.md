# AWS - Miroir VPC Malveillant

<details>

<summary><strong>Apprenez le hacking AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Autres moyens de soutenir HackTricks :

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**La Famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusifs
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Partagez vos astuces de hacking en soumettant des PRs aux d√©p√¥ts github** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

**Consultez** [**https://rhinosecuritylabs.com/aws/abusing-vpc-traffic-mirroring-in-aws**](https://rhinosecuritylabs.com/aws/abusing-vpc-traffic-mirroring-in-aws) **pour plus de d√©tails sur l'attaque !**

L'inspection passive du r√©seau dans un environnement cloud a √©t√© **difficile**, n√©cessitant des changements de configuration majeurs pour surveiller le trafic r√©seau. Cependant, AWS a introduit une nouvelle fonctionnalit√© appel√©e "**VPC Traffic Mirroring**" pour simplifier ce processus. Avec VPC Traffic Mirroring, le trafic r√©seau au sein des VPC peut √™tre **dupliqu√©** sans installer de logiciel sur les instances elles-m√™mes. Ce trafic dupliqu√© peut √™tre envoy√© √† un syst√®me de d√©tection d'intrusion r√©seau (IDS) pour **analyse**.

Pour r√©pondre au besoin de **d√©ploiement automatis√©** de l'infrastructure n√©cessaire pour le mirroring et l'exfiltration du trafic VPC, nous avons d√©velopp√© un script de preuve de concept appel√© "**malmirror**". Ce script peut √™tre utilis√© avec des **identifiants AWS compromis** pour configurer le mirroring pour toutes les instances EC2 prises en charge dans un VPC cible. Il est important de noter que le VPC Traffic Mirroring n'est pris en charge que par les instances EC2 aliment√©es par le syst√®me AWS Nitro, et la cible du miroir VPC doit √™tre dans le m√™me VPC que les h√¥tes miroirs.

L'**impact** d'un miroir VPC malveillant peut √™tre significatif, car il permet aux attaquants d'acc√©der √† des **informations sensibles** transmises au sein des VPC. La **probabilit√©** d'un tel mirroring malveillant est √©lev√©e, compte tenu de la pr√©sence de **trafic en clair** circulant √† travers les VPC. De nombreuses entreprises utilisent des protocoles en clair au sein de leurs r√©seaux internes pour des **raisons de performance**, en supposant que les attaques traditionnelles de type man-in-the-middle ne sont pas possibles.

Pour plus d'informations et pour acc√©der au [**script malmirror**](https://github.com/RhinoSecurityLabs/Cloud-Security-Research/tree/master/AWS/malmirror), il peut √™tre trouv√© dans notre **d√©p√¥t GitHub**. Le script automatise et rationalise le processus, le rendant **rapide, simple et r√©p√©table** √† des fins de recherche offensive.

<details>

<summary><strong>Apprenez le hacking AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Autres moyens de soutenir HackTricks :

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**La Famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusifs
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Partagez vos astuces de hacking en soumettant des PRs aux d√©p√¥ts github** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
