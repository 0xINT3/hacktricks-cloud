# AWS - Lambda Enum

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>에서 AWS 해킹을 처음부터 전문가까지 배워보세요<strong>!</strong></summary>

HackTricks를 지원하는 다른 방법:

* **회사를 HackTricks에서 광고하거나 HackTricks를 PDF로 다운로드**하려면 [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)를 확인하세요!
* [**공식 PEASS & HackTricks 스웨그**](https://peass.creator-spring.com)를 얻으세요.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)를 발견하세요. 독점적인 [**NFTs**](https://opensea.io/collection/the-peass-family) 컬렉션입니다.
* 💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f) 또는 [**텔레그램 그룹**](https://t.me/peass)에 **참여**하거나 **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**를** **팔로우**하세요.
* **HackTricks**와 **HackTricks Cloud** github 저장소에 PR을 제출하여 **해킹 트릭을 공유**하세요.

</details>

## Lambda

Amazon Web Services (AWS) Lambda는 **서버 프로비저닝 또는 관리의 필요성 없이 코드 실행**을 가능하게 하는 **컴퓨팅 서비스**로 설명됩니다. 이는 코드 실행에 필요한 **리소스 할당을 자동으로 처리**하여 고가용성, 확장성 및 보안과 같은 기능을 보장하는 능력으로 특징 지어집니다. Lambda의 중요한 측면은 **컴퓨팅 시간에만 기반한 요금 체계**로, 초기 투자나 장기적인 의무의 필요성을 제거합니다.

Lambda를 호출하기 위해서는 **Cloudwatch**를 사용하여 **원하는 만큼 자주 호출**하거나, **URL** 엔드포인트를 **노출**하고 호출하거나, **API Gateway**를 통해 호출하거나, **S3** 버킷의 데이터 변경 또는 **DynamoDB** 테이블의 업데이트와 같은 **이벤트**에 기반하여 호출할 수 있습니다.

Lambda의 **코드**는 \*\*`/var/task`\*\*에 저장됩니다.

### Lambda Aliases Weights

Lambda는 **여러 버전**을 가질 수 있습니다.\
그리고 **별칭**을 통해 **1개 이상의 버전**을 노출시킬 수 있습니다. 별칭 내에 노출된 각 버전의 **가중치**는 **어떤 별칭이 호출을 받을지 결정**합니다(예: 90%-10%일 수 있음).\
**한** 개의 별칭 중 **하나**의 별칭의 코드가 **취약**하다면, 취약한 버전이 악용을 받을 때까지 요청을 보낼 수 있습니다.

![](<../../../.gitbook/assets/image (16) (1).png>)

### 리소스 정책

Lambda 리소스 정책은 예를 들어 다른 서비스/계정이 람다를 호출할 수 있도록 허용하는 것과 같이 **다른 서비스/계정에 대한 액세스 권한을 부여**할 수 있습니다.\
예를 들어, 다음은 **URL을 통해 노출된 람다에 누구나 액세스할 수 있도록** 허용하는 정책입니다:

<figure><img src="https://lh4.googleusercontent.com/4PNFKBdzr3nMrPqeKkTslgwWDKxkXMdQ1SNdv7NPHykj3GX8wODrQyXOFbjk4fxHfZ8pDm5ijWgk2Vq2EGXiPRT3TQfZf1fHycvdEKBuDxJDYos1CJeMHXSeg86ZB-Ol7CNtten6xkVFQj6AhDUEWNQJrQ=s2048" alt=""><figcaption></figcaption></figure>

또는 다음은 API Gateway가 호출할 수 있도록 허용하는 정책입니다:

<figure><img src="https://lh3.googleusercontent.com/Su0JlR0wBqb-99Z4N_2-_kMlX0Xzx2n_GpZuOPW5IeXR3FYbm8OHFDM3Ora1BpXiSjHpDVUlq4yEyXwaI3nBuze6DJ-wRf2ATsCuWbq0wuBCd34E9uIpqwheE6Cc_PopviI_93O_j2ZKXc1-AJtsBoLVUw=s2048" alt=""><figcaption></figcaption></figure>

### Lambda Database Proxies

**수백 개의 동시 람다 요청**이 있는 경우, 각각의 요청이 **데이터베이스에 연결하고 연결을 닫아야 한다면**(람다는 상태를 유지할 수 없으므로 연결을 열 수 없음), 작동하지 않을 것입니다.\
그런 경우에는 **Lambda 함수가 데이터베이스 인스턴스 대신 RDS Proxy와 상호 작용**하도록 설정할 수 있습니다. 동시 람다 함수에 의해 생성된 많은 동시 연결의 연결 풀링을 처리합니다. 이를 통해 Lambda 애플리케이션은 **기존 연결을 재사용**할 수 있으며, 각 함수 호출마다 새로운 연결을 생성하는 대신 기존 연결을 사용할 수 있습니다.

### Lambda EFS 파일 시스템

데이터를 보존하고 공유하기 위해 **Lambda는 EFS에 액세스하고 마운트**할 수 있으므로 Lambda에서 읽고 쓸 수 있습니다.

### Lambda Layers

Lambda \_레이어\_는 추가 코드 또는 다른 콘텐츠를 포함할 수 있는 .zip 파일 아카이브입니다. 레이어에는 라이브러리, [사용자 정의 런타임](https://docs.aws.amazon.com/lambda/latest/dg/runtimes-custom.html), 데이터 또는 구성 파일을 포함할 수 있습니다.

한 함수에 최대 **다섯 개의 레이어**를 포함할 수 있습니다. 레이어를 함수에 포함시킬 때, **컨텐츠는 실행 환경의 `/opt`** 디렉토리에 추출됩니다.

**기본적으로**, 생성한 레이어는 AWS 계정에 **비공개**입니다. 레이어를 다른 계정과 **공유**하거나 레이어를 **공개**로 만들 수 있습니다. 다른 계정이 게시한 레이어를 사용하는 경우, 레이어 버전이 삭제된 후에도 함수는 레이어 버전을 계속 사용할 수 있으며, 레이어에 대한 액세스 권한이 취소된 후에도 함수를 생성하거나 업데이트할 수 없습니다.

컨테이너 이미지로 배포된 함수는 레이어를 사용하지 않습니다. 대신, 이미지를 빌드할 때 선호하는 런타임, 라이브러리 및 기타 종속성을 컨테이너 이미지에 패키지합니다.

### Lambda Extensions

Lambda 확장은 다양한 **모니터링, 관찰, 보안 및 거버넌스 도구**와 통합하여 함수를 향상시킵니다. 이러한 확장은 Lambda 레이어를 사용하여 [.zip 아카이브를 통해 추가](https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html)하거나 [컨테이너 이미지 배포](https://aws.amazon.com/blogs/compute/working-with-lambda-layers-and-extensions-in-container-images/)에 포함된다. 이러한 확장은 **내부** 및 **외부** 두 가지 모드로 작동합니다.

* **내부 확장**은 **언어별 환경 변수**와 **래퍼 스크립트**를 사용하여 런타임 프로세스와 병합되어 시작을 조작합니다. 이 사용자 정의는 **Java Correto 8 및 11, Node.js 10 및 12, .NET Core 3.1**을 포함한 다양한 런타임에 적용됩니다.
* \*\*외부

### 열거

AWS Lambda 함수를 효과적으로 펜테스트하기 위해 다음과 같은 열거 기법을 사용할 수 있습니다.

#### 1. 함수 목록 가져오기

AWS CLI를 사용하여 Lambda 함수의 목록을 가져올 수 있습니다.

```plaintext
aws lambda list-functions
```

#### 2. 함수 구성 가져오기

특정 Lambda 함수의 구성을 가져오려면 다음 명령을 사용합니다.

```plaintext
aws lambda get-function-configuration --function-name <function_name>
```

#### 3. 함수 코드 가져오기

Lambda 함수의 코드를 가져오려면 다음 명령을 사용합니다.

```plaintext
aws lambda get-function --function-name <function_name> --query 'Code.Location' --output text
```

#### 4. 함수 환경 변수 가져오기

Lambda 함수의 환경 변수를 가져오려면 다음 명령을 사용합니다.

```plaintext
aws lambda get-function-configuration --function-name <function_name> --query 'Environment.Variables' --output text
```

#### 5. 함수 권한 가져오기

Lambda 함수의 권한을 가져오려면 다음 명령을 사용합니다.

```plaintext
aws lambda get-policy --function-name <function_name>
```

#### 6. 함수 로그 가져오기

특정 Lambda 함수의 로그를 가져오려면 다음 명령을 사용합니다.

```plaintext
aws logs filter-log-events --log-group-name /aws/lambda/<function_name>
```

#### 7. 함수 트리거 가져오기

Lambda 함수의 트리거를 가져오려면 다음 명령을 사용합니다.

```plaintext
aws lambda list-event-source-mappings --function-name <function_name>
```

#### 8. 함수 메타데이터 가져오기

Lambda 함수의 메타데이터를 가져오려면 다음 명령을 사용합니다.

```plaintext
aws lambda list-tags --resource <function_arn>
```

#### 9. 함수 암호화 구성 가져오기

Lambda 함수의 암호화 구성을 가져오려면 다음 명령을 사용합니다.

```plaintext
aws lambda get-function-configuration --function-name <function_name> --query 'KMSKeyArn' --output text
```

#### 10. 함수 버전 가져오기

Lambda 함수의 버전을 가져오려면 다음 명령을 사용합니다.

```plaintext
aws lambda list-versions-by-function --function-name <function_name>
```

#### 11. 함수 액세스 제어 정책 가져오기

Lambda 함수의 액세스 제어 정책을 가져오려면 다음 명령을 사용합니다.

```plaintext
aws lambda get-policy --function-name <function_name>
```

#### 12. 함수에 대한 퍼블릭 액세스 확인

Lambda 함수가 퍼블릭 액세스를 허용하는지 확인하려면 다음 명령을 사용합니다.

```plaintext
aws lambda get-policy --function-name <function_name>
```

#### 13. 함수에 대한 퍼블릭 액세스 제거

Lambda 함수의 퍼블릭 액세스를 제거하려면 다음 명령을 사용합니다.

```plaintext
aws lambda remove-permission --function-name <function_name> --statement-id <statement_id>
```

#### 14. 함수에 대한 퍼블릭 액세스 추가

Lambda 함수에 퍼블릭 액세스를 추가하려면 다음 명령을 사용합니다.

```plaintext
aws lambda add-permission --function-name <function_name> --statement-id <statement_id> --action lambda:InvokeFunction --principal s3.amazonaws.com --source-arn arn:aws:s3:::<bucket_name> --source-account <account_id>
```

#### 15. 함수에 대한 트리거 추가

Lambda 함수에 트리거를 추가하려면 다음 명령을 사용합니다.

```plaintext
aws lambda create-event-source-mapping --function-name <function_name> --event-source-arn <event_source_arn> --starting-position LATEST
```

#### 16. 함수에 대한 트리거 제거

Lambda 함수의 트리거를 제거하려면 다음 명령을 사용합니다.

```plaintext
aws lambda delete-event-source-mapping --uuid <uuid>
```

#### 17. 함수에 대한 환경 변수 설정

Lambda 함수의 환경 변수를 설정하려면 다음 명령을 사용합니다.

```plaintext
aws lambda update-function-configuration --function-name <function_name> --environment "Variables={KEY1=value1,KEY2=value2}"
```

#### 18. 함수에 대한 메모리 크기 변경

Lambda 함수의 메모리 크기를 변경하려면 다음 명령을 사용합니다.

```plaintext
aws lambda update-function-configuration --function-name <function_name> --memory-size <memory_size>
```

#### 19. 함수에 대한 실행 시간 제한 변경

Lambda 함수의 실행 시간 제한을 변경하려면 다음 명령을 사용합니다.

```plaintext
aws lambda update-function-configuration --function-name <function_name> --timeout <timeout>
```

#### 20. 함수에 대한 암호화 구성 변경

Lambda 함수의 암호화 구성을 변경하려면 다음 명령을 사용합니다.

```plaintext
aws lambda update-function-configuration --function-name <function_name> --kms-key-arn <kms_key_arn>
```

#### 21. 함수에 대한 액세스 제어 정책 변경

Lambda 함수의 액세스 제어 정책을 변경하려면 다음 명령을 사용합니다.

```plaintext
aws lambda add-permission --function-name <function_name> --statement-id <statement_id> --action <action> --principal <principal> --source-arn <source_arn> --source-account <account_id>
```

#### 22. 함수에 대한 태그 추가

Lambda 함수에 태그를 추가하려면 다음 명령을 사용합니다.

```plaintext
aws lambda tag-resource --resource <function_arn> --tags Key=<key>,Value=<value>
```

#### 23. 함수에 대한 태그 제거

Lambda 함수의 태그를 제거하려면 다음 명령을 사용합니다.

```plaintext
aws lambda untag-resource --resource <function_arn> --tag-keys <key>
```

#### 24. 함수에 대한 태그 업데이트

Lambda 함수의 태그를 업데이트하려면 다음 명령을 사용합니다.

```plaintext
aws lambda tag-resource --resource <function_arn> --tags Key=<key>,Value=<value>
```

#### 25. 함수에 대한 액세스 제어 정책 제거

Lambda 함수의 액세스 제어 정책을 제거하려면 다음 명령을 사용합니다.

```plaintext
aws lambda remove-permission --function-name <function_name> --statement-id <statement_id>
```

#### 26. 함수에 대한 액세스 제어 정책 추가

Lambda 함수에 액세스 제어 정책을 추가하려면 다음 명령을 사용합니다.

```plaintext
aws lambda add-permission --function-name <function_name> --statement-id <statement_id> --action <action> --principal <principal> --source-arn <source_arn> --source-account <account_id>
```

#### 27. 함수에 대한 액세스 제어 정책 업데이트

Lambda 함수의 액세스 제어 정책을 업데이트하려면 다음 명령을 사용합니다.

```plaintext
aws lambda add-permission --function-name <function_name> --statement-id <statement_id> --action <action> --principal <principal> --source-arn <source_arn> --source-account <account_id>
```

#### 28. 함수에 대한 액세스 제어 정책 확인

Lambda 함수의 액세스 제어 정책을 확인하려면 다음 명령을 사용합니다.

```plaintext
aws lambda get-policy --function-name <function_name>
```

#### 29. 함수에 대한 액세스 제어 정책 제거

Lambda 함수의 액세스 제어 정책을 제거하려면 다음 명령을 사용합니다.

```plaintext
aws lambda remove-permission --function-name <function_name> --statement-id <statement_id>
```

#### 30. 함수에 대한 액세스 제어 정책 추가

Lambda 함수에 액세스 제어 정책을 추가하려면 다음 명령을 사용합니다.

```plaintext
aws lambda add-permission --function-name <function_name> --statement-id <statement_id> --action <action> --principal <principal> --source-arn <source_arn> --source-account <account_id>
```

#### 31. 함수에 대한 액세스 제어 정책 업데이트

Lambda 함수의 액세스 제어 정책을 업데이트하려면 다음 명령을 사용합니다.

```plaintext
aws lambda add-permission --function-name <function_name> --statement-id <statement_id> --action <action> --principal <principal> --source-arn <source_arn> --source-account <account_id>
```

#### 32. 함수에 대한 액세스 제어 정책 확인

Lambda 함수의 액세스 제어 정책을 확인하려면 다음 명령을 사용합니다.

```plaintext
aws lambda get-policy --function-name <function_name>
```

#### 33. 함수에 대한 액세스 제어 정책 제거

Lambda 함수의 액세스 제어 정책을 제거하려면 다음 명령을 사용합니다.

```plaintext
aws lambda remove-permission --function-name <function_name> --statement-id <statement_id>
```

#### 34. 함수에 대한 액세스 제어 정책 추가

Lambda 함수에 액세스 제어 정책을 추가하려면 다음 명령을 사용합니다.

```plaintext
aws lambda add-permission --function-name <function_name> --statement-id <statement_id> --action <action> --principal <principal> --source-arn <source_arn> --source-account <account_id>
```

#### 35. 함수에 대한 액세스 제어 정책 업데이트

Lambda 함수의 액세스 제어 정책을 업데이트하려면 다음 명령을 사용합니다.

```plaintext
aws lambda add-permission --function-name <function_name> --statement-id <statement_id> --action <action> --principal <principal> --source-arn <source_arn> --source-account <account_id>
```

#### 36. 함수에 대한 액세스 제어 정책 확인

Lambda 함수의 액세스 제어 정책을 확인하려면 다음 명령을 사용합니다.

```plaintext
aws lambda get-policy --function-name <function_name>
```

#### 37. 함수에 대한 액세스 제어 정책 제거

Lambda 함수의 액세스 제어 정책을 제거하려면 다음 명령을 사용합니다.

```plaintext
aws lambda remove-permission --function-name <function_name> --statement-id <statement_id>
```

#### 38. 함수에 대한 액세스 제어 정책 추가

Lambda 함수에 액세스 제어 정책을 추가하려면 다음 명령을 사용합니다.

```plaintext
aws lambda add-permission --function-name <function_name> --statement-id <statement_id> --action <action> --principal <principal> --source-arn <source_arn> --source-account <account_id>
```

#### 39. 함수에 대한 액세스 제어 정책 업데이트

Lambda 함수의 액세스 제어 정책을 업데이트하려면 다음 명령을 사용합니다.

```plaintext
aws lambda add-permission --function-name <function_name> --statement-id <statement_id> --action <action> --principal <principal> --source-arn <source_arn> --source-account <account_id>
```

#### 40. 함수에 대한 액세스 제어 정책 확인

Lambda 함수의 액세스 제어 정책을 확인하려면 다음 명령을 사용합니다.

```plaintext
aws lambda get-policy --function-name <function_name>
```

#### 41. 함수에 대한 액세스 제어 정책 제거

Lambda 함수의 액세스 제어 정책을 제거하려면 다음 명령을 사용합니다.

```plaintext
aws lambda remove-permission --function-name <function_name> --statement-id <statement_id>
```

#### 42. 함수에 대한 액세스 제어 정책 추가

Lambda 함수에 액세스 제어 정책을 추가하려면 다음 명령을 사용합니다.

```plaintext
aws lambda add-permission --function-name <function_name> --statement-id <statement_id> --action <action> --principal <principal> --source-arn <source_arn> --source-account <account_id>
```

#### 43. 함수에 대한 액세스 제어 정책 업데이트

Lambda 함수의 액세스 제어 정책을 업데이트하려면 다음 명령을 사용합니다.

```plaintext
aws lambda add-permission --function-name <function_name> --statement-id <statement_id> --action <action> --principal <principal> --source-arn <source_arn> --source-account <account_id>
```

#### 44. 함수에 대한 액세스 제어 정책 확인

Lambda 함수의 액세스 제어 정책을 확인하려면 다음 명령을 사용합니다.

```plaintext
aws lambda get-policy --function-name <function_name>
```

#### 45. 함수에 대한 액세스 제어 정책 제거

Lambda 함수의 액세스 제어 정책을 제거하려면 다음 명령을 사용합니다.

```plaintext
aws lambda remove-permission --function-name <function_name> --statement-id <statement_id>
```

#### 46. 함수에 대한 액세스 제어 정책 추가

Lambda 함수에 액세스 제어 정책을 추가하려면 다음 명령을 사용합니다.

```plaintext
aws lambda add-permission --function-name <function_name> --statement-id <statement_id> --action <action> --principal <principal> --source-arn <source_arn> --source-account <account_id>
```

#### 47. 함수에 대한 액세스 제어 정책 업데이트

Lambda 함수의 액세스 제어 정책을 업데이트하려면 다음 명령을 사용합니다.

```plaintext
aws lambda add-permission --function-name <function_name> --statement-id <statement_id> --action <action> --principal <principal> --source-arn <source_arn> --source-account <account_id>
```

#### 48. 함수에 대한 액세스 제어 정책 확인

Lambda 함수의 액세스 제어 정책을 확인하려면 다음 명령을 사용합니다.

```plaintext
aws lambda get-policy --function-name <function_name>
```

#### 49. 함수에 대한 액세스 제어 정책 제거

Lambda 함수의 액세스 제어 정책을 제거하려면 다음 명령을 사용합니다.

```plaintext
aws lambda remove-permission --function-name <function_name> --statement-id <statement_id>
```

#### 50. 함수에 대한 액세스 제어 정책 추가

Lambda 함수에 액세스 제어 정책을 추가하려면 다음 명령을 사용합니다.

```plaintext
aws lambda add-permission --function-name <function_name> --statement-id <statement_id> --action <action> --principal <principal> --source-arn <source_arn> --source-account <account_id>
```

```bash
aws lambda get-account-settings

# List functions and get extra config info
aws lambda list-functions
aws lambda get-function --function-name <function_name>
aws lambda get-function-configuration --function-name <function_name>
aws lambda list-function-event-invoke-configs --function-name <function_name>
## Check for creds in env vars
aws lambda list-functions | jq '.Functions[].Environment'
## Download & check the source code
aws lambda get-function --function-name "<func_name>" --query 'Code.Location'
wget -O lambda-function.zip <url-from-previous-query>

# Get Lambda URL (if any)
aws lambda list-function-url-configs --function-name <function_name>
aws lambda get-function-url-config --function-name <function_name>

# Get who has permissions to invoke the Lambda
aws lambda get-policy --function-name <function_name>

# Versions and Aliases
aws lambda list-versions-by-function --function-name <func_name>
aws lambda list-aliases --function-name <func_name>

# List layers
aws lambda list-layers
aws lambda list-layer-versions --layer-name <name>
aws lambda get-layer-version --layer-name <name> --version-number <ver>
aws lambda get-layer-version-by-arn --arn <name> #Get external ARNs

# List other metadata
aws lambda list-event-source-mappings
aws lambda list-code-signing-configs
aws lambda list-functions-by-code-signing-config --code-signing-config-arn <arn>
```

### 람다 호출

#### 수동으로

```bash
# Invoke function
aws lambda invoke --function-name FUNCTION_NAME /tmp/out
## Some functions will expect parameters, they will access them with something like:
## target_policys = event['policy_names']
## user_name = event['user_name']
aws lambda invoke --function-name <name> --cli-binary-format raw-in-base64-out --payload '{"policy_names": ["AdministratorAccess], "user_name": "sdf"}' out.txt
```

#### 노출된 URL을 통해

```html
1. Check if the Lambda function is accessible via a public URL.
2. Use tools like `curl` or `wget` to send HTTP requests to the URL.
3. Look for any sensitive information or misconfigurations in the response.
4. If the function returns any error messages, analyze them for potential vulnerabilities.
5. Enumerate the function's permissions and roles to identify any potential security weaknesses.
6. Exploit any discovered vulnerabilities to gain unauthorized access or extract sensitive data.
```

```html
1. Lambda 함수가 공개 URL을 통해 접근 가능한지 확인합니다.
2. `curl` 또는 `wget`과 같은 도구를 사용하여 URL로 HTTP 요청을 보냅니다.
3. 응답에서 민감한 정보나 잘못된 구성을 찾습니다.
4. 함수가 오류 메시지를 반환하는 경우, 잠재적인 취약점을 분석합니다.
5. 함수의 권한과 역할을 열거하여 잠재적인 보안 취약점을 식별합니다.
6. 발견된 취약점을 악용하여 무단 액세스를 얻거나 민감한 데이터를 추출합니다.
```

```bash
aws lambda list-function-url-configs --function-name <function_name> #Get lambda URL
aws lambda get-function-url-config   --function-name <function_name> #Get lambda URL
```

#### URL을 통해 Lambda 함수 호출

이제 실행 가능한 Lambda 함수를 찾아보는 시간입니다:

```
aws --region us-west-2 --profile level6 lambda list-functions
```

![](<../../../.gitbook/assets/image (21) (1).png>)

"Level6"이라는 람다 함수가 있습니다. 이 함수를 호출하는 방법을 알아보겠습니다:

```bash
aws --region us-west-2 --profile level6 lambda get-policy --function-name Level6
```

![](<../../../.gitbook/assets/image (69).png>)

이제 이름과 ID를 알았으므로 이름을 얻을 수 있습니다:

```bash
aws --profile level6 --region us-west-2 apigateway get-stages --rest-api-id "s33ppypa75"
```

![](<../../../.gitbook/assets/image (20).png>)

그리고 마지막으로 함수를 호출하여 액세스합니다 (URL에 ID, 이름 및 함수 이름이 표시됨): [https://s33ppypa75.execute-api.us-west-2.amazonaws.com/Prod/level6](https://s33ppypa75.execute-api.us-west-2.amazonaws.com/Prod/level6)

`URL:`**`https://<rest-api-id>.execute-api.<region>.amazonaws.com/<stageName>/<funcName>`**

#### 다른 트리거

람다를 트리거할 수 있는 다른 소스들이 많이 있습니다.

<figure><img src="../../../.gitbook/assets/image (1) (1) (3).png" alt=""><figcaption></figcaption></figure>

### 권한 상승

다음 페이지에서는 **Lambda 권한을 남용하여 권한 상승**하는 방법을 확인할 수 있습니다:

{% content-ref url="../aws-privilege-escalation/aws-lambda-privesc.md" %}
[aws-lambda-privesc.md](../aws-privilege-escalation/aws-lambda-privesc.md)
{% endcontent-ref %}

### 인증되지 않은 액세스

{% content-ref url="../aws-unauthenticated-enum-access/aws-lambda-unauthenticated-access.md" %}
[aws-lambda-unauthenticated-access.md](../aws-unauthenticated-enum-access/aws-lambda-unauthenticated-access.md)
{% endcontent-ref %}

### 후반 공격

{% content-ref url="../aws-post-exploitation/aws-lambda-post-exploitation/" %}
[aws-lambda-post-exploitation](../aws-post-exploitation/aws-lambda-post-exploitation/)
{% endcontent-ref %}

### 지속성

{% content-ref url="../aws-persistence/aws-lambda-persistence/" %}
[aws-lambda-persistence](../aws-persistence/aws-lambda-persistence/)
{% endcontent-ref %}

## 참고 자료

* [https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-concepts.html#gettingstarted-concepts-layer](https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-concepts.html#gettingstarted-concepts-layer)
* [https://aws.amazon.com/blogs/compute/building-extensions-for-aws-lambda-in-preview/](https://aws.amazon.com/blogs/compute/building-extensions-for-aws-lambda-in-preview/)

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>를 통해 AWS 해킹을 처음부터 전문가까지 배워보세요<strong>!</strong></summary>

HackTricks를 지원하는 다른 방법:

* **회사를 HackTricks에서 광고하거나 HackTricks를 PDF로 다운로드**하려면 [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)를 확인하세요!
* [**공식 PEASS & HackTricks 스웨그**](https://peass.creator-spring.com)를 얻으세요.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)를 발견하세요. 독점적인 [**NFTs**](https://opensea.io/collection/the-peass-family) 컬렉션입니다.
* 💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f) 또는 [**텔레그램 그룹**](https://t.me/peass)에 **참여**하거나 **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**를** 팔로우하세요.
* **HackTricks**와 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github 저장소에 PR을 제출하여 여러분의 해킹 기술을 공유하세요.

</details>
