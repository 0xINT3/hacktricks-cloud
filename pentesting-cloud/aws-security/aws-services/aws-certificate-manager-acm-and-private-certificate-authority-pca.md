# AWS - Certificate Manager (ACM) & Private Certificate Authority (PCA)

<details>

<summary><strong>Impara l'hacking di AWS da zero a eroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se vuoi vedere la tua **azienda pubblicizzata su HackTricks** o **scaricare HackTricks in PDF** Controlla i [**PACCHETTI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di [**NFT esclusivi**](https://opensea.io/collection/the-peass-family)
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Condividi i tuoi trucchi di hacking inviando PR ai** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## Informazioni di base

**AWS Certificate Manager (ACM)** √® fornito come un servizio mirato a semplificare la **provisioning, gestione e distribuzione di certificati SSL/TLS** per i servizi AWS e le risorse interne. La necessit√† di processi manuali, come l'acquisto, il caricamento e il rinnovo dei certificati, viene **eliminata** da ACM. Ci√≤ consente agli utenti di richiedere ed implementare in modo efficiente certificati su varie risorse AWS, tra cui **bilanciatori di carico elastici, distribuzioni Amazon CloudFront e API su API Gateway**.

Una caratteristica chiave di ACM √® il **rinnovo automatico dei certificati**, che riduce significativamente l'onere della gestione. Inoltre, ACM supporta la creazione e la gestione centralizzata di **certificati privati per uso interno**. Sebbene i certificati SSL/TLS per i servizi AWS integrati come Elastic Load Balancing, Amazon CloudFront e Amazon API Gateway siano forniti senza costi aggiuntivi tramite ACM, gli utenti sono responsabili dei costi associati alle risorse AWS utilizzate dalle loro applicazioni e di una tariffa mensile per ogni **Autorit√† di Certificazione (CA) privata** e certificati privati utilizzati al di fuori dei servizi integrati ACM.

**AWS Private Certificate Authority** viene offerto come un **servizio di CA privata gestita**, che potenzia le capacit√† di ACM estendendo la gestione dei certificati per includere certificati privati. Questi certificati privati sono fondamentali per l'autenticazione delle risorse all'interno di un'organizzazione.

## Enumerazione

### ACM
```bash
# List certificates
aws acm list-certificates

# Get certificate info
aws acm describe-certificate --certificate-arn <arn> # Check "InUseBy" to check which resources are using it

# Get certificate data
aws acm get-certificate --certificate-arn "arn:aws:acm:us-east-1:188868097724:certificate/865abced-82c9-43bf-b7d2-1f4948bf353d"

# Account configuration
aws acm get-account-configuration
```
### PCA

Il Private Certificate Authority (PCA) √® un servizio di AWS che consente di creare e gestire le proprie autorit√† di certificazione (CA) private. Le CA private consentono di emettere certificati digitali per l'uso all'interno dell'organizzazione, garantendo la sicurezza delle comunicazioni e l'autenticazione dei servizi.

Con il PCA, √® possibile creare una gerarchia di CA private, in cui una CA radice emette certificati per le CA subordinate. Questo permette di controllare in modo granulare i certificati emessi e di garantire la sicurezza dell'intera infrastruttura.

Per utilizzare il PCA, √® necessario creare una CA radice e una o pi√π CA subordinate. La CA radice viene utilizzata per emettere certificati per le CA subordinate, che a loro volta emettono certificati per i servizi e le risorse dell'organizzazione.

L'utilizzo del PCA offre numerosi vantaggi, tra cui:

- Controllo completo sulla gestione dei certificati digitali all'interno dell'organizzazione.
- Possibilit√† di emettere certificati per servizi e risorse specifiche.
- Maggiore sicurezza delle comunicazioni e autenticazione dei servizi.
- Possibilit√† di revocare i certificati in modo rapido ed efficiente in caso di compromissione della sicurezza.

Per utilizzare il PCA, √® necessario configurare correttamente le autorizzazioni e le policy di accesso. Inoltre, √® importante seguire le best practice di sicurezza per garantire la protezione dei certificati e delle chiavi private.

In conclusione, il PCA √® uno strumento potente per garantire la sicurezza delle comunicazioni e l'autenticazione dei servizi all'interno dell'organizzazione. Utilizzando il PCA, √® possibile creare e gestire le proprie CA private in modo sicuro e controllato.
```bash
# List CAs
aws acm-pca list-certificate-authorities

# Get CA info
aws acm-pca describe-certificate-authority --certificate-authority-arn <arn>

# Get CA Permissions
aws acm-pca list-permissions --certificate-authority-arn <arn>

# Get CA certificate
aws acm-pca get-certificate-authority-certificate --certificate-authority-arn <arn>

# Certificate request
aws acm-pca get-certificate-authority-csr --certificate-authority-arn <arn>

# Get CA Policy (if any)
aws acm-pca get-policy --resource-arn <arn>
```
## Privesc

TODO

## Post Exploitation

TODO

<details>

<summary><strong>Impara l'hacking di AWS da zero a eroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se vuoi vedere la tua **azienda pubblicizzata su HackTricks** o **scaricare HackTricks in PDF**, controlla i [**PACCHETTI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di [**NFT**](https://opensea.io/collection/the-peass-family) esclusivi
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo Telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Condividi i tuoi trucchi di hacking inviando PR ai repository di** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github.

</details>
