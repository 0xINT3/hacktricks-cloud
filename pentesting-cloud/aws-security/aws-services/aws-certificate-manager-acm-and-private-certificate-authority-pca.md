# AWS - 인증서 관리자 (ACM) 및 개인 인증서 기관 (PCA)

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>를 통해 AWS 해킹을 처음부터 전문가까지 배워보세요<strong>!</strong></summary>

HackTricks를 지원하는 다른 방법:

* **회사를 HackTricks에서 광고하거나 HackTricks를 PDF로 다운로드**하려면 [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)를 확인하세요!
* [**공식 PEASS & HackTricks 스웨그**](https://peass.creator-spring.com)를 얻으세요.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)를 발견하세요. 독점적인 [**NFTs**](https://opensea.io/collection/the-peass-family) 컬렉션입니다.
* 💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f) 또는 [**텔레그램 그룹**](https://t.me/peass)에 **참여**하거나 **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**를** **팔로우**하세요.
* **HackTricks**와 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github 저장소에 PR을 제출하여 **해킹 트릭을 공유**하세요.

</details>

## 기본 정보

**AWS 인증서 관리자 (ACM)**는 AWS 서비스 및 내부 리소스에 대한 **SSL/TLS 인증서의 프로비저닝, 관리 및 배포를 간소화**하기 위한 서비스로 제공됩니다. ACM은 구매, 업로드 및 인증서 갱신과 같은 수동 프로세스의 필요성을 **제거**하여 사용자가 **Elastic Load Balancer, Amazon CloudFront 배포 및 API Gateway의 API**를 포함한 다양한 AWS 리소스에 대해 효율적으로 인증서를 요청하고 구현할 수 있도록 합니다.

ACM의 주요 기능 중 하나는 **인증서의 자동 갱신**으로, 관리 오버헤드를 크게 줄일 수 있습니다. 또한, ACM은 **내부 사용을 위한 개인 인증서의 생성 및 중앙 집중식 관리**를 지원합니다. ACM을 통해 통합된 AWS 서비스인 Elastic Load Balancing, Amazon CloudFront 및 Amazon API Gateway에 대한 SSL/TLS 인증서는 추가 비용 없이 제공되지만, 사용자는 응용 프로그램에서 사용하는 AWS 리소스와 각 **개인 인증서 기관 (CA)** 및 통합 ACM 서비스 외부에서 사용되는 개인 인증서에 대한 월간 요금에 대한 비용을 부담해야 합니다.

**AWS 개인 인증서 기관**은 관리되는 개인 CA 서비스로 제공되며, 개인 인증서를 포함한 인증서 관리 기능을 확장하여 ACM의 기능을 향상시킵니다. 이러한 개인 인증서는 조직 내의 리소스를 인증하는 데 중요한 역할을 합니다.

## 열거

### ACM
```bash
# List certificates
aws acm list-certificates

# Get certificate info
aws acm describe-certificate --certificate-arn <arn> # Check "InUseBy" to check which resources are using it

# Get certificate data
aws acm get-certificate --certificate-arn "arn:aws:acm:us-east-1:188868097724:certificate/865abced-82c9-43bf-b7d2-1f4948bf353d"

# Account configuration
aws acm get-account-configuration
```
# AWS Certificate Manager (ACM) 및 Private Certificate Authority (PCA)

AWS Certificate Manager (ACM)은 AWS에서 SSL/TLS 인증서를 관리하기 위한 서비스입니다. ACM을 사용하면 인증서를 생성, 관리 및 배포할 수 있습니다. ACM은 공개 인증서 및 프라이빗 인증서를 모두 지원합니다.

ACM은 다음과 같은 기능을 제공합니다:

- **인증서 생성**: ACM을 사용하여 공개 및 프라이빗 인증서를 생성할 수 있습니다. 인증서는 ACM에서 자동으로 관리되며, 자동으로 갱신되기도 합니다.
- **인증서 관리**: ACM은 인증서의 상태를 모니터링하고, 만료일을 알려주며, 갱신을 자동으로 처리합니다.
- **인증서 배포**: ACM은 생성한 인증서를 AWS 리소스에 자동으로 배포할 수 있습니다. 예를 들어, Elastic Load Balancer (ELB), CloudFront 등과 같은 서비스에 인증서를 연결할 수 있습니다.

Private Certificate Authority (PCA)는 ACM과 유사한 기능을 제공하지만, 프라이빗 인증서만을 관리합니다. PCA를 사용하면 자체 인증 기관 (CA)를 구축하여 인증서를 생성하고 관리할 수 있습니다. PCA는 다음과 같은 기능을 제공합니다:

- **자체 CA 구축**: PCA를 사용하여 자체 CA를 구축할 수 있습니다. 이를 통해 조직 내에서 인증서를 생성하고 관리할 수 있습니다.
- **인증서 생성 및 관리**: PCA를 사용하여 인증서를 생성하고 관리할 수 있습니다. 인증서는 조직 내에서 사용할 수 있으며, ACM과 마찬가지로 자동으로 갱신됩니다.
- **인증서 배포**: PCA를 사용하여 생성한 인증서를 AWS 리소스에 배포할 수 있습니다.

ACM과 PCA는 AWS에서 제공하는 강력한 보안 도구입니다. 이러한 도구를 사용하여 SSL/TLS 인증서를 쉽게 생성, 관리 및 배포할 수 있습니다.
```bash
# List CAs
aws acm-pca list-certificate-authorities

# Get CA info
aws acm-pca describe-certificate-authority --certificate-authority-arn <arn>

# Get CA Permissions
aws acm-pca list-permissions --certificate-authority-arn <arn>

# Get CA certificate
aws acm-pca get-certificate-authority-certificate --certificate-authority-arn <arn>

# Certificate request
aws acm-pca get-certificate-authority-csr --certificate-authority-arn <arn>

# Get CA Policy (if any)
aws acm-pca get-policy --resource-arn <arn>
```
## Privesc

TODO

## Post Exploitation

TODO

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>를 통해 AWS 해킹을 처음부터 전문가까지 배워보세요<strong>!</strong></summary>

HackTricks를 지원하는 다른 방법:

* 회사를 **HackTricks에서 광고하거나 HackTricks를 PDF로 다운로드**하려면 [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)를 확인하세요!
* [**공식 PEASS & HackTricks 스웨그**](https://peass.creator-spring.com)를 얻으세요.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)를 발견하세요. 독점적인 [**NFTs**](https://opensea.io/collection/the-peass-family) 컬렉션입니다.
* 💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f) 또는 [**텔레그램 그룹**](https://t.me/peass)에 **참여**하거나 **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)를 **팔로우**하세요.
* **HackTricks**와 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github 저장소에 PR을 제출하여 여러분의 해킹 기법을 공유하세요.

</details>
