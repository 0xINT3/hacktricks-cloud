# AWS - 証明書マネージャー（ACM）＆プライベート証明書機関（PCA）

<details>

<summary><strong>htARTE（HackTricks AWS Red Team Expert）</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>でAWSハッキングをゼロからヒーローまで学ぶ</strong></a><strong>！</strong></summary>

HackTricksをサポートする他の方法：

- **HackTricksで企業を宣伝したい**または**HackTricksをPDFでダウンロードしたい**場合は、[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！
- [**公式PEASS＆HackTricksのグッズ**](https://peass.creator-spring.com)を入手する
- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)のコレクションを見つける
- 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に参加するか、[**telegramグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)をフォローする
- **HackTricks**と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks)のGitHubリポジトリにPRを提出して、あなたのハッキングテクニックを共有する

</details>

## 基本情報

**AWS Certificate Manager（ACM）**は、AWSサービスおよび内部リソースの**SSL/TLS証明書のプロビジョニング、管理、展開を効率化**するサービスとして提供されています。ACMによって、購入、アップロード、証明書の更新などの手動プロセスの必要性が**排除**されます。これにより、ユーザーは**Elastic Load Balancers、Amazon CloudFrontディストリビューション、API GatewayのAPI**など、さまざまなAWSリソースに証明書を効率的にリクエストおよび実装できます。

ACMの重要な機能の1つは、**証明書の自動更新**であり、管理オーバーヘッドを大幅に削減します。さらに、ACMは**内部利用のためのプライベート証明書の作成と中央管理**をサポートしています。ACMを介してElastic Load Balancing、Amazon CloudFront、Amazon API Gatewayなどの統合AWSサービス用のSSL/TLS証明書は追加費用なしで提供されますが、ユーザーはアプリケーションで利用されるAWSリソースに関連するコストと、統合されたACMサービス外で使用される各**プライベート証明書機関（CA）**およびプライベート証明書ごとの月額料金に責任を負います。

**AWSプライベート証明書機関**は、**管理されたプライベートCAサービス**として提供され、プライベート証明書を含めた証明書管理を拡張することで、ACMの機能を強化しています。これらのプライベート証明書は、組織内のリソースの認証に重要です。

## 列挙

### ACM
```bash
# List certificates
aws acm list-certificates

# Get certificate info
aws acm describe-certificate --certificate-arn <arn> # Check "InUseBy" to check which resources are using it

# Get certificate data
aws acm get-certificate --certificate-arn "arn:aws:acm:us-east-1:188868097724:certificate/865abced-82c9-43bf-b7d2-1f4948bf353d"

# Account configuration
aws acm get-account-configuration
```
### PCM

AWS Certificate Manager (ACM) は、パブリック SSL/TLS 証明書を簡単に取得、管理、デプロイするためのサービスです。ACM は、パブリック証明書を使用して CloudFront ディストリビューションや ELB などの AWS サービスをセキュアにするのに役立ちます。

プライベート証明機関（PCA）は、カスタムルート証明書を作成し、管理するためのサービスです。PCA を使用すると、組織は独自のプライベート CA を構築し、証明書を発行および管理できます。
```bash
# List CAs
aws acm-pca list-certificate-authorities

# Get CA info
aws acm-pca describe-certificate-authority --certificate-authority-arn <arn>

# Get CA Permissions
aws acm-pca list-permissions --certificate-authority-arn <arn>

# Get CA certificate
aws acm-pca get-certificate-authority-certificate --certificate-authority-arn <arn>

# Certificate request
aws acm-pca get-certificate-authority-csr --certificate-authority-arn <arn>

# Get CA Policy (if any)
aws acm-pca get-policy --resource-arn <arn>
```
## Privesc

TODO

## Post Exploitation

TODO

<details>

<summary><strong>ゼロからヒーローまでのAWSハッキングを学ぶ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE（HackTricks AWS Red Team Expert）</strong></a><strong>！</strong></summary>

HackTricksをサポートする他の方法:

* **HackTricksで企業を宣伝したい**または**HackTricksをPDFでダウンロードしたい**場合は、[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**公式PEASS＆HackTricksのグッズ**](https://peass.creator-spring.com)を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)のコレクションを見る
* **💬 [Discordグループ](https://discord.gg/hRep4RUj7f)**に参加するか、[telegramグループ](https://t.me/peass)に参加するか、**Twitter** 🐦で**フォロー**する [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **HackTricks**と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のGitHubリポジトリにPRを提出して、あなたのハッキングトリックを共有してください。

</details>
