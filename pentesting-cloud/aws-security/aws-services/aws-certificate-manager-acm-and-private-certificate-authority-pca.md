# AWS - Certificate Manager (ACM) & Privatna sertifikaciona vlast (PCA)

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **vašu kompaniju oglašenu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

## Osnovne informacije

**AWS Certificate Manager (ACM)** je pružen kao usluga koja ima za cilj olakšavanje **dobavljanja, upravljanja i implementacije SSL/TLS sertifikata** za AWS usluge i interne resurse. Potreba za ručnim procesima, kao što su kupovina, otpremanje i obnova sertifikata, je **eliminisana** pomoću ACM-a. Ovo omogućava korisnicima da efikasno zahtevaju i implementiraju sertifikate na različitim AWS resursima, uključujući **Elastic Load Balancers, Amazon CloudFront distribucije i API-je na API Gateway-u**.

Ključna karakteristika ACM-a je **automatska obnova sertifikata**, što značajno smanjuje administrativni teret. Osim toga, ACM podržava kreiranje i centralizovano upravljanje **privatnim sertifikatima za internu upotrebu**. Iako su SSL/TLS sertifikati za integrisane AWS usluge poput Elastic Load Balancing-a, Amazon CloudFront-a i Amazon API Gateway-a obezbeđeni bez dodatnih troškova putem ACM-a, korisnici su odgovorni za troškove povezane sa AWS resursima koje koriste njihove aplikacije i mesečnu naknadu za svaki **privatni sertifikacioni autoritet (CA)** i privatne sertifikate koji se koriste van integrisanih ACM usluga.

**AWS Private Certificate Authority** se nudi kao **upravljana usluga privatnog CA**, koja proširuje mogućnosti ACM-a tako što uključuje upravljanje privatnim sertifikatima. Ovi privatni sertifikati su od suštinskog značaja za autentifikaciju resursa unutar organizacije.

## Enumeracija

### ACM
```bash
# List certificates
aws acm list-certificates

# Get certificate info
aws acm describe-certificate --certificate-arn <arn> # Check "InUseBy" to check which resources are using it

# Get certificate data
aws acm get-certificate --certificate-arn "arn:aws:acm:us-east-1:188868097724:certificate/865abced-82c9-43bf-b7d2-1f4948bf353d"

# Account configuration
aws acm get-account-configuration
```
### PCM

PCM (Private Certificate Manager) je usluga koju pruža AWS (Amazon Web Services) koja omogućava korisnicima da upravljaju svojim digitalnim sertifikatima. PCM pruža sigurno skladištenje, izdavanje i upravljanje sertifikatima za različite AWS usluge.

#### Prednosti PCM-a

- **Automatizacija**: PCM omogućava automatizaciju procesa izdavanja i obnavljanja sertifikata, čime se smanjuje potreba za ručnim intervencijama.
- **Integracija sa AWS uslugama**: PCM se lako integriše sa drugim AWS uslugama kao što su Elastic Load Balancer (ELB), CloudFront i API Gateway.
- **Sigurnost**: PCM pruža visok nivo sigurnosti za skladištenje i upravljanje sertifikatima, uključujući enkripciju podataka i kontrolu pristupa.
- **Centralizovano upravljanje**: PCM omogućava centralizovano upravljanje sertifikatima za različite AWS naloge i regione.
- **Brza implementacija**: PCM omogućava brzu implementaciju sertifikata za AWS usluge, čime se ubrzava proces razvoja i implementacije aplikacija.

#### Korišćenje PCM-a

Da biste koristili PCM, prvo morate kreirati privatnu CA (Certificate Authority) unutar PCM-a. Zatim možete izdati sertifikate za različite AWS usluge, kao što su ELB, CloudFront i API Gateway.

PCM podržava različite vrste sertifikata, uključujući RSA, ECDSA i EdDSA. Takođe podržava i wildcard sertifikate, koji se mogu koristiti za više poddomena.

Kada izdate sertifikat, PCM će automatski upravljati procesom obnavljanja sertifikata kako bi osigurao da vaša aplikacija nastavi da radi bez prekida.

#### Zaključak

PCM je moćna usluga koja omogućava korisnicima da efikasno upravljaju svojim digitalnim sertifikatima u okviru AWS ekosistema. Pruža automatizaciju, sigurnost i centralizovano upravljanje, čime olakšava proces izdavanja i upravljanja sertifikatima za AWS usluge.
```bash
# List CAs
aws acm-pca list-certificate-authorities

# Get CA info
aws acm-pca describe-certificate-authority --certificate-authority-arn <arn>

# Get CA Permissions
aws acm-pca list-permissions --certificate-authority-arn <arn>

# Get CA certificate
aws acm-pca get-certificate-authority-certificate --certificate-authority-arn <arn>

# Certificate request
aws acm-pca get-certificate-authority-csr --certificate-authority-arn <arn>

# Get CA Policy (if any)
aws acm-pca get-policy --resource-arn <arn>
```
## Privesc

TODO

## Post Exploitation

TODO

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **vašu kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu**, proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
