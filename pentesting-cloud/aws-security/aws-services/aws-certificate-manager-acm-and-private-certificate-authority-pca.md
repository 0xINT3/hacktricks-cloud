# AWS - Certificate Manager (ACM) y Autoridad de Certificación Privada (PCA)

<details>

<summary><strong>¡Apoya a HackTricks y obtén beneficios!</strong></summary>

* Si quieres ver tu **empresa anunciada en HackTricks** o si quieres acceder a la **última versión de PEASS o descargar HackTricks en PDF**, ¡consulta los [**PLANES DE SUSCRIPCIÓN**](https://github.com/sponsors/carlospolop)!
* Obtén el [**merchandising oficial de PEASS y HackTricks**](https://peass.creator-spring.com)
* Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colección exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Únete al** 💬 [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de Telegram**](https://t.me/peass) o **sígueme** en **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) en GitHub.

</details>

## Información básica

**AWS Certificate Manager (ACM)** es un servicio diseñado para simplificar la provisión, gestión e implementación de certificados SSL/TLS para servicios de AWS y recursos internos. **Elimina los pasos manuales** necesarios para adquirir, cargar y renovar estos certificados. Con ACM, los usuarios pueden solicitar e implementar fácilmente certificados en varios recursos de AWS, como Elastic Load Balancers, distribuciones de Amazon CloudFront y APIs en API Gateway.

ACM también se encarga de las **renovaciones automáticas de certificados**. Además, permite la creación y gestión centralizada de **certificados privados para uso interno**. Los certificados SSL/TLS proporcionados a través de ACM para uso exclusivo con servicios integrados de AWS, como Elastic Load Balancing, Amazon CloudFront y Amazon API Gateway, son gratuitos, pero los usuarios pagan por los recursos de AWS utilizados para ejecutar aplicaciones y una tarifa mensual por la operación de cada **Autoridad de Certificación (CA) privada** y por los certificados privados utilizados fuera de los servicios integrados de ACM.

**AWS Private Certificate Authority** es un servicio de **CA privada gestionada** que **extiende la gestión de certificados ACM a certificados privados**. Con certificados privados, puedes autenticar recursos dentro de una organización.

## Enumeración

### ACM
```
# List certificates
aws acm list-certificates

# Get certificate info
aws acm describe-certificate --certificate-arn <arn> # Check "InUseBy" to check which resources are using it

# Get certificate data
aws acm get-certificate --certificate-arn "arn:aws:acm:us-east-1:188868097724:certificate/865abced-82c9-43bf-b7d2-1f4948bf353d"

# Account configuration
aws acm get-account-configuration
```
# AWS Certificate Manager (ACM) y Autoridad de Certificación Privada (PCA)

El AWS Certificate Manager (ACM) es un servicio que facilita la administración de certificados SSL/TLS para los recursos de AWS. Proporciona una forma sencilla de solicitar, implementar y renovar certificados en la nube de AWS.

La Autoridad de Certificación Privada (PCA) es un servicio que permite a las organizaciones crear y administrar su propia infraestructura de certificados. Con PCA, las organizaciones pueden emitir certificados privados para sus recursos internos sin depender de una autoridad de certificación pública.

## Ventajas de utilizar ACM y PCA

- **Simplicidad**: ACM simplifica el proceso de adquisición y gestión de certificados SSL/TLS para los recursos de AWS. PCA permite a las organizaciones tener un control total sobre la emisión y administración de sus propios certificados privados.

- **Integración con servicios de AWS**: ACM se integra de forma nativa con otros servicios de AWS, como Elastic Load Balancer (ELB), CloudFront y API Gateway, lo que facilita la implementación de certificados en estos servicios. PCA también se integra con otros servicios de AWS, lo que permite utilizar certificados privados en diferentes recursos de la nube.

- **Seguridad**: ACM y PCA ofrecen una gestión segura de los certificados. ACM almacena los certificados en una infraestructura altamente segura y se encarga de la renovación automática de los mismos. PCA permite a las organizaciones tener un control total sobre la emisión y revocación de sus certificados privados.

- **Escalabilidad**: ACM y PCA son servicios escalables que pueden manejar grandes volúmenes de certificados. Esto es especialmente útil para organizaciones con una gran cantidad de recursos que requieren certificados SSL/TLS.

## Conclusiones

El uso de AWS Certificate Manager (ACM) y Autoridad de Certificación Privada (PCA) proporciona una forma sencilla y segura de gestionar certificados SSL/TLS en la nube de AWS. ACM simplifica la adquisición y gestión de certificados para los recursos de AWS, mientras que PCA permite a las organizaciones tener un control total sobre la emisión y administración de sus propios certificados privados. Ambos servicios ofrecen integración con otros servicios de AWS y garantizan la seguridad y escalabilidad de los certificados.
```
# List CAs
aws acm-pca list-certificate-authorities

# Get CA info
aws acm-pca describe-certificate-authority --certificate-authority-arn <arn>

# Get CA Permissions
aws acm-pca list-permissions --certificate-authority-arn <arn>

# Get CA certificate
aws acm-pca get-certificate-authority-certificate --certificate-authority-arn <arn>

# Certificate request
aws acm-pca get-certificate-authority-csr --certificate-authority-arn <arn>

# Get CA Policy (if any)
aws acm-pca get-policy --resource-arn <arn>
```
## Privesc

TODO

## Post Explotación

TODO

<details>

<summary><strong>¡Apoya a HackTricks y obtén beneficios!</strong></summary>

* Si quieres ver tu **empresa anunciada en HackTricks** o si quieres acceder a la **última versión de PEASS o descargar HackTricks en PDF**, consulta los [**PLANES DE SUSCRIPCIÓN**](https://github.com/sponsors/carlospolop).
* Obtén el [**merchandising oficial de PEASS y HackTricks**](https://peass.creator-spring.com).
* Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colección exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family).
* **Únete al** 💬 [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de Telegram**](https://t.me/peass) o **sígueme** en **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm).
* **Comparte tus trucos de hacking enviando PRs a los repositorios de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) en GitHub.

</details>
