# AWS - Sertifika Yöneticisi (ACM) ve Özel Sertifika Otoritesi (PCA)

<details>

<summary><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong> ile sıfırdan kahramana kadar AWS hackleme öğrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamınızı görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARI**](https://github.com/sponsors/carlospolop)'na göz atın!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* Özel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluşan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'i keşfedin
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)'ı **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR göndererek** paylaşın.

</details>

## Temel Bilgiler

**AWS Sertifika Yöneticisi (ACM)**, AWS hizmetleri ve iç kaynaklar için SSL/TLS sertifikalarının **teminini, yönetimini ve dağıtımını kolaylaştırmayı amaçlayan bir hizmet** olarak sunulmaktadır. ACM, satın alma, yükleme ve sertifika yenileme gibi manuel süreçlerin **ortadan kalkması** sayesinde kullanıcıların çeşitli AWS kaynakları üzerinde sertifika talep etmelerini ve uygulamalarını etkin bir şekilde gerçekleştirmelerini sağlar. Bu kaynaklar arasında **Elastic Load Balancer'lar, Amazon CloudFront dağıtımları ve API Gateway üzerindeki API'ler** bulunur.

ACM'nin önemli bir özelliği, sertifikaların **otomatik olarak yenilenmesi**dir, bu da yönetim yükünü önemli ölçüde azaltır. Ayrıca, ACM, **iç kullanım için özel sertifikaların oluşturulmasını ve merkezi yönetimini** destekler. ACM aracılığıyla entegre AWS hizmetleri için SSL/TLS sertifikaları (Elastic Load Balancing, Amazon CloudFront ve Amazon API Gateway gibi) ek bir maliyet olmaksızın sunulurken, kullanıcılar uygulamalarının kullandığı AWS kaynakları için ve entegre olmayan ACM hizmetleri dışında kullanılan her **özel Sertifika Otoritesi (CA)** ve özel sertifikalar için aylık bir ücretten sorumludur.

**AWS Özel Sertifika Otoritesi**, ACM'nin yeteneklerini genişleterek özel sertifikaları da içeren sertifika yönetimini kapsayan bir **yönetilen özel CA hizmeti** olarak sunulmaktadır. Bu özel sertifikalar, bir organizasyon içindeki kaynakların kimlik doğrulamasında önemli bir rol oynar.

## Sıralama

### ACM
```bash
# List certificates
aws acm list-certificates

# Get certificate info
aws acm describe-certificate --certificate-arn <arn> # Check "InUseBy" to check which resources are using it

# Get certificate data
aws acm get-certificate --certificate-arn "arn:aws:acm:us-east-1:188868097724:certificate/865abced-82c9-43bf-b7d2-1f4948bf353d"

# Account configuration
aws acm get-account-configuration
```
## PCM

PCM (Private Certificate Manager) AWS hizmeti, özel sertifika yetkilisi (PCA) oluşturmanıza ve yönetmenize olanak tanır. PCA, kendi kök sertifikalarınızı oluşturmanızı ve bunları kullanarak özel sertifikaları imzalamanızı sağlar. Bu, özel sertifikaları kullanarak güvenli iletişim sağlamak için kullanılabilir.

PCM kullanarak aşağıdaki adımları izleyebilirsiniz:

1. Özel bir sertifika yetkilisi (PCA) oluşturun.
2. PCA'nızı yapılandırın ve sertifika otoritesi (CA) sertifikalarınızı oluşturun.
3. Özel sertifikaları oluşturun ve PCA'nızı kullanarak bunları imzalayın.
4. İmzalı sertifikaları kullanarak güvenli iletişim sağlayın.

PCM, AWS hizmetlerinde güvenli iletişim sağlamak için kullanılan SSL/TLS sertifikalarını yönetmek için kullanışlı bir araçtır.
```bash
# List CAs
aws acm-pca list-certificate-authorities

# Get CA info
aws acm-pca describe-certificate-authority --certificate-authority-arn <arn>

# Get CA Permissions
aws acm-pca list-permissions --certificate-authority-arn <arn>

# Get CA certificate
aws acm-pca get-certificate-authority-certificate --certificate-authority-arn <arn>

# Certificate request
aws acm-pca get-certificate-authority-csr --certificate-authority-arn <arn>

# Get CA Policy (if any)
aws acm-pca get-policy --resource-arn <arn>
```
## Privesc

TODO

## Sonrası Sızma

TODO

<details>

<summary><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong> ile sıfırdan kahraman olmak için AWS hackleme öğrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamınızı görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARI**](https://github.com/sponsors/carlospolop)'na göz atın!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* Özel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluşan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keşfedin
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya bizi **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**'da takip edin.**
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR göndererek paylaşın**.

</details>
