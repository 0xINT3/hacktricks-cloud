# AWS - Sertifikaatbestuurder (ACM) & Privaat Sertifikaatautoriteit (PCA)

<details>

<summary><strong>Leer AWS-hacking vanaf nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-repos.

</details>

## Basiese Inligting

**AWS Certificate Manager (ACM)** word as 'n diens voorsien om die **voorsiening, bestuur en implementering van SSL/TLS-sertifikate** vir AWS-dienste en interne hulpbronne te stroomlyn. Die noodsaaklikheid vir handmatige prosesse, soos die aankoop, oplaai en hernuwing van sertifikate, word deur ACM **uitgeskakel**. Dit stel gebruikers in staat om doeltreffend sertifikate aan te vra en te implementeer op verskeie AWS-hulpbronne, insluitend **Elastic Load Balancers, Amazon CloudFront-distribusies en API's op API Gateway**.

'n Sleutelkenmerk van ACM is die **outomatiese hernuwing van sertifikate**, wat die bestuurslas aansienlik verminder. Verder ondersteun ACM die skepping en gsentraliseerde bestuur van **privaat sertifikate vir interne gebruik**. Alhoewel SSL/TLS-sertifikate vir ge√Øntegreerde AWS-dienste soos Elastic Load Balancing, Amazon CloudFront en Amazon API Gateway gratis deur ACM voorsien word, is gebruikers verantwoordelik vir die koste wat verband hou met die AWS-hulpbronne wat deur hul toepassings gebruik word, asook 'n maandelikse fooi vir elke **privaat Sertifikaatautoriteit (CA)** en privaat sertifikate wat buite ge√Øntegreerde ACM-dienste gebruik word.

**AWS Private Certificate Authority** word aangebied as 'n **bestuurde privaat CA-diens**, wat ACM se vermo√´ns verbeter deur sertifikaatbestuur uit te brei om privaat sertifikate in te sluit. Hierdie privaat sertifikate is instrumenteel in die verifikasie van hulpbronne binne 'n organisasie.

## Enumerasie

### ACM
```bash
# List certificates
aws acm list-certificates

# Get certificate info
aws acm describe-certificate --certificate-arn <arn> # Check "InUseBy" to check which resources are using it

# Get certificate data
aws acm get-certificate --certificate-arn "arn:aws:acm:us-east-1:188868097724:certificate/865abced-82c9-43bf-b7d2-1f4948bf353d"

# Account configuration
aws acm get-account-configuration
```
### Privaat Sertifikaatowerheid (PCA)

Privaat Sertifikaatowerheid (PCA) is 'n diens wat deur AWS Certificate Manager (ACM) verskaf word en dit stel gebruikers in staat om hul eie sertifikaatowerheid te skep en te bestuur. Hierdie diens bied 'n veilige en betroubare manier om digitale sertifikate te genereer en te bestuur vir gebruik binne 'n organisasie se infrastruktuur.

Met PCA kan gebruikers hul eie sertifikaatowerheid skep en sertifikate uitreik aan interne hulpbronne binne die organisasie. Hierdie sertifikate kan gebruik word vir verskeie doeleindes, soos die verseker van veilige kommunikasie tussen hulpbronne, die verseker van die integriteit van data, en die identifisering en verifikasie van gebruikers en hulpbronne.

Die gebruik van PCA bied 'n aantal voordele vir organisasies. Dit stel hulle in staat om volledige beheer oor hul sertifikaatowerheid te h√™, wat beteken dat hulle die vermo√´ het om sertifikate uit te reik, te herroep en te herstel. Dit bied ook 'n ho√´ vlak van veiligheid, aangesien die sertifikaatowerheid binne die organisasie se infrastruktuur gehuisves word en nie blootgestel word aan eksterne bedreigings nie.

Om PCA te gebruik, moet gebruikers 'n privaat sertifikaatowerheid skep en konfigureer. Hierdie proses behels die skep van 'n sertifikaatowerheidshierargie, die instel van beleide en beleidsre√´ls, en die uitreiking van sertifikate aan hulpbronne binne die organisasie. Gebruikers kan ook die sertifikaatowerheid se sertifikate onderteken met 'n vertroude sertifikaatowerheid om die vertroubaarheid van die sertifikate te verseker.

Met PCA kan organisasies hul sertifikaatowerheid effektief bestuur en verseker dat sertifikate binne die organisasie se infrastruktuur veilig en betroubaar is. Hierdie diens bied 'n belangrike laag van beveiliging vir organisasies wat digitale sertifikate gebruik om hul hulpbronne te beskerm en veilige kommunikasie te verseker.
```bash
# List CAs
aws acm-pca list-certificate-authorities

# Get CA info
aws acm-pca describe-certificate-authority --certificate-authority-arn <arn>

# Get CA Permissions
aws acm-pca list-permissions --certificate-authority-arn <arn>

# Get CA certificate
aws acm-pca get-certificate-authority-certificate --certificate-authority-arn <arn>

# Certificate request
aws acm-pca get-certificate-authority-csr --certificate-authority-arn <arn>

# Get CA Policy (if any)
aws acm-pca get-policy --resource-arn <arn>
```
## Privesc

TODO

## Post Exploitation

TODO

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy geadverteer wil sien in HackTricks** of **HackTricks in PDF wil aflaai**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-repos.

</details>
