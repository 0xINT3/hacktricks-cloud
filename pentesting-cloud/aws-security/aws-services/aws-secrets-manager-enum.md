# AWS - Enum√©ration de Secrets Manager

<details>

<summary><strong>Soutenez HackTricks et b√©n√©ficiez d'avantages !</strong></summary>

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou si vous souhaitez acc√©der √† la **derni√®re version de PEASS ou t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**The PEASS Family**](https://opensea.io/collection/the-peass-family), notre collection d'[**NFTs**](https://opensea.io/collection/the-peass-family) exclusifs
* **Rejoignez** üí¨ [**le groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm).
* **Partagez vos astuces de piratage en soumettant des PR aux** [**d√©p√¥ts Github de HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

## AWS Secrets Manager

AWS Secrets Manager vous permet de **supprimer tous les secrets cod√©s en dur dans votre application et de les remplacer par un simple appel API** √† votre gestionnaire de secrets qui traite ensuite la demande avec le secret pertinent. En cons√©quence, AWS Secrets Manager agit comme une **source unique de v√©rit√© pour tous vos secrets dans toutes vos applications**.

AWS Secrets Manager permet la **facilit√© de rotation des secrets** et am√©liore ainsi la s√©curit√© de ce secret. Un exemple de ceci pourrait √™tre les identifiants de votre base de donn√©es. D'autres types de secrets peuvent √©galement avoir une rotation automatique activ√©e gr√¢ce √† l'utilisation de fonctions lambda, par exemple, les cl√©s API.

L'acc√®s √† vos secrets dans AWS Secret Manager est r√©gi par des politiques IAM bas√©es sur l'identit√© et √† granularit√© fine en plus des politiques bas√©es sur les ressources.

Pour permettre √† un utilisateur d'un compte diff√©rent d'acc√©der √† votre secret, vous devez l'autoriser √† acc√©der au secret et √©galement l'autoriser √† d√©crypter le secret dans KMS. La politique de cl√© doit √©galement permettre √† l'utilisateur externe de l'utiliser.

**AWS Secrets Manager s'int√®gre √† AWS KMS pour chiffrer vos secrets dans AWS Secrets Manager.**

### **√ânum√©ration**

```bash
aws secretsmanager list-secrets #Obtenir les m√©tadonn√©es de tous les secrets
aws secretsmanager list-secret-version-ids --secret-id <secret_name> # Obtenir les versions
aws secretsmanager describe-secret --secret-id <secret_name> # Obtenir les m√©tadonn√©es
aws secretsmanager get-secret-value --secret-id <secret_name> # Obtenir la valeur
aws secretsmanager get-secret-value --secret-id <secret_name> --version-id <version-id> # Obtenir la valeur d'une version diff√©rente
aws secretsmanager get-resource-policy --secret-id --secret-id <secret_name>
```

### Privesc

{% content-ref url="../aws-privilege-escalation/aws-secrets-manager-privesc.md" %}
[aws-secrets-manager-privesc.md](../aws-privilege-escalation/aws-secrets-manager-privesc.md)
{% endcontent-ref %}

### Post Exploitation

{% content-ref url="../../aws-pentesting/aws-post-exploitation/aws-secrets-manager-post-exploitation.md" %}
[aws-secrets-manager-post-exploitation.md](../../aws-pentesting/aws-post-exploitation/aws-secrets-manager-post-exploitation.md)
{% endcontent-ref %}

### Persistence

{% content-ref url="../../aws-pentesting/aws-persistence/aws-secrets-manager-persistence.md" %}
[aws-secrets-manager-persistence.md](../../aws-pentesting/aws-persistence/aws-secrets-manager-persistence.md)
{% endcontent-ref %}

<details>

<summary><strong>Soutenez HackTricks et b√©n√©ficiez d'avantages !</strong></summary>

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou si vous souhaitez acc√©der √† la **derni√®re version de PEASS ou t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**The PEASS Family**](https://opensea.io/collection/the-peass-family), notre collection d'[**NFTs**](https://opensea.io/collection/the-peass-family) exclusifs
* **Rejoignez** üí¨ [**le groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm).
* **Partagez vos astuces de piratage en soumettant des PR aux** [**d√©p√¥ts Github de HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>