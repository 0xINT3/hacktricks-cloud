# AWS - Enum√©ration du gestionnaire de secrets

<details>

<summary><strong>Apprenez le piratage AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Expert en √©quipe rouge AWS de HackTricks)</strong></a><strong>!</strong></summary>

Autres fa√ßons de soutenir HackTricks :

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**La famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFT**](https://opensea.io/collection/the-peass-family)
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## Gestionnaire de secrets AWS

AWS Secrets Manager est con√ßu pour **√©liminer l'utilisation de secrets cod√©s en dur dans les applications en les rempla√ßant par un appel API**. Ce service sert de **r√©f√©rentiel centralis√© pour tous vos secrets**, garantissant qu'ils sont g√©r√©s de mani√®re uniforme dans toutes les applications.

Le gestionnaire simplifie le **processus de rotation des secrets**, am√©liorant consid√©rablement la posture de s√©curit√© des donn√©es sensibles telles que les informations d'identification de la base de donn√©es. De plus, des secrets tels que les cl√©s API peuvent √™tre automatiquement tourn√©s avec l'int√©gration de fonctions lambda.

L'acc√®s aux secrets est √©troitement contr√¥l√© gr√¢ce √† des politiques d√©taill√©es bas√©es sur l'identit√© IAM et des politiques bas√©es sur les ressources.

Pour accorder l'acc√®s aux secrets √† un utilisateur d'un compte AWS diff√©rent, il est n√©cessaire de :

1. Autoriser l'utilisateur √† acc√©der au secret.
2. Accorder la permission √† l'utilisateur de d√©crypter le secret en utilisant KMS.
3. Modifier la politique de cl√© pour permettre √† l'utilisateur externe de l'utiliser.

**AWS Secrets Manager s'int√®gre √† AWS KMS pour chiffrer vos secrets dans AWS Secrets Manager.**

### **√ânum√©ration**
```bash
aws secretsmanager list-secrets #Get metadata of all secrets
aws secretsmanager list-secret-version-ids --secret-id <secret_name> # Get versions
aws secretsmanager describe-secret --secret-id <secret_name> # Get metadata
aws secretsmanager get-secret-value --secret-id <secret_name> # Get value
aws secretsmanager get-secret-value --secret-id <secret_name> --version-id <version-id> # Get value of a different version
aws secretsmanager get-resource-policy --secret-id --secret-id <secret_name>
```
### √ânum√©ration des secrets AWS

{% content-ref url="../aws-security/aws-services/aws-secrets-manager-enum.md" %}
[aws-secrets-manager-enum.md](../aws-security/aws-services/aws-secrets-manager-enum.md)
{% endcontent-ref %}

### √âl√©vation de privil√®ges

{% content-ref url="../aws-privilege-escalation/aws-secrets-manager-privesc.md" %}
[aws-secrets-manager-privesc.md](../aws-privilege-escalation/aws-secrets-manager-privesc.md)
{% endcontent-ref %}

### Post-exploitation

{% content-ref url="../aws-post-exploitation/aws-secrets-manager-post-exploitation.md" %}
[aws-secrets-manager-post-exploitation.md](../aws-post-exploitation/aws-secrets-manager-post-exploitation.md)
{% endcontent-ref %}

<details>

<summary><strong>Apprenez le piratage AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Autres fa√ßons de soutenir HackTricks :

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**La famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
