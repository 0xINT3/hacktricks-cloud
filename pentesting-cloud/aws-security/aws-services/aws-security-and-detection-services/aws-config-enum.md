# AWS - Orodha ya Config

<details>

<summary><strong>Jifunze kuhusu udukuzi wa AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu zako za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## AWS Config

AWS Config **inachukua mabadiliko ya rasilimali**, hivyo mabadiliko yoyote kwa rasilimali inayoungwa mkono na Config yanaweza kurekodiwa, ambayo ita **rekodi mabadiliko pamoja na metadata muhimu nyingine, yote yaliyomo kwenye faili inayoitwa kipengele cha usanidi**, CI. Huduma hii ni **maalum kwa eneo**.

Kipengele cha usanidi au **CI** kama inavyojulikana, ni sehemu muhimu ya AWS Config. Kina faili ya JSON ambayo **inashikilia habari za usanidi, habari za uhusiano na metadata nyingine kama mtazamo wa wakati fulani wa rasilimali inayoungwa mkono**. Habari yote ambayo AWS Config inaweza kurekodi kwa rasilimali inachukuliwa ndani ya CI. CI inaundwa **kila wakati** rasilimali inayoungwa mkono inapofanyiwa mabadiliko yoyote kwa usanidi wake kwa njia yoyote. Mbali na kurekodi maelezo ya rasilimali iliyohusika, AWS Config pia itarekodi CIs kwa rasilimali zinazohusiana moja kwa moja ili kuhakikisha mabadiliko hayakuathiri rasilimali hizo pia.

* **Metadata**: Ina maelezo kuhusu kipengele cha usanidi yenyewe. Kitambulisho cha toleo na kitambulisho cha usanidi, ambacho kinafanya kipengele cha CI kipekee. Maelezo mengine yanaweza kujumuisha MD5Hash ambayo inaruhusu kulinganisha CIs nyingine zilizorekodiwa tayari dhidi ya rasilimali hiyo hiyo.
* **Vipengele**: Hii inashikilia **habari za sifa za kawaida dhidi ya rasilimali halisi**. Ndani ya sehemu hii, pia tunayo kitambulisho cha rasilimali kipekee, na vitambulisho vya thamani muhimu vinavyohusishwa na rasilimali. Aina ya rasilimali pia inaorodheshwa. Kwa mfano, ikiwa hii ilikuwa CI kwa kifaa cha EC2, aina za rasilimali zilizoorodheshwa zinaweza kuwa kiolesura cha mtandao, au anwani ya IP ya elastic kwa kifaa hicho cha EC2
* **Mahusiano**: Hii inashikilia habari kwa aina yoyote ya **mahusiano yanayohusiana ambayo rasilimali inaweza kuwa nayo**. Kwa hivyo ndani ya sehemu hii, itaonyesha maelezo wazi ya mahusiano yoyote na rasilimali zingine ambazo rasilimali hii ilikuwa nazo. Kwa mfano, ikiwa CI ilikuwa kwa kifaa cha EC2, sehemu ya mahusiano inaweza kuonyesha uhusiano na VPC pamoja na subnet ambayo kifaa cha EC2 kinaishi.
* **Usanidi wa Sasa**: Hii itaonyesha habari ile ile ambayo ingeundwa ikiwa ungefanya wito wa API wa maelezo au orodha uliofanywa na AWS CLI. AWS Config hutumia wito huo wa API kupata habari ile ile.
* **Matukio Yanayohusiana**: Hii inahusiana na AWS CloudTrail. Itaonyesha **Kitambulisho cha Tukio la AWS CloudTrail linalohusiana na mabadiliko yaliyochochea uundaji wa CI hii**. Kuna CI mpya inayofanywa kwa kila mabadiliko yanayofanywa dhidi ya rasilimali. Kama matokeo, vitambulisho tofauti vya matukio ya CloudTrail vitafanywa.

**Historia ya Usanidi**: Ni rahisi kupata historia ya usanidi wa rasilimali kwa sababu ya vipengele vya usanidi. Historia ya usanidi inatolewa kila baada ya masaa 6 na ina CI zote kwa aina fulani ya rasilimali.

**Mito ya Usanidi**: Vipengele vya usanidi huletwa kwenye SNS Topic kuwezesha uchambuzi wa data.

**Picha za Usanidi**: Vipengele vya usanidi hutumiwa kuunda picha ya wakati fulani ya rasilimali zote zinazoungwa mkono.

**S3 hutumiwa kuhifadhi** faili za Historia ya Usanidi na picha za Usanidi wa data yako ndani ya ndoo moja, ambayo imefafanuliwa ndani ya rekoda ya Usanidi. Ikiwa una akaunti za AWS nyingi unaweza kutaka kuunganisha faili za historia ya usanidi kwenye ndoo moja ya S3 kwa akaunti yako kuu. Walakini, utahitaji kutoa ruhusa ya kuandika kwa kanuni hii ya huduma, config.amazonaws.com, na akaunti zako za pili na ruhusa ya kuandika kwenye ndoo ya S3 kwenye akaunti yako kuu.

### Kufanya Kazi

* Unapofanya mabadiliko, kwa mfano kwa kikundi cha usalama au orodha ya kudhibiti upatikanaji wa kisanduku ‚Äî> inachomeka kama Tukio linalochukuliwa na AWS Config
* Inahifadhi kila kitu kwenye ndoo ya S3
* Kulingana na usanidi, mara tu kitu kinapobadilika inaweza kuzindua kazi ya lambda AU kupanga kazi ya lambda kutazama mara kwa mara mipangilio ya AWS Config
* Lambda inarudi kwa Config
* Ikiwa sheria imevunjwa, Config inazindua SNS

![](<../../../../.gitbook/assets/image (126).png>)

### Sheria za Usanidi

Sheria za usanidi ni njia nzuri ya kukusaidia **kutekeleza ukaguzi maalum wa kufuata** **na udhibiti kote kwenye rasilimali zako**, na inakuruhusu kuchukua maelezo ya kutekeleza kwa kila aina ya rasilimali yako. Kila sheria **kimsingi ni kazi ya lambda** ambayo ikichukuliwa hukagua rasilimali na kutekeleza mantiki rahisi kubaini matokeo ya kufuata na sheria. **Kila wakati mabadiliko yanapofanywa** kwa moja ya rasilimali zako zinazoungwa mkono, **AWS Config itachunguza kufuata dhidi ya sheria za usanidi** ulizo nazo.\
AWS ina idadi ya **sheria zilizopangwa mapema** ambazo zinajumuisha mwavuli wa usalama ambao tayari unaweza kutumia. Kwa mfano, Rds-storage-encrypted. Hii inachunguza ikiwa usimbaji wa kuhifadhi umewashwa kwa visa vya hifadhidata za RDS yako. Encrypted-volumes. Hii inachunguza kuona ikiwa kuna volamu za EBS ambazo zina hali ya kushikamishwa zilizosimbwa.

* **Sheria zilizosimamiwa na AWS**: Seti ya sheria zilizopangwa mapema ambazo hufunika mazoea bora mengi, kwa hivyo ni vyema kutazama sheria hizi kwanza kabla ya kuweka yako mwenyewe kwani kuna nafasi kwamba sheria tayari inaweza kuwepo.
* **Sheria za desturi**: Unaweza kuunda sheria zako mwenyewe kuchunguza usanidi maalum.

Kikomo cha sheria za usanidi 50 kwa eneo kabla ya kuwasiliana na AWS kuongeza.\
Matokeo yasiyofuata sheria HAYAONDOLEWI.

<details>

<summary><strong>Jifunze kuhusu udukuzi wa AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu zako za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
