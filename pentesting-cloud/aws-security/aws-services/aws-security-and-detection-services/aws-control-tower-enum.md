# AWS - Control Tower Enum

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA USAJILI**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## Control Tower

{% hint style="info" %}
Kwa muhtasari, Control Tower ni huduma inayoruhusu kufafanua sera kwa akaunti zote ndani ya shirika lako. Badala ya kusimamia kila moja unaweza kuweka sera kutoka Control Tower ambazo zitatumika kwao.
{% endhint %}

AWS Control Tower ni **huduma inayotolewa na Amazon Web Services (AWS)** ambayo inawezesha mashirika kuweka na kusimamia mazingira salama, yanayofuata sheria, yenye akaunti nyingi kwenye AWS.

AWS Control Tower hutoa **seti iliyopangwa mapema ya mifano bora** ambayo inaweza kubadilishwa ili kukidhi **mahitaji ya shirika maalum**. Mifano hii ni pamoja na huduma na vipengele vilivyojumuishwa mapema vya AWS, kama vile AWS Single Sign-On (SSO), AWS Config, AWS CloudTrail, na AWS Service Catalog.

Kwa AWS Control Tower, wasimamizi wanaweza haraka kuweka **mazingira yenye akaunti nyingi yanayokidhi mahitaji ya shirika**, kama vile **usalama** na utekelezaji wa sheria. Huduma hutoa dashibodi kuu ya kuona na kusimamia akaunti na rasilimali, na pia inaautomatisha utoaji wa akaunti, huduma, na sera.

Zaidi ya hayo, AWS Control Tower hutoa mipaka, ambayo ni seti ya sera iliyopangwa mapema ambayo inahakikisha mazingira yanabaki yanakidhi mahitaji ya shirika. Sera hizi zinaweza kubadilishwa ili kukidhi mahitaji maalum.

Kwa ujumla, AWS Control Tower inasimplisha mchakato wa kuweka na kusimamia mazingira salama, yanayofuata sheria, yenye akaunti nyingi kwenye AWS, ikifanya iwe rahisi kwa mashirika kuzingatia malengo yao ya biashara ya msingi.

### Uchambuzi

Kwa kuchambua udhibiti wa controltower, kwanza unahitaji **kuwa umefafanua shirika**:

{% content-ref url="../aws-organizations-enum.md" %}
[aws-organizations-enum.md](../aws-organizations-enum.md)
{% endcontent-ref %}

{% code overflow="wrap" %}
```bash
# Get controls applied in an account
aws controltower list-enabled-controls --target-identifier arn:aws:organizations::<acc_id>:ou/<ou-id>
```
{% endcode %}

{% hint style="warning" %}
Control Tower inaweza kutumia **Account factory** kutekeleza **mabamba ya CloudFormation** katika **akaunti na kuzindua huduma** (privesc, post-exploitation...) katika akaunti hizo
{% hint %}

### Post Exploitation & Persistence

{% content-ref url="../../aws-post-exploitation/aws-control-tower-post-exploitation.md" %}
[aws-control-tower-post-exploitation.md](../../aws-post-exploitation/aws-control-tower-post-exploitation.md)
{% endcontent-ref %}

<details>

<summary><strong>Jifunze kuhusu kuhack AWS kutoka mwanzo hadi mtaalamu na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kuhack kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
