# AWS - Macie Enum

<details>

<summary><strong>Soutenez HackTricks et b√©n√©ficiez d'avantages !</strong></summary>

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou si vous souhaitez acc√©der √† la **derni√®re version de PEASS ou t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**The PEASS Family**](https://opensea.io/collection/the-peass-family), notre collection d'[**NFTs**](https://opensea.io/collection/the-peass-family) exclusifs
* **Rejoignez** üí¨ [**le groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm).
* **Partagez vos astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## Macie

La fonction principale du service est de fournir une m√©thode automatique de **d√©tection, d'identification et de classification des donn√©es** que vous stockez dans votre compte AWS.

Le service est soutenu par **l'apprentissage automatique**, permettant √† vos donn√©es d'√™tre activement examin√©es √† mesure que diff√©rentes actions sont prises dans votre compte AWS. L'apprentissage automatique peut rep√©rer les mod√®les d'acc√®s et le **comportement des utilisateurs** en analysant les donn√©es d'√©v√©nements de **cloud trail** pour **alerter contre toute activit√© inhabituelle ou irr√©guli√®re**. Toutes les d√©couvertes faites par Amazon Macie sont pr√©sent√©es dans un tableau de bord qui peut d√©clencher des alertes, vous permettant de r√©soudre rapidement toute menace potentielle d'exposition ou de compromission de vos donn√©es.

Amazon Macie surveillera automatiquement et en continu **les nouvelles donn√©es stock√©es dans Amazon S3**. En utilisant les capacit√©s de l'apprentissage automatique et de l'intelligence artificielle, ce service a la capacit√© de se familiariser avec le temps, les mod√®les d'acc√®s aux donn√©es.\
Amazon Macie utilise √©galement des m√©thodes de traitement du langage naturel pour **classer et interpr√©ter diff√©rents types et contenus de donn√©es**. Le traitement du langage naturel utilise des principes de l'informatique et de la linguistique computationnelle pour examiner les interactions entre les ordinateurs et le langage humain. En particulier, comment programmer les ordinateurs pour comprendre et d√©crypter les donn√©es linguistiques. Le **service peut attribuer automatiquement des valeurs commerciales aux donn√©es √©valu√©es sous forme de score de risque**. Cela permet √† Amazon Macie de classer les r√©sultats par ordre de priorit√©, vous permettant de vous concentrer d'abord sur les alertes les plus critiques. En plus de cela, Amazon Macie a √©galement l'avantage suppl√©mentaire de pouvoir **surveiller et d√©couvrir les changements de s√©curit√© r√©gissant vos donn√©es**. Ainsi que d'identifier des donn√©es sp√©cifiques centr√©es sur la s√©curit√© telles que les cl√©s d'acc√®s d√©tenues dans un compartiment S3.

Cette surveillance de s√©curit√© protectrice et proactive permet √† Amazon Macie d'**identifier les donn√©es critiques, sensibles et ax√©es sur la s√©curit√© telles que les cl√©s API, les cl√©s secr√®tes, ainsi que les donn√©es PII (informations personnellement identifiables) et PHI**.

Cela est utile pour √©viter les fuites de donn√©es car Macie d√©tectera si vous exposez des informations personnelles sur Internet.

C'est un **service r√©gional**.

Il n√©cessite l'existence du r√¥le IAM 'AWSMacieServiceCustomerSetupRole' et n√©cessite qu'AWS CloudTrail soit activ√©.

Cat√©gories d'alertes pr√©d√©finies :

* Acc√®s anonymis√©
* Conformit√© de la configuration
* Perte d'informations d'identification
* Conformit√© des donn√©es
* H√©bergement de fichiers
* √ânum√©ration d'identit√©
* Perte d'informations
* Anomalie de localisation
* Autorisations ouvertes
* Escalade de privil√®ges
* Ran√ßongiciel
* Perturbation de service
* Acc√®s suspect

Le **r√©sum√© de l'alerte** fournit des informations d√©taill√©es pour vous permettre de r√©pondre de mani√®re appropri√©e. Il a une description qui fournit un niveau de compr√©hension plus profond de la raison pour laquelle il a √©t√© g√©n√©r√©. Il a √©galement une ventilation des r√©sultats.

L'utilisateur a la possibilit√© de cr√©er de nouvelles alertes personnalis√©es.

**Cat√©gorisation du tableau de bord** :

* Objets S3 pour la plage de temps s√©lectionn√©e
* Objets S3
* Objets S3 par PII - Informations personnellement identifiables
* Objets S3 par ACL
* √âv√©nements CloudTrail √† haut risque et utilisateurs associ√©s
* Erreurs CloudTrail √† haut risque et utilisateurs associ√©s
* Emplacement d'activit√©
* √âv√©nements CloudTrail
* Fournisseurs d'acc√®s Internet d'activit√©
* Types d'identit√© CloudTrail

**Cat√©gories d'utilisateurs** : Macie cat√©gorise les utilisateurs dans les cat√©gories suivantes :

* **Platinum** : Utilisateurs ou r√¥les consid√©r√©s comme effectuant des appels API √† haut risque. Souvent, ils ont des privil√®ges d'administrateur. Vous devriez les surveiller de pr√®s au cas o√π ils seraient compromis.
* **Gold** : Utilisateurs ou r√¥les ayant une histoire d'appels API li√©s aux modifications d'infrastructure. Vous devriez √©galement les surveiller.
* **Silver** : Utilisateurs ou r√¥les effectuant des appels API de niveau de risque moyen
* **Bronze** : Utilisateurs ou r√¥les utilisant le niveau de risque le plus faible en fonction des appels API

**Types d'identit√©** :

* Root : Demande effectu√©e par l'utilisateur root
* Utilisateur IAM : Demande effectu√©e par l'utilisateur IAM
* R√¥le suppos√© : Demande effectu√©e par des informations d'identification temporaires suppos√©es (API AssumeRole pour STS)
* Utilisateur f√©d√©r√© : Demande effectu√©e √† l'aide d'informations d'identification temporaires (API GetFederationToken pour STS)
* Compte AWS : Demande effectu√©e par un compte AWS diff√©rent
* Service AWS : Demande effectu√©e par un service AWS

**Classification des donn√©es** : 4 classifications de fichiers existent :

* Type de contenu : liste les fichiers en fonction du type de contenu d√©tect√©. Le risque donn√© est d√©termin√© par le type de contenu d√©tect√©.
* Extension de fichier : m√™me chose que le type de contenu mais bas√© sur l'extension
* Th√®me : cat√©gorise en fonction d'une s√©rie de mots-cl√©s d√©tect√©s dans les fichiers
* Regex : cat√©gories bas√©es sur des regexps sp√©cifiques

Le risque final d'un fichier sera le risque le plus √©lev√© trouv√© entre ces 4 cat√©gories.

La fonction de recherche permet de cr√©er vos propres requ√™tes sur toutes les donn√©es Amazon Macie et d'effectuer une analyse approfondie des donn√©es. Vous pouvez filtrer les r√©sultats en fonction des donn√©es CloudTrail, des propri√©t√©s du compartiment S3 et des objets S3.

Il est possible d'inviter d'autres comptes √† Amazon Macie afin que plusieurs comptes partagent Amazon Macie. 

<details>

<summary><strong>Soutenez HackTricks et b√©n√©ficiez d'avantages !</strong></summary>

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou si vous souhaitez acc√©der √† la **derni√®re version de PEASS ou t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**The PEASS Family**](https://opensea.io/collection/the-peass-family), notre collection d'[**NFTs**](https://opensea.io/collection/the-peass-family) exclusifs
* **Rejoignez** üí¨ [**le groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez** moi sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm).
* **Partagez vos astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>