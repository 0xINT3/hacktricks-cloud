# AWS - Απαρίθμηση Inspector

<details>

<summary><strong>Μάθετε το hacking στο AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι υποστήριξης του HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF**, ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα κόλπα σας στο hacking υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>

## Inspector

Η υπηρεσία Amazon Inspector είναι **βασισμένη σε πράκτορες**, πράγμα που σημαίνει ότι απαιτείται η εγκατάσταση λογισμικού πρακτόρων σε οποιεσδήποτε EC2 περιπτώσεις θέλετε να αξιολογήσετε. Αυτό την καθιστά μια εύκολη υπηρεσία που μπορεί να ρυθμιστεί και να προστεθεί ανά πάσα στιγμή σε υπάρχοντες πόρους που λειτουργούν ήδη στην υποδομή σας στο AWS. Αυτό βοηθά το Amazon Inspector να γίνει μια ομαλή ενσωμάτωση με οποιεσδήποτε υπάρχουσες διαδικασίες και διαδικασίες ασφαλείας.

Αυτά είναι τα τεστ που επιτρέπει το AWS Inspector να εκτελέσετε:

* **CVEs**
* **CIS Benchmarks**
* **Βέλτιστες πρακτικές ασφαλείας**
* **Επιτευξιμότητα δικτύου**

Μπορείτε να εκτελέσετε οποιοδήποτε από αυτά στις μηχανές EC2 που επιλέγετε.

### Στοιχείο του AWS Inspector

**Ρόλος**: Δημιουργήστε ή επιλέξτε έναν ρόλο για να επιτρέψετε στο Amazon Inspector να έχει μόνο ανάγνωση πρόσβαση στις περιπτώσεις EC2 (DescribeInstances)\
**Στόχοι αξιολόγησης**: Ομάδα περιπτώσεων EC2 που θέλετε να εκτελέσετε μια αξιολόγηση εναντίον\
**Πράκτορες AWS**: Λογισμικοί πράκτορες που πρέπει να εγκατασταθούν στις περιπτώσεις EC2 για να παρακολουθούν. Τα δεδομένα αποστέλλονται στο Amazon Inspector χρησιμοποιώντας ένα κανάλι TLS. Ένας τακτικός παλμός αποστέλλεται από τον πράκτορα στον επιθεωρητή ζητώντας οδηγίες. Μπορεί να αυτοενημερωθεί\
**Πρότυπα αξιολόγησης**: Ορίστε συγκεκριμένες ρυθμίσεις για το πώς εκτελείται μια αξιολόγηση στις περιπτώσεις EC2 σας. Ένα πρότυπο αξιολόγησης δεν μπορεί να τροποποιηθεί μετά τη δημιουργία του.

* Πακέτα κανόνων που θα χρησιμοποιηθούν
* Διάρκεια της εκτέλεσης της αξιολόγησης 15 λεπτά / 1 ώρα / 8 ώρες
* Θέματα SNS, επιλέξτε πότε να ειδοποιηθείτε: Έναρξη, ολοκλήρωση, αλλαγή κατάστασης, αναφορά εύρεσης
* Χαρακτηριστικά που θα ανατεθούν στις ευρήματα

**Πακέτο κανόνων**: Περιέχει έναν αριθμό ατομικών κανόνων που ελέγχονται κατά την εκτέλεση μιας αξιολόγησης σε ένα EC2. Καθένας έχει επίσης μια σοβαρότητα (υψηλή, μεσαία, χαμηλή, πληροφοριακή). Οι δυνατότητες είναι:

* Κοινές ευπάθειες και εκθέσεις (CVEs)
* Κέντρο για την Ασφάλεια του Διαδικτύου (CIS) Πρότυπο
* Βέλτιστες πρακτικές ασφαλείας

Αφού έχετε ρυθμίσει τον Ρόλο του Amazon Inspector, έχουν εγκατασταθεί οι πράκτορες AWS, έχει ρυθμιστεί ο στόχος και έχει ρυθμιστεί το πρότυπο, θα μπορείτε να το εκτελέσετε. Μια εκτέλεση αξιολόγησης μπορεί να διακοπεί, να συνεχιστεί ή να διαγραφεί.

Το Amazon Inspector έχει ένα προκαθορισμένο σύνολο κανόνων, ομαδοποιημένων σε πακέτα. Κάθε πρότυπο αξιολόγησης καθορίζει ποια πακέτα κανόνων θα περιλαμβάνονται στο τεστ. Οι περιπτώσεις αξιολογούνται έναντι των πακέτων κανόνων που περιλαμβάνονται στο πρότυπο αξιολόγησης.

{% hint style="info" %}
Σημειώστε ότι σήμερα το AWS σας επιτρέπει ήδη να **δημιουργήσετε αυτόματα** όλες τις απαραίτητες **ρυθμίσεις** και ακόμα και
```
# Assessments info, there is a "describe" action for each one to get more info
aws inspector list-assessment-runs
aws inspector list-assessment-targets
aws inspector list-assessment-templates
aws inspector list-event-subscriptions

# Get findings
aws inspector list-findings

# Get exclusions
aws inspector list-exclusions --assessment-run-arn <arn>

# Rule packages
aws inspector list-rules-packages
```
## Μετά την Εκμετάλλευση

{% hint style="success" %}
Από την προοπτική ενός επιτιθέμενου, αυτή η υπηρεσία μπορεί να βοηθήσει τον επιτιθέμενο να βρει ευπάθειες και εκθέσεις δικτύου που θα μπορούσαν να τον βοηθήσουν να παραβιάσει άλλες περιπτώσεις/δοχεία.

Ωστόσο, ένας επιτιθέμενος θα μπορούσε επίσης να ενδιαφέρεται να διαταράξει αυτήν την υπηρεσία, ώστε ο θύμα να μην μπορεί να δει τις ευπάθειες (όλες ή συγκεκριμένες).
{% endhint %}

TODO: Οι PRs είναι ευπρόσδεκτες

<details>

<summary><strong>Μάθετε το hacking του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** Ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**The PEASS Family**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα κόλπα σας για το hacking υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>
