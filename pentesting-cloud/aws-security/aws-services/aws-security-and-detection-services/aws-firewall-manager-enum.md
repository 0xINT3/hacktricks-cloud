# AWS - –í–∏—è–≤–ª–µ–Ω–Ω—è Firewall Manager

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤–∞—à—É **–∫–æ–º–ø–∞–Ω—ñ—é –≤ —Ä–µ–∫–ª–∞–º—ñ –Ω–∞ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ Telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤.

</details>

## Firewall Manager

**AWS Firewall Manager** —Å–ø—Ä–æ—â—É—î —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫—É **AWS WAF, AWS Shield Advanced, –≥—Ä—É–ø–∞–º–∏ –±–µ–∑–ø–µ–∫–∏ Amazon VPC —Ç–∞ AWS Network Firewall** –≤ –∫—ñ–ª—å–∫–æ—Ö –æ–±–ª—ñ–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Å–∞—Ö —Ç–∞ —Ä–µ—Å—É—Ä—Å–∞—Ö. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –±—Ä–∞–Ω–¥–º–∞—É–µ—Ä–∞, –∑–∞—Ö–∏—Å—Ç–∏ Shield Advanced, –≥—Ä—É–ø–∏ –±–µ–∑–ø–µ–∫–∏ VPC —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–µ—Ä–µ–∂–µ–≤–æ–≥–æ –±—Ä–∞–Ω–¥–º–∞—É–µ—Ä–∞ –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑, —ñ —Å–ª—É–∂–±–∞ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î —Ü—ñ –ø—Ä–∞–≤–∏–ª–∞ —Ç–∞ –∑–∞—Ö–∏—Å—Ç–∏ –¥–æ –≤–∞—à–∏—Ö –æ–±–ª—ñ–∫–æ–≤–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ —Ç–∞ —Ä–µ—Å—É—Ä—Å—ñ–≤**, –≤–∫–ª—é—á–∞—é—á–∏ –Ω–æ–≤—ñ.

–°–µ—Ä–≤—ñ—Å –ø—Ä–æ–ø–æ–Ω—É—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å **–≥—Ä—É–ø—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–∞—Ö–∏—Å—Ç—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤ —Ä–∞–∑–æ–º**, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ç–∏—Ö, —è–∫—ñ –º–∞—é—Ç—å —Å–ø—ñ–ª—å–Ω–∏–π —Ç–µ–≥ –∞–±–æ –≤—Å—ñ –≤–∞—à—ñ —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–Ω—è CloudFront. –ó–Ω–∞—á–Ω–∏–º –ø–µ—Ä–µ–≤–∞–≥–æ—é Firewall Manager —î –π–æ–≥–æ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑—à–∏—Ä—é–≤–∞—Ç–∏ –∑–∞—Ö–∏—Å—Ç –Ω–∞ –Ω–æ–≤—ñ –¥–æ–¥–∞–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏** —É –≤–∞—à–æ–º—É –æ–±–ª—ñ–∫–æ–≤–æ–º—É –∑–∞–ø–∏—Å—ñ.

–î–æ **–ø–µ—Ä–µ–¥—É–º–æ–≤** –≤—Ö–æ–¥–∏—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É –º–∞–π—Å—Ç—Ä–∞ Firewall Manager, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó AWS –∑ –æ–±–ª—ñ–∫–æ–≤–∏–º–∏ –∑–∞–ø–∏—Å–∞–º–∏ —É—á–∞—Å–Ω–∏–∫—ñ–≤ —Ç–∞ —É–≤—ñ–º–∫–Ω–µ–Ω–Ω—è AWS Config.

**–ì—Ä—É–ø–∞ –ø—Ä–∞–≤–∏–ª** (–∫–æ–ª–µ–∫—Ü—ñ—è –ø—Ä–∞–≤–∏–ª WAF) –º–æ–∂–µ –±—É—Ç–∏ –≤–∫–ª—é—á–µ–Ω–∞ –≤ –ø–æ–ª—ñ—Ç–∏–∫—É AWS Firewall Manager, —è–∫–∞ –ø–æ—Ç—ñ–º –ø–æ–≤'—è–∑—É—î—Ç—å—Å—è –∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ AWS, —Ç–∞–∫–∏–º–∏ —è–∫ —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–Ω—è CloudFront –∞–±–æ –±–∞–ª–∞–Ω—Å—É–≤–∞–ª—å–Ω–∏–∫–∏ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–æ–¥–∞—Ç–∫—ñ–≤.

–í–∞–∂–ª–∏–≤–æ –∑–∞—É–≤–∞–∂–∏—Ç–∏, —â–æ **–ø–æ–ª—ñ—Ç–∏–∫–∏ Firewall Manager –¥–æ–∑–≤–æ–ª—è—é—Ç—å –ª–∏—à–µ –¥—ñ—ó "–ë–ª–æ–∫—É–≤–∞—Ç–∏" –∞–±–æ "–ü—ñ–¥—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏"** –¥–ª—è –≥—Ä—É–ø–∏ –ø—Ä–∞–≤–∏–ª, –±–µ–∑ –æ–ø—Ü—ñ—ó "–î–æ–∑–≤–æ–ª–∏—Ç–∏".

### –í–∏—è–≤–ª–µ–Ω–Ω—è
```
# Get admin account
aws fms get-admin-account

# Get member accounts
aws fms list-member-accounts

# Get policies
aws fms list-policies

# Get App list
aws fms list-apps-lists --max-results 10

# Get notification channel (if any)
aws fms get-notification-channel

# Get resource sets
aws fms list-resource-sets

# Get admin scope: Get resources Firewall Manager can manage
aws fms get-admin-scope --admin-account <acc-id> # ReadOnly policy is not enough for this

# Get Firewall Manager administrators within the organization that are onboarded to Firewall Manager by AssociateAdminAccount
aws fms list-admin-accounts-for-organization # ReadOnly policy is not enough for this
```
### –û–±—Ö—ñ–¥ –≤–∏—è–≤–ª–µ–Ω–Ω—è

TODO, –ø—Ä–∏–π–º–∞—é—Ç—å—Å—è PR

## –ü–æ—Å–∏–ª–∞–Ω–Ω—è

* [https://docs.aws.amazon.com/govcloud-us/latest/UserGuide/govcloud-fms.html](https://docs.aws.amazon.com/govcloud-us/latest/UserGuide/govcloud-fms.html)

<details>

<summary><strong>–í–∏–≤—á–∞–π—Ç–µ —Ö–∞–∫—ñ–Ω–≥ AWS –≤—ñ–¥ –Ω—É–ª—è –¥–æ –≥–µ—Ä–æ—è –∑</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

–Ü–Ω—à—ñ —Å–ø–æ—Å–æ–±–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ HackTricks:

* –Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –≤–∞—à—É **–∫–æ–º–ø–∞–Ω—ñ—é —Ä–µ–∫–ª–∞–º–æ–≤–∞–Ω—É –≤ HackTricks** –∞–±–æ **–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ HackTricks —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF**, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ü–õ–ê–ù–ò –ü–Ü–î–ü–ò–°–ö–ò**](https://github.com/sponsors/carlospolop)!
* –û—Ç—Ä–∏–º–∞–π—Ç–µ [**–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π PEASS & HackTricks –º–µ—Ä—á**](https://peass.creator-spring.com)
* –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–ª—è —Å–µ–±–µ [**–°—ñ–º'—é PEASS**](https://opensea.io/collection/the-peass-family), –Ω–∞—à—É –∫–æ–ª–µ–∫—Ü—ñ—é –µ–∫—Å–∫–ª—é–∑–∏–≤–Ω–∏—Ö [**NFT**](https://opensea.io/collection/the-peass-family)
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –Ω–∞ **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º–∏ —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤.

</details>
