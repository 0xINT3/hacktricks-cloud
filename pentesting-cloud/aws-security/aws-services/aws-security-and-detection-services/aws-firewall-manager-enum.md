# AWS - Enumerazione di Firewall Manager

<details>

<summary><strong>Impara l'hacking di AWS da zero a esperto con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se vuoi vedere la tua **azienda pubblicizzata su HackTricks** o **scaricare HackTricks in PDF** Controlla i [**PIANI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di [**NFT esclusivi**](https://opensea.io/collection/the-peass-family)
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Condividi i tuoi trucchi di hacking inviando PR ai** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## Firewall Manager

**AWS Firewall Manager** semplifica la gestione e la manutenzione di **AWS WAF, AWS Shield Advanced, i gruppi di sicurezza di Amazon VPC e AWS Network Firewall** su pi√π account e risorse. Consente di configurare le regole del firewall, le protezioni avanzate di Shield, i gruppi di sicurezza di VPC e le impostazioni del Network Firewall solo una volta, con il servizio che **applica automaticamente queste regole e protezioni su tutti gli account e le risorse**, inclusi quelli appena aggiunti.

Il servizio offre la possibilit√† di **raggruppare e proteggere specifiche risorse insieme**, come quelle che condividono un tag comune o tutte le distribuzioni di CloudFront. Un vantaggio significativo di Firewall Manager √® la sua capacit√† di **estendere automaticamente la protezione alle risorse appena aggiunte** nel tuo account.

I **requisiti preliminari** includono la configurazione di un account principale di Firewall Manager, l'istituzione di un'organizzazione AWS con account membri e l'abilitazione di AWS Config.

Un **gruppo di regole** (una collezione di regole WAF) pu√≤ essere incorporato in una Policy di Firewall Manager di AWS, che viene quindi collegata a risorse specifiche di AWS come distribuzioni di CloudFront o bilanciatori di carico delle applicazioni.

√à importante notare che le **policy di Firewall Manager consentono solo azioni "Block" o "Count"** per un gruppo di regole, senza l'opzione "Allow".

## Enumerazione
```
# Get admin account
aws fms get-admin-account

# Get member accounts
aws fms list-member-accounts

# Get policies
aws fms list-policies

# Get App list
aws fms list-apps-lists --max-results 10

# Get notification channel (if any)
aws fms get-notification-channel

# Get resource sets
aws fms list-resource-sets

# Get admin scope: Get resources Firewall Manager can manage
aws fms get-admin-scope --admin-account <acc-id> # ReadOnly policy is not enough for this

# Get Firewall Manager administrators within the organization that are onboarded to Firewall Manager by AssociateAdminAccount
aws fms list-admin-accounts-for-organization # ReadOnly policy is not enough for this
```
## Bypassare la rilevazione

TODO, PR accettate

# Riferimenti
* [https://docs.aws.amazon.com/govcloud-us/latest/UserGuide/govcloud-fms.html](https://docs.aws.amazon.com/govcloud-us/latest/UserGuide/govcloud-fms.html)

<details>

<summary><strong>Impara l'hacking di AWS da zero a eroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se vuoi vedere la tua **azienda pubblicizzata in HackTricks** o **scaricare HackTricks in PDF** Controlla i [**PIANI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di esclusive [**NFT**](https://opensea.io/collection/the-peass-family)
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo Telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Condividi i tuoi trucchi di hacking inviando PR ai** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repository di github.

</details>
