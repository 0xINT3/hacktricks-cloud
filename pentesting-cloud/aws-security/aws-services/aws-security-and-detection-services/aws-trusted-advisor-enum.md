# AWS - Trusted Advisor Enum

<details>

<summary><strong>支持 HackTricks 并获得福利！</strong></summary>

* 如果您想在 HackTricks 中看到您的公司广告，或者如果您想访问 PEASS 的最新版本或下载 HackTricks 的 PDF，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方 PEASS 和 HackTricks 商品**](https://peass.creator-spring.com)
* 发现[**PEASS 家族**](https://opensea.io/collection/the-peass-family)，我们的独家[**NFT**](https://opensea.io/collection/the-peass-family)收藏品
* **加入** 💬 [**Discord 群组**](https://discord.gg/hRep4RUj7f) 或 [**Telegram 群组**](https://t.me/peass) 或 **关注**我的 **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* **通过向** [**HackTricks**](https://github.com/carlospolop/hacktricks) **和** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **github 仓库提交 PR 来分享您的黑客技巧。**

</details>

## Trusted Advisor

Trusted Advisor 的主要功能是根据 AWS 的最佳实践，为您的 AWS 帐户提供改进建议，以帮助优化和完善您的环境。这些建议涵盖了四个不同的类别。它是一个跨区域服务。

1. **成本优化：**帮助您识别优化资源以节省费用的方法。
2. **性能：**扫描您的资源，突出显示多个服务中的任何潜在性能问题。
3. **安全性：**该类别分析您的环境是否存在潜在的安全弱点或漏洞。
4. **容错能力：**根据资源，提供维护服务运行的最佳实践，以增加容错能力，以防发生故障或事故。

AWS Trusted Advisor 的全部功能和潜力只有在您与 AWS 有商业或企业支持计划时才真正可用。如果没有这些计划中的任何一个，那么您只能访问每个人都可以免费使用的**六个核心检查**。这些免费核心检查分为性能和安全两个类别，其中大部分与安全有关。这些六个检查是：服务限制、安全组特定端口无限制、Amazon EBS 公共快照、Amazon RDS 公共快照、IAM 使用和根帐户上的 MFA。\
Trusted Advisor 可以发送通知，并且您可以从中排除项目。\
Trusted Advisor 的数据每 24 小时自动刷新，**但**您可以在上一次之后的 5 分钟内执行手动刷新。

### **检查项**

#### 核心类别

1. 成本优化
2. 安全性
3. 容错能力
4. 性能
5. 服务限制
6. S3 存储桶权限

#### 核心检查

1. 安全组 - 特定端口无限制
2. IAM 使用
3. 根帐户上的 MFA
4. EBS 公共快照
5. RDS 公共快照
6. 服务限制

#### 安全性检查

* 安全组对特定高风险端口的开放访问
* 安全组无限制访问
* 对 S3 存储桶的开放写入和列表访问权限
* 根帐户上的 MFA
* 过度宽松的 RDS 安全组
* 使用 CloudTrail
* Route 53 MX 记录具有 SPF 记录
* 配置差或缺失的 ELB HTTPS
* ELB 安全组缺失或过度宽松
* CloudFront 证书检查 - 过期、弱、配置错误
* 90 天内未轮换的 IAM 访问密钥
* 在 GitHub 等平台上公开的访问密钥
* 公共的 EBS 或 RDS 快照
* 缺失或弱的 IAM 密码策略

## **参考资料**

* [https://cloudsecdocs.com/aws/services/logging/other/#trusted-advisor](https://cloudsecdocs.com/aws/services/logging/other/#trusted-advisor)

<details>

<summary><strong>支持 HackTricks 并获得福利！</strong></summary>

* 如果您想在 HackTricks 中看到您的公司广告，或者如果您想访问 PEASS 的最新版本或下载 HackTricks 的 PDF，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方 PEASS 和 HackTricks 商品**](https://peass.creator-spring.com)
* 发现[**PEASS 家族**](https://opensea.io/collection/the-peass-family)，我们的独家[**NFT**](https://opensea.io/collection/the-peass-family)收藏品
* **加入** 💬 [**Discord 群组**](https://discord.gg/hRep4RUj7f) 或 [**Telegram 群组**](https://t.me/peass) 或 **关注**我的 **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* **通过向** [**HackTricks**](https://github.com/carlospolop/hacktricks) **和** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **github 仓库提交 PR 来分享您的黑客技巧。**

</details>
