# AWS - 可信顾问枚举

<details>

<summary><strong>从零开始学习AWS黑客技术，成为</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS红队专家)</strong></a><strong>！</strong></summary>

支持HackTricks的其他方式：

* 如果您想在**HackTricks中看到您的公司广告**或**下载HackTricks的PDF**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方PEASS & HackTricks商品**](https://peass.creator-spring.com)
* 发现[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们独家的[**NFTs系列**](https://opensea.io/collection/the-peass-family)
* **加入** 💬 [**Discord群组**](https://discord.gg/hRep4RUj7f) 或 [**telegram群组**](https://t.me/peass) 或在**Twitter** 🐦 上**关注**我 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* **通过向** [**HackTricks**](https://github.com/carlospolop/hacktricks) 和 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库提交PR来分享您的黑客技巧。

</details>

# AWS 可信顾问概览

可信顾问是一项服务，它**提供建议**以优化您的AWS账户，符合**AWS最佳实践**。它是一个跨多个区域运作的服务。可信顾问在四个主要类别中提供洞察：

1. **成本优化：** 建议如何重组资源以减少开支。
2. **性能：** 识别潜在的性能瓶颈。
3. **安全：** 扫描漏洞或弱安全配置。
4. **容错能力：** 推荐实践以增强服务的弹性和容错能力。

可信顾问的全面功能仅限于拥有**AWS商业或企业支持计划**的用户。没有这些计划，访问权限限于**六个核心检查**，主要关注性能和安全。

## 通知和数据刷新

- 可信顾问可以发出警报。
- 可以从其检查中排除项目。
- 数据每24小时刷新一次。但是，在上次刷新后5分钟内可以手动刷新。

## **检查细分**

### 核心类别

1. 成本优化
2. 安全
3. 容错能力
4. 性能
5. 服务限制
6. S3存储桶权限

### 核心检查

限于没有商业或企业支持计划的用户：

1. 安全组 - 特定端口不受限制
2. IAM使用
3. 根账户的MFA
4. EBS公共快照
5. RDS公共快照
6. 服务限制

### 安全检查

主要关注识别和纠正安全威胁的检查列表：

- 高风险端口的安全组设置
- 安全组不受限制的访问
- 对S3存储桶的开放写入/列表访问
- 根账户启用MFA
- RDS安全组的宽松性
- CloudTrail使用情况
- Route 53 MX记录的SPF记录
- ELBs上的HTTPS配置
- ELBs的安全组
- CloudFront的证书检查
- IAM访问密钥轮换（90天）
- 访问密钥的暴露（例如，在GitHub上）
- EBS或RDS快照的公共可见性
- 弱或缺失的IAM密码策略

AWS可信顾问作为一个关键工具，确保基于既定最佳实践优化AWS服务的性能、安全和容错能力。


# **参考资料**

* [https://cloudsecdocs.com/aws/services/logging/other/#trusted-advisor](https://cloudsecdocs.com/aws/services/logging/other/#trusted-advisor)

<details>

<summary><strong>从零开始学习AWS黑客技术，成为</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS红队专家)</strong></a><strong>！</strong></summary>

支持HackTricks的其他方式：

* 如果您想在**HackTricks中看到您的公司广告**或**下载HackTricks的PDF**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方PEASS & HackTricks商品**](https://peass.creator-spring.com)
* 发现[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们独家的[**NFTs系列**](https://opensea.io/collection/the-peass-family)
* **加入** 💬 [**Discord群组**](https://discord.gg/hRep4RUj7f) 或 [**telegram群组**](https://t.me/peass) 或在**Twitter** 🐦 上**关注**我 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* **通过向** [**HackTricks**](https://github.com/carlospolop/hacktricks) 和 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库提交PR来分享您的黑客技巧。

</details>
