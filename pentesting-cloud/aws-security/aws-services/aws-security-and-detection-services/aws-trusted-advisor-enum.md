# AWS - Trusted Advisor Enum

<details>

<summary><strong>通过</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>从零到英雄学习AWS黑客攻击！</strong></summary>

支持HackTricks的其他方式：

* 如果您想在**HackTricks中看到您的公司广告**或**以PDF格式下载HackTricks**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方PEASS & HackTricks商品**](https://peass.creator-spring.com)
* 发现[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们独家的[**NFTs系列**](https://opensea.io/collection/the-peass-family)
* **加入** 💬 [**Discord群组**](https://discord.gg/hRep4RUj7f) 或 [**telegram群组**](https://t.me/peass) 或在 **Twitter** 🐦 上**关注**我 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* **通过向** [**HackTricks**](https://github.com/carlospolop/hacktricks) 和 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库提交PR来分享您的黑客技巧。**

</details>

## Trusted Advisor

Trusted Advisor的主要功能是**推荐改进您的AWS账户**，以帮助您根据**AWS最佳实践**优化和完善您的环境。这些建议涵盖四个不同的类别。它是一个**跨区域服务**。

1. **成本优化：** 帮助识别如何**优化资源**以节省资金。
2. **性能：** 扫描您的资源，突出显示跨多个服务的任何**潜在性能问题**。
3. **安全性：** 分析您的环境，寻找任何**潜在的安全弱点**或漏洞。
4. **容错能力：** 建议最佳实践，以通过提高资源的弹性来**维持服务运营**，以应对故障或事件的发生。

AWS Trusted Advisor的全部功能和潜力只有在您拥有AWS的商业或企业支持计划时才能**真正可用**。**没有**这些计划中的任何一个，您只能访问**六个核心检查**，这些检查对所有人都是免费的。这些免费的核心检查分为性能和安全类别，其中大多数与安全相关。这是6个检查：服务限制，特定端口未受限的安全组，Amazon EBS公共快照，Amazon RDS公共快照，IAM使用情况，以及根账户的MFA。\
Trusted Advisor可以发送通知，您可以从中排除项目。\
Trusted Advisor数据会**每24小时自动刷新一次**，**但**您可以在上一次之后5分钟内进行**手动刷新**。

### **检查**

#### 核心类别

1. 成本优化
2. 安全性
3. 容错能力
4. 性能
5. 服务限制
6. S3 Bucket权限

#### 核心检查

1. 安全组 - 特定端口未受限
2. IAM使用情况
3. 根账户的MFA
4. EBS公共快照
5. RDS公共快照
6. 服务限制

#### 安全检查

* 安全组对特定高风险端口的开放访问
* 安全组未受限的访问
* 对S3桶的开放写入和列表访问
* 根账户的MFA
* 过于宽松的RDS安全组
* 使用cloudtrail
* Route 53 MX记录有SPF记录
* 配置不良或缺失的ELB HTTPS
* 缺失或过于宽松的ELB安全组
* CloudFront证书检查 - 过期，弱，配置错误
* 过去90天内未旋转的IAM访问密钥
* 在GitHub等上暴露的访问密钥
* 公共EBS或RDS快照
* 缺失或弱的IAM密码策略

## **参考资料**

* [https://cloudsecdocs.com/aws/services/logging/other/#trusted-advisor](https://cloudsecdocs.com/aws/services/logging/other/#trusted-advisor)

<details>

<summary><strong>通过</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>从零到英雄学习AWS黑客攻击！</strong></summary>

支持HackTricks的其他方式：

* 如果您想在**HackTricks中看到您的公司广告**或**以PDF格式下载HackTricks**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方PEASS & HackTricks商品**](https://peass.creator-spring.com)
* 发现[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们独家的[**NFTs系列**](https://opensea.io/collection/the-peass-family)
* **加入** 💬 [**Discord群组**](https://discord.gg/hRep4RUj7f) 或 [**telegram群组**](https://t.me/peass) 或在 **Twitter** 🐦 上**关注**我 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* **通过向** [**HackTricks**](https://github.com/carlospolop/hacktricks) 和 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库提交PR来分享您的黑客技巧。**

</details>
