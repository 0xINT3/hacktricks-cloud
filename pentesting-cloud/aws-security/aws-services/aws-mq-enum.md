# AWS - MQ Enum

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy geadverteer wil sien in HackTricks** of **HackTricks in PDF wil aflaai**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-repos.

</details>

## Amazon MQ

### Inleiding tot boodskapmakelaars
**Boodskapmakelaars** dien as tussenpersone, wat kommunikasie fasiliteer tussen verskillende sagtewarestelsels, wat op verskillende platforms gebou kan wees en in verskillende tale geprogrammeer kan word. **Amazon MQ** vereenvoudig die implementering, werking en instandhouding van boodskapmakelaars op AWS. Dit bied bestuurde dienste vir **Apache ActiveMQ** en **RabbitMQ**, wat naadlose voorsiening en outomatiese sagtewareweergawe-opdaterings verseker.

### AWS - RabbitMQ
RabbitMQ is 'n prominente **boodskap-ry-software**, ook bekend as 'n _boodskapmakelaar_ of _rybestuurder_. Dit is fundamenteel 'n stelsel waar rykies geconfigureer word. Aansoeke koppel met hierdie rykies om **boodskappe te stuur en te ontvang**. Boodskappe in hierdie konteks kan 'n verskeidenheid inligting dra, wat wissel van opdragte om prosesse op ander aansoeke te begin (moontlik op verskillende bedieners) tot eenvoudige teksboodskappe. Die boodskappe word deur die rybestuurdersagteware aangehou totdat hulle deur 'n ontvangende aansoek opgehaal en verwerk word. AWS bied 'n maklik-te-gebruik-oplossing vir die gasheer en bestuur van RabbitMQ-bedieners.

### AWS - ActiveMQ
Apache ActiveMQ¬Æ is 'n voorste oopbron, Java-gebaseerde **boodskapmakelaar** wat bekend is vir sy veelsydigheid. Dit ondersteun verskeie bedryfsstandaard protokolle en bied uitgebreide kli√´ntversoenbaarheid oor 'n wye verskeidenheid tale en platforms. Gebruikers kan:

- Koppel met kli√´nte wat in JavaScript, C, C++, Python, .Net, en meer geskryf is.
- Die **AMQP**-protokol benut om aansoeke van verskillende platforms te integreer.
- **STOMP** oor websockets gebruik vir boodskapuitruilings in webtoepassings.
- IoT-toestelle bestuur met **MQTT**.
- Bestaande **JMS**-infrastruktuur onderhou en sy vermo√´ns uitbrei.

ActiveMQ se robuustheid en aanpasbaarheid maak dit geskik vir 'n verskeidenheid boodskapvereistes.


## Enumerasie
```bash
# List brokers
aws mq list-brokers

# Get broker info
aws mq describe-broker --broker-id <broker-id>
## Find endpoints in .BrokerInstances
## Find if public accessible in .PubliclyAccessible

# List usernames (only for ActiveMQ)
aws mq list-users --broker-id <broker-id>

# Get user info (PASSWORD NOT INCLUDED)
aws mq describe-user --broker-id <broker-id> --username <username>

# Lits configurations (only for ActiveMQ)
aws mq list-configurations
## Here you can find if simple or LDAP authentication is used

# Creacte Active MQ user
aws mq create-user --broker-id <value> --password <value> --username <value> --console-access
```
{% hint style="warning" %}
TODO: Dui aan hoe om RabbitMQ en ActiveMQ intern te ondersoek en hoe om na alle ryueue te luister en data te stuur (stuur 'n PR as jy weet hoe om dit te doen)
{% endhint %}

## Privesc

{% content-ref url="../aws-privilege-escalation/aws-mq-privesc.md" %}
[aws-mq-privesc.md](../aws-privilege-escalation/aws-mq-privesc.md)
{% endcontent-ref %}

## Ongeagte Toegang

{% content-ref url="../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md" %}
[aws-mq-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md)
{% endcontent-ref %}

## Volharding

As jy die geloofsbriewe ken om toegang te verkry tot die RabbitMQ-webkonsol, kan jy 'n nuwe gebruiker skep met admin-voorregte.

## Verwysings

* [https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html](https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html)
* [https://activemq.apache.org/](https://activemq.apache.org/)

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy geadverteer wil sien in HackTricks** of **HackTricks in PDF wil aflaai**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou haktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>
