# AWS - MQ Enum

<details>

<summary><strong>Jifunze kuhusu udukuzi wa AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA USAJILI**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## Amazon MQ

### Utangulizi kwa Mawakala wa Ujumbe
**Mawakala wa ujumbe** hutumika kama wasuluhishi, kurahisisha mawasiliano kati ya mifumo tofauti ya programu, ambayo inaweza kujengwa kwenye majukwaa tofauti na kuandikwa kwa lugha tofauti. **Amazon MQ** inasahilisha kupeleka, kuendesha, na kudumisha mawakala wa ujumbe kwenye AWS. Inatoa huduma zilizosimamiwa kwa **Apache ActiveMQ** na **RabbitMQ**, ikihakikisha utoaji wa laini na sasisho za toleo la programu kiotomatiki.

### AWS - RabbitMQ
RabbitMQ ni programu maarufu ya **upangaji wa ujumbe**, inayojulikana pia kama _mawakala wa ujumbe_ au _meneja wa foleni_. Kimsingi ni mfumo ambapo foleni zimeboreshwa. Programu huingiliana na foleni hizi kusudi **kutuma na kupokea ujumbe**. Ujumbe katika muktadha huu unaweza kubeba habari mbalimbali, ikiwa ni pamoja na amri za kuanzisha michakato kwenye programu nyingine (labda kwenye seva tofauti) hadi ujumbe wa maandishi rahisi. Ujumbe hushikiliwa na programu ya meneja wa foleni hadi unakusanywa na kusindikwa na programu inayopokea. AWS hutoa suluhisho rahisi kutumia kwa kuhifadhi na kusimamia seva za RabbitMQ.

### AWS - ActiveMQ
Apache ActiveMQ¬Æ ni mawakala maarufu wa ujumbe wa **msingi wa Java** wa chanzo wazi unaojulikana kwa ujanibishaji wake. Inasaidia itifaki nyingi za viwanda, ikitoa utangamano mpana wa mteja kote kwenye lugha na majukwaa mbalimbali. Watumiaji wanaweza:

- Kuunganisha na wateja waliyoandikwa kwa JavaScript, C, C++, Python, .Net, na zaidi.
- Kutumia itifaki ya **AMQP** kuunganisha programu kutoka majukwaa tofauti.
- Kutumia **STOMP** juu ya soketi za wavuti kwa kubadilishana ujumbe wa programu za wavuti.
- Kusimamia vifaa vya IoT na **MQTT**.
- Kudumisha miundombinu ya **JMS** iliyopo na kupanua uwezo wake.

Uimara na unyeti wa ActiveMQ hufanya iweze kufaa kwa mahitaji mengi ya ujumbe. 

## Uchambuzi
```bash
# List brokers
aws mq list-brokers

# Get broker info
aws mq describe-broker --broker-id <broker-id>
## Find endpoints in .BrokerInstances
## Find if public accessible in .PubliclyAccessible

# List usernames (only for ActiveMQ)
aws mq list-users --broker-id <broker-id>

# Get user info (PASSWORD NOT INCLUDED)
aws mq describe-user --broker-id <broker-id> --username <username>

# Lits configurations (only for ActiveMQ)
aws mq list-configurations
## Here you can find if simple or LDAP authentication is used

# Creacte Active MQ user
aws mq create-user --broker-id <value> --password <value> --username <value> --console-access
```
{% hint style="warning" %}
TODO: Eleza jinsi ya kutambua RabbitMQ na ActiveMQ ndani na jinsi ya kusikiliza katika foleni zote na kutuma data (tuma PR ikiwa unajua jinsi ya kufanya hivi)
{% endhint %}

## Privesc

{% content-ref url="../aws-privilege-escalation/aws-mq-privesc.md" %}
[aws-mq-privesc.md](../aws-privilege-escalation/aws-mq-privesc.md)
{% endcontent-ref %}

## Upatikanaji usiothibitishwa

{% content-ref url="../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md" %}
[aws-mq-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md)
{% endcontent-ref %}

## Uthabiti

Ikiwa unajua siri za kupata konsoli ya wavuti ya RabbitMQ, unaweza kuunda mtumiaji mpya mwenye mamlaka ya usimamizi.

## Marejeo

* [https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html](https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html)
* [https://activemq.apache.org/](https://activemq.apache.org/)

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
