# AWS - MQ Enum

<details>

<summary><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong> ile sıfırdan kahraman olmak için AWS hackleme öğrenin<strong>!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamınızı görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARI**](https://github.com/sponsors/carlospolop)'na göz atın!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family)
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)'ı **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR göndererek** paylaşın.

</details>

## Amazon MQ

### Mesaj Aracılarına Giriş
**Mesaj aracıları**, farklı yazılım sistemleri arasında iletişimi kolaylaştırarak, çeşitli platformlarda oluşturulan ve farklı dillerde programlanan sistemler arasında iletişimi sağlar. **Amazon MQ**, AWS üzerinde mesaj aracılarının dağıtımını, işletimini ve bakımını kolaylaştırır. **Apache ActiveMQ** ve **RabbitMQ** için yönetilen hizmetler sağlayarak, sorunsuz bir şekilde sağlama ve otomatik yazılım sürüm güncellemelerini sağlar.

### AWS - RabbitMQ
RabbitMQ, önde gelen bir **mesaj kuyruğu yazılımı**dır, aynı zamanda bir _mesaj aracısı_ veya _kuyruk yöneticisi_ olarak da bilinir. Temel olarak, kuyrukların yapılandırıldığı bir sistemdir. Uygulamalar, bu kuyruklarla iletişim kurarak **mesaj gönderip alır**. Bu bağlamda mesajlar, farklı sunucularda (potansiyel olarak farklı sunucularda) diğer uygulamalarda işlemleri başlatmak için komutlardan basit metin mesajlarına kadar çeşitli bilgiler taşıyabilir. Mesajlar, alıcı bir uygulama tarafından alınıp işlenene kadar kuyruk yöneticisi yazılımı tarafından tutulur. AWS, RabbitMQ sunucularını barındırmak ve yönetmek için kullanımı kolay bir çözüm sunar.

### AWS - ActiveMQ
Apache ActiveMQ®, çok yönlülüğüyle tanınan önde gelen açık kaynaklı, Java tabanlı bir **mesaj aracısı**dır. Birden fazla endüstri standardı protokolü destekleyerek, geniş bir dil ve platform yelpazesinde kapsamlı istemci uyumluluğu sunar. Kullanıcılar:

- JavaScript, C, C++, Python, .Net ve daha fazlasında yazılmış istemcilerle bağlantı kurabilir.
- Farklı platformlardan uygulamaları entegre etmek için **AMQP** protokolünü kullanabilir.
- Web uygulama mesaj alışverişleri için web soketleri üzerinden **STOMP** kullanabilir.
- **MQTT** ile IoT cihazlarını yönetebilir.
- Mevcut **JMS** altyapısını yönetebilir ve yeteneklerini genişletebilir.

ActiveMQ'nun sağlamlığı ve esnekliği, birçok mesajlaşma gereksinimi için uygun hale getirir.


## Sıralama
```bash
# List brokers
aws mq list-brokers

# Get broker info
aws mq describe-broker --broker-id <broker-id>
## Find endpoints in .BrokerInstances
## Find if public accessible in .PubliclyAccessible

# List usernames (only for ActiveMQ)
aws mq list-users --broker-id <broker-id>

# Get user info (PASSWORD NOT INCLUDED)
aws mq describe-user --broker-id <broker-id> --username <username>

# Lits configurations (only for ActiveMQ)
aws mq list-configurations
## Here you can find if simple or LDAP authentication is used

# Creacte Active MQ user
aws mq create-user --broker-id <value> --password <value> --username <value> --console-access
```
{% hint style="warning" %}
TODO: İçeride RabbitMQ ve ActiveMQ'yi nasıl numaralandıracağınızı ve tüm kuyruklarda dinlemeyi ve veri göndermeyi nasıl yapacağınızı belirtin (Bunu yapmayı biliyorsanız PR gönderin)
{% endhint %}

## Privilege Escalation

{% content-ref url="../aws-privilege-escalation/aws-mq-privesc.md" %}
[aws-mq-privesc.md](../aws-privilege-escalation/aws-mq-privesc.md)
{% endcontent-ref %}

## Kimlik Doğrulamasız Erişim

{% content-ref url="../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md" %}
[aws-mq-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md)
{% endcontent-ref %}

## Kalıcılık

RabbitMQ web konsoluna erişmek için kimlik bilgilerini biliyorsanız, yönetici ayrıcalıklarına sahip yeni bir kullanıcı oluşturabilirsiniz.

## Referanslar

* [https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html](https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html)
* [https://activemq.apache.org/](https://activemq.apache.org/)

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>ile sıfırdan kahraman olmak için AWS hackleme öğrenin</strong></a><strong>!</strong></summary>

HackTricks'i desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamınızı görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARI**](https://github.com/sponsors/carlospolop)'na göz atın!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* Özel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluşan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'i keşfedin
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)'ı **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR göndererek** paylaşın.

</details>
