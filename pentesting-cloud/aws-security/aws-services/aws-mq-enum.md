# AWS - MQ Enum

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **vašu kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

## Amazon MQ

### Uvod u Message Brokere
**Message brokeri** služe kao posrednici, olakšavajući komunikaciju između različitih softverskih sistema, koji mogu biti izgrađeni na različitim platformama i programirani u različitim jezicima. **Amazon MQ** pojednostavljuje implementaciju, rad i održavanje message brokera na AWS-u. Pruža upravljane usluge za **Apache ActiveMQ** i **RabbitMQ**, obezbeđujući besprekorno pružanje i automatsko ažuriranje verzija softvera.

### AWS - RabbitMQ
RabbitMQ je istaknuti **softver za redove poruka**, takođe poznat kao _message broker_ ili _queue manager_. U osnovi je sistem u kojem se konfigurišu redovi. Aplikacije komuniciraju sa ovim redovima kako bi **slale i primale poruke**. Poruke u ovom kontekstu mogu nositi različite informacije, od komandi za pokretanje procesa na drugim aplikacijama (potencijalno na različitim serverima) do jednostavnih tekstualnih poruka. Poruke se čuvaju od strane softvera queue managera dok ih ne preuzme i obradi aplikacija koja ih prima. AWS pruža jednostavno rešenje za smeštanje i upravljanje RabbitMQ serverima.

### AWS - ActiveMQ
Apache ActiveMQ® je vodeći open-source, Java bazirani **message broker** poznat po svojoj svestranosti. Podržava više industrijski standardnih protokola, nudeći široku kompatibilnost klijenata na različitim jezicima i platformama. Korisnici mogu:

- Povezati se sa klijentima napisanim u JavaScript-u, C-u, C++, Python-u, .Net-u i drugim jezicima.
- Iskoristiti **AMQP** protokol za integraciju aplikacija sa različitih platformi.
- Koristiti **STOMP** preko websockets-a za razmenu poruka u web aplikacijama.
- Upravljati IoT uređajima sa **MQTT**-om.
- Održavati postojeću **JMS** infrastrukturu i proširiti njene mogućnosti.

Robustnost i fleksibilnost ActiveMQ-a čine ga pogodnim za različite zahteve vezane za razmenu poruka.

## Enumeracija
```bash
# List brokers
aws mq list-brokers

# Get broker info
aws mq describe-broker --broker-id <broker-id>
## Find endpoints in .BrokerInstances
## Find if public accessible in .PubliclyAccessible

# List usernames (only for ActiveMQ)
aws mq list-users --broker-id <broker-id>

# Get user info (PASSWORD NOT INCLUDED)
aws mq describe-user --broker-id <broker-id> --username <username>

# Lits configurations (only for ActiveMQ)
aws mq list-configurations
## Here you can find if simple or LDAP authentication is used

# Creacte Active MQ user
aws mq create-user --broker-id <value> --password <value> --username <value> --console-access
```
{% hint style="warning" %}
TODO: Naznačite kako da nabrojite RabbitMQ i ActiveMQ interno i kako da slušate sve redove i šaljete podatke (pošaljite PR ako znate kako to da uradite)
{% endhint %}

## Privesc

{% content-ref url="../aws-privilege-escalation/aws-mq-privesc.md" %}
[aws-mq-privesc.md](../aws-privilege-escalation/aws-mq-privesc.md)
{% endcontent-ref %}

## Neautentifikovan pristup

{% content-ref url="../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md" %}
[aws-mq-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md)
{% endcontent-ref %}

## Upornost

Ako znate pristupne podatke za pristup RabbitMQ veb konzoli, možete kreirati novog korisnika sa administratorskim privilegijama.

## Reference

* [https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html](https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html)
* [https://activemq.apache.org/](https://activemq.apache.org/)

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini da podržite HackTricks:

* Ako želite da vidite **vašu kompaniju reklamiranu u HackTricks-u** ili **preuzmete HackTricks u PDF formatu** Pogledajte [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
