# AWS - EMR Enum

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy geadverteer wil sien in HackTricks** of **HackTricks in PDF wil aflaai**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-repos.

</details>

## EMR

AWS se Elastic MapReduce (EMR) diens, beginnende vanaf weergawe 4.8.0, het 'n **sekuriteitskonfigurasie**-funksie ingevoer wat data beskerming verbeter deur gebruikers in staat te stel om versleutelingsinstellings vir data in rus en tydens oordrag binne EMR-klusters te spesifiseer. Hierdie klusters is skaalbare groepe van EC2-instanties wat ontwerp is om groot data-raamwerke soos Apache Hadoop en Spark te verwerk.

Belangrike kenmerke sluit in:

- **Versteekte Versleuteling van Kluster**: Standaard word data in rus binne 'n kluster nie versleutel nie. Deur egter versleuteling in te skakel, het gebruikers toegang tot verskeie funksies:
- **Linux Unified Key Setup**: Versleutel EBS-klustervolumes. Gebruikers kan kies tussen AWS Key Management Service (KMS) of 'n aangepaste sleutelverskaffer.
- **Open-Source HDFS Versleuteling**: Bied twee versleutelingopsies vir Hadoop:
- Veilige Hadoop RPC (Remote Procedure Call), ingestel op privaatheid, wat gebruik maak van die Simple Authentication Security Layer.
- HDFS Blok-oordragversleuteling, ingestel op waar, maak gebruik van die AES-256-algoritme.

- **Versleuteling tydens Oordrag**: Fokus op die beveiliging van data tydens oordrag. Opsies sluit in:
- **Open Source Transport Layer Security (TLS)**: Versleuteling kan geaktiveer word deur 'n sertifikaatverskaffer te kies:
- **PEM**: Vereis die handmatige skepping en saambundeling van PEM-sertifikate in 'n zip-l√™er, wat verwys word vanuit 'n S3-emmer.
- **Aangepas**: Behels die byvoeging van 'n aangepaste Java-klas as 'n sertifikaatverskaffer wat versleutelingsartefakte voorsien.

Sodra 'n TLS-sertifikaatverskaffer in die sekuriteitskonfigurasie ge√Øntegreer is, kan die volgende toepassingsspesifieke versleutelingskenmerke geaktiveer word, wat varieer op grond van die EMR-weergawe:

- **Hadoop**:
- Kan versleutelde skommeling verminder deur TLS.
- Veilige Hadoop RPC met Simple Authentication Security Layer en HDFS Blok-oordrag met AES-256 word geaktiveer met versleuteling in rus.

- **Presto** (EMR-weergawe 5.6.0+):
- Interne kommunikasie tussen Presto-node is beveilig met SSL en TLS.

- **Tez Shuffle Handler**:
- Maak gebruik van TLS vir versleuteling.

- **Spark**:
- Maak gebruik van TLS vir die Akka-protokol.
- Gebruik Simple Authentication Security Layer en 3DES vir Block Transfer Service.
- Eksterne skommeldiens is beveilig met die Simple Authentication Security Layer.

Hierdie kenmerke verbeter gesamentlik die sekuriteitsposisie van EMR-klusters, veral met betrekking tot die beskerming van data gedurende die stoor- en oordragfases.


### Enumerasie
```bash
aws emr list-clusters
aws emr describe-cluster --cluster-id <id>
aws emr list-instances --cluster-id <id>
aws emr list-instance-fleets --cluster-id <id>
aws emr list-steps --cluster-id <id>
aws emr list-notebook-executions
aws emr list-security-configurations
aws emr list-studios #Get studio URLs
```
### Privesc

{% content-ref url="../aws-privilege-escalation/aws-emr-privesc.md" %}
[aws-emr-privesc.md](../aws-privilege-escalation/aws-emr-privesc.md)
{% endcontent-ref %}

# Verwysings
* [https://cloudacademy.com/course/domain-three-designing-secure-applications-and-architectures/elastic-mapreduce-emr-encryption-1/](https://cloudacademy.com/course/domain-three-designing-secure-applications-and-architectures/elastic-mapreduce-emr-encryption-1/)

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy geadverteer wil sien in HackTricks** of **HackTricks in PDF wil aflaai**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-repos.

</details>
