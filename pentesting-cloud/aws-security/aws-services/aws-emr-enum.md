# AWS - EMR Enum

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sıfırdan kahraman olmak için AWS hackleme öğrenin<strong>!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklamınızı görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARI**](https://github.com/sponsors/carlospolop)'na göz atın!
* [**Resmi PEASS & HackTricks ürünleri**](https://peass.creator-spring.com)'ni edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonunu
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)'ı **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR göndererek** paylaşın.

</details>

## EMR

AWS'nin Elastic MapReduce (EMR) hizmeti, 4.8.0 sürümünden itibaren, EMR kümesi içindeki verilerin dinlenme ve iletim sırasında şifrelemesini belirlemek için kullanıcılara şifreleme ayarları belirleme özelliği sunan bir **güvenlik yapılandırması** özelliği tanıttı. EMR kümesi, Apache Hadoop ve Spark gibi büyük veri çerçevelerini işlemek için tasarlanmış ölçeklenebilir EC2 örneklerinin gruplarıdır.

Ana özellikler şunlardır:

- **Küme Şifreleme Varsayılanı**: Varsayılan olarak, bir kümedeki dinlenen veriler şifrelenmez. Ancak, şifrelemeyi etkinleştirmek, birkaç özelliğe erişim sağlar:
- **Linux Unified Key Setup**: EBS küme birimlerini şifreler. Kullanıcılar, AWS Key Management Service (KMS) veya özel bir anahtar sağlayıcıyı tercih edebilir.
- **Açık Kaynak HDFS Şifrelemesi**: Hadoop için iki şifreleme seçeneği sunar:
- Gizlilik için ayarlanmış Güvenli Hadoop RPC (Uzak Yordam Çağrısı), Basit Kimlik Doğrulama Güvenlik Katmanı'ndan yararlanır.
- AES-256 algoritmasını kullanan HDFS Blok transferi şifrelemesi, true olarak ayarlanır.

- **İletim Sırasında Şifreleme**: Verilerin iletim sırasında güvende olmasına odaklanır. Seçenekler şunları içerir:
- **Açık Kaynak Taşıma Katmanı Güvenliği (TLS)**: Şifreleme, bir sertifika sağlayıcı seçilerek etkinleştirilebilir:
- **PEM**: PEM sertifikalarının manuel olarak oluşturulması ve bir S3 kovasından başvurulan bir zip dosyasına paketlenmesini gerektirir.
- **Özel**: Şifreleme sanat eserlerini sağlayan özel bir Java sınıfının bir sertifika sağlayıcı olarak eklenmesini içerir.

Bir TLS sertifika sağlayıcısı güvenlik yapılandırmasına entegre edildikten sonra, aşağıdaki uygulama özel şifreleme özellikleri, EMR sürümüne bağlı olarak değişebilir şekilde etkinleştirilebilir:

- **Hadoop**:
- Şifreli karıştırmayı TLS kullanarak azaltabilir.
- Basit Kimlik Doğrulama Güvenlik Katmanı ile Güvenli Hadoop RPC ve AES-256 ile HDFS Blok Transferi, dinlenen verilerle birlikte etkinleştirilir.

- **Presto** (EMR sürümü 5.6.0+):
- Presto düğümleri arasındaki iç iletişim SSL ve TLS kullanılarak güvence altına alınır.

- **Tez Shuffle Handler**:
- Şifreleme için TLS kullanır.

- **Spark**:
- Akka protokolü için TLS kullanır.
- Basit Kimlik Doğrulama Güvenlik Katmanı ve 3DES ile Blok Transfer Servisi için kullanır.
- Harici karıştırma hizmeti Basit Kimlik Doğrulama Güvenlik Katmanı ile güvence altına alınır.

Bu özellikler, özellikle depolama ve iletim aşamalarında veri koruması konusunda EMR kümesinin güvenlik durumunu artırır.


### Numaralandırma
```bash
aws emr list-clusters
aws emr describe-cluster --cluster-id <id>
aws emr list-instances --cluster-id <id>
aws emr list-instance-fleets --cluster-id <id>
aws emr list-steps --cluster-id <id>
aws emr list-notebook-executions
aws emr list-security-configurations
aws emr list-studios #Get studio URLs
```
### Privesc

{% content-ref url="../aws-privilege-escalation/aws-emr-privesc.md" %}
[aws-emr-privesc.md](../aws-privilege-escalation/aws-emr-privesc.md)
{% endcontent-ref %}

# Referanslar
* [https://cloudacademy.com/course/domain-three-designing-secure-applications-and-architectures/elastic-mapreduce-emr-encryption-1/](https://cloudacademy.com/course/domain-three-designing-secure-applications-and-architectures/elastic-mapreduce-emr-encryption-1/)

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sıfırdan kahraman olmak için AWS hackleme öğrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamınızı görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARI**](https://github.com/sponsors/carlospolop)'na göz atın!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* Özel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluşan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keşfedin
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya bizi **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**'da takip edin.**
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına **PR göndererek** paylaşın.

</details>
