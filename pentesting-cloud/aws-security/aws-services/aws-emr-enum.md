# AWS - EMR Enum

<details>

<summary><strong>Jifunze kuhusu udukuzi wa AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA USAJILI**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu zako za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## EMR

Huduma ya Elastic MapReduce (EMR) ya AWS, ikitoka kuanzia toleo la 4.8.0, iliwasilisha kipengele cha **usawazishaji wa usalama** ambacho huimarisha ulinzi wa data kwa kuruhusu watumiaji kubainisha mipangilio ya encryption kwa data iliyoko katika mapumziko na wakati wa uhamisho ndani ya vikundi vya EMR, ambavyo ni vikundi vya EC2 vinavyoweza kupanuliwa vilivyoundwa kusindika mifumo mikubwa ya data kama Apache Hadoop na Spark.

Sifa muhimu ni pamoja na:

* **Ufungaji wa Kikundi cha Encryption cha Ufunguo**: Kwa chaguo-msingi, data iliyoko katika mapumziko ndani ya kikundi haijaunganishwa. Hata hivyo, kuwezesha encryption hutoa ufikiaji wa vipengele kadhaa:
* **Usanidi wa Ufunguo wa Linux Uliounganishwa**: Hufunga voli za kikundi za EBS. Watumiaji wanaweza kuchagua Huduma ya Usimamizi wa Ufunguo wa AWS (KMS) au mtoa ufunguo wa desturi.
* **Usanidi wa HDFS wa Chanzo Wazi**: Hutoa chaguo mbili za encryption kwa Hadoop:
* Hadoop Salama ya RPC (Wito wa Utaratibu wa Mbali), iliyoainishwa kama faragha, ikichangamana na Tabaka Rahisi la Usalama wa Uthibitishaji.
* Encryption ya uhamisho wa block ya HDFS, iliyoainishwa kama kweli, inatumia algorithm ya AES-256.
* **Encryption wakati wa Uhamisho**: Inazingatia kusimamia data wakati wa uhamisho. Chaguzi ni pamoja na:
* **Usalama wa Usafirishaji wa Tabaka la TLS la Chanzo Wazi**: Encryption inaweza kuwezeshwa kwa kuchagua mtoa cheti:
* **PEM**: Inahitaji uundaji wa mwongozo na kufunga vyeti vya PEM katika faili ya zip, ikirejelewa kutoka kwenye ndoo ya S3.
* **Desturi**: Inahusisha kuongeza darasa la Java la desturi kama mtoa cheti anayetoa sanaa za encryption.

Maracheti ya TLS inapounganishwa katika usanidi wa usalama, vipengele vifuatavyo vya encryption maalum ya maombi vinaweza kuwezeshwa, vikibadilika kulingana na toleo la EMR:

* **Hadoop**:
* Inaweza kupunguza shuffle iliyofungwa kwa kutumia TLS.
* Hadoop Salama ya RPC na Tabaka Rahisi la Usalama wa Uthibitishaji na Uhamisho wa Block wa HDFS na AES-256 huwezeshwa na encryption ya mapumziko.
* **Presto** (toleo la EMR 5.6.0+):
* Mawasiliano ya ndani kati ya nodi za Presto yamehakikishiwa kutumia SSL na TLS.
* **Mfanyaji wa Tez Shuffle**:
* Hutumia TLS kwa encryption.
* **Spark**:
* Inatumia TLS kwa itifaki ya Akka.
* Hutumia Tabaka Rahisi la Usalama wa Uthibitishaji na 3DES kwa Huduma ya Uhamisho wa Block.
* Huduma ya uhamisho wa nje imehakikishiwa na Tabaka Rahisi la Usalama wa Uthibitishaji.

Vipengele hivi vinaboresha pamoja hali ya usalama ya vikundi vya EMR, hasa kuhusu ulinzi wa data wakati wa hatua za kuhifadhi na uhamisho.

#### Uorodheshaji
```bash
aws emr list-clusters
aws emr describe-cluster --cluster-id <id>
aws emr list-instances --cluster-id <id>
aws emr list-instance-fleets --cluster-id <id>
aws emr list-steps --cluster-id <id>
aws emr list-notebook-executions
aws emr list-security-configurations
aws emr list-studios #Get studio URLs
```
#### Privesc

{% content-ref url="../aws-privilege-escalation/aws-emr-privesc.md" %}
[aws-emr-privesc.md](../aws-privilege-escalation/aws-emr-privesc.md)
{% endcontent-ref %}

## Marejeo

* [https://cloudacademy.com/course/domain-three-designing-secure-applications-and-architectures/elastic-mapreduce-emr-encryption-1/](https://cloudacademy.com/course/domain-three-designing-secure-applications-and-architectures/elastic-mapreduce-emr-encryption-1/)

<details>

<summary><strong>Jifunze kuhusu udukuzi wa AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu zako za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
