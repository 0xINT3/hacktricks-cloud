# AWS - EMR Sıralama

<details>

<summary><strong>Sıfırdan kahraman olacak şekilde AWS hackleme öğrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong></a><strong>!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklamını görmek istiyorsanız** veya **HackTricks'i PDF olarak indirmek istiyorsanız** [**ABONELİK PLANLARI**](https://github.com/sponsors/carlospolop)'na göz atın!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **Katılın** 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya bizi **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking püf noktalarınızı paylaşarak PR'lar göndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına katkıda bulunun.

</details>

## EMR

AWS'nin Elastic MapReduce (EMR) hizmeti, 4.8.0 sürümünden itibaren, EMR kümesi içinde dinlenen ve aktarılan veriler için şifreleme ayarlarını belirlemeye olanak tanıyan bir **güvenlik yapılandırması** özelliği tanıttı. Bu küme, Apache Hadoop ve Spark gibi büyük veri çerçevelerini işlemek için tasarlanmış EC2 örneklerinin ölçeklenebilir gruplarıdır.

Ana özellikler şunları içerir:

* **Küme Şifreleme Varsayılanı**: Varsayılan olarak, bir kümedeki dinlenen veriler şifrelenmez. Ancak, şifrelemeyi etkinleştirmek birkaç özelliğe erişim sağlar:
* **Linux Birleşik Anahtar Kurulumu**: EBS küme hacimlerini şifreler. Kullanıcılar AWS Anahtar Yönetimi Servisi (KMS) veya özel bir anahtar sağlayıcıyı tercih edebilirler.
* **Açık Kaynak HDFS Şifreleme**: Hadoop için iki şifreleme seçeneği sunar:
* Gizli Hadoop RPC (Uzak Prosedür Çağrısı), Basit Kimlik Doğrulama Güvenlik Katmanını kullanarak gizlilik olarak ayarlanmıştır.
* HDFS Blok transfer şifrelemesi, AES-256 algoritmasını kullanır şeklinde ayarlanmıştır.
* **Aktarım Şifrelemesi**: Verilerin aktarımı sırasında güvenliği sağlamaya odaklanır. Seçenekler şunları içerir:
* **Açık Kaynak Transport Layer Security (TLS)**: Şifreleme, bir sertifika sağlayıcı seçilerek etkinleştirilebilir:
* **PEM**: PEM sertifikalarının manuel olarak oluşturulması ve bir zip dosyasına paketlenmesini gerektirir, ardından bir S3 kovasından referans alınır.
* **Özel**: Şifreleme parçaları sağlayan özel bir Java sınıfının sertifika sağlayıcı olarak eklenmesini içerir.

Bir TLS sertifika sağlayıcısı güvenlik yapılandırmasına entegre edildikten sonra, EMR sürümüne bağlı olarak değişen aşağıdaki uygulama özel şifreleme özellikleri etkinleştirilebilir:

* **Hadoop**:
* TLS kullanarak şifrelenmiş karıştırmayı azaltabilir.
* Basit Kimlik Doğrulama Güvenlik Katmanı ile güvenli Hadoop RPC ve AES-256 ile HDFS Blok Transferi, dinlenen verilerde etkinleştirilir.
* **Presto** (EMR sürümü 5.6.0+):
* Presto düğümleri arasındaki iç iletişim SSL ve TLS kullanılarak güvenli hale getirilir.
* **Tez Shuffle Handler**:
* Şifreleme için TLS kullanır.
* **Spark**:
* Akka protokolü için TLS kullanır.
* Basit Kimlik Doğrulama Güvenlik Katmanı ve 3DES ile Blok Transfer Servisi için kullanır.
* Harici karıştırma servisi Basit Kimlik Doğrulama Güvenlik Katmanı ile güvenli hale getirilir.

Bu özellikler toplu olarak EMR kümelerinin güvenlik durumunu artırır, özellikle depolama ve iletim aşamalarında veri koruması konusunda. 

#### Sıralama
```bash
aws emr list-clusters
aws emr describe-cluster --cluster-id <id>
aws emr list-instances --cluster-id <id>
aws emr list-instance-fleets --cluster-id <id>
aws emr list-steps --cluster-id <id>
aws emr list-notebook-executions
aws emr list-security-configurations
aws emr list-studios #Get studio URLs
```
#### İstPriv

{% content-ref url="../aws-privilege-escalation/aws-emr-privesc.md" %}
[aws-emr-privesc.md](../aws-privilege-escalation/aws-emr-privesc.md)
{% endcontent-ref %}

## Referanslar

* [https://cloudacademy.com/course/domain-three-designing-secure-applications-and-architectures/elastic-mapreduce-emr-encryption-1/](https://cloudacademy.com/course/domain-three-designing-secure-applications-and-architectures/elastic-mapreduce-emr-encryption-1/)

<details>

<summary><strong>Sıfırdan kahraman olana kadar AWS hacklemeyi öğrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklamını görmek istiyorsanız** veya **HackTricks'i PDF olarak indirmek istiyorsanız** [**ABONELİK PLANLARI**](https://github.com/sponsors/carlospolop)'na göz atın!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family'yi**](https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu
* **💬 [Discord grubuna](https://discord.gg/hRep4RUj7f) katılın veya [telegram grubuna](https://t.me/peass) katılın veya bizi Twitter'da takip edin** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Hacking püf noktalarınızı paylaşarak PR göndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına katkıda bulunun.

</details>
