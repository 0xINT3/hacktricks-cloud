# AWS - EMR Enum

<details>

<summary><strong>Jifunze kuhusu udukuzi wa AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA USAJILI**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## EMR

Huduma ya Elastic MapReduce (EMR) ya AWS, ikitoka kuanzia toleo la 4.8.0, iliwasilisha kipengele cha **usawazishaji wa usalama** kinachoboresha ulinzi wa data kwa kuruhusu watumiaji kuteua mipangilio ya encryption kwa data iliyoko na inayosafirishwa ndani ya vikundi vya EMR, ambavyo ni vikundi vya EC2 vinavyoweza kupanuliwa vilivyoundwa kusindika mifumo mikubwa ya data kama Apache Hadoop na Spark.

Sifa muhimu ni pamoja na:

- **Ufungaji wa Ufichaji wa Kikundi**: Kwa chaguo-msingi, data iliyoko ndani ya kikundi haijaunganishwa. Hata hivyo, kuwezesha encryption hutoa ufikiaji wa vipengele kadhaa:
- **Usanidi wa Ufungaji wa Pamoja wa Linux**: Inaficha voli za kikundi za EBS. Watumiaji wanaweza kuchagua Huduma ya Usimamizi wa Kufungua Kifunguo cha AWS (KMS) au mtoa ufunguo wa desturi.
- **Ufichaji wa HDFS wa Chanzo Wazi**: Inatoa chaguzi mbili za encryption kwa Hadoop:
- Usalama wa Hadoop RPC (Wito wa Utaratibu wa Mbali), uliowekwa kwa faragha, ukichangamana na Tabaka la Usalama Rahisi wa Uthibitishaji.
- Ufichaji wa uhamishaji wa block wa HDFS, uliowekwa kwa kweli, unatumia algorithm ya AES-256.

- **Encryption katika Usafirishaji**: Inazingatia kusimamia data wakati wa usafirishaji. Chaguzi ni pamoja na:
- **Usalama wa Tabaka la Usafirishaji wa Chanzo Wazi (TLS)**: Encryption inaweza kuwezeshwa kwa kuchagua mtoa cheti:
- **PEM**: Inahitaji uundaji wa mwongozo na kufunga vyeti vya PEM ndani ya faili ya zip, ikirejelewa kutoka kwenye kisanduku cha S3.
- **Desturi**: Inahusisha kuongeza darasa la Java la desturi kama mtoa cheti ambaye hutoa sanaa za encryption.

Maracheti ya TLS inapoingizwa kwenye usanidi wa usalama, vipengele vifuatavyo vya encryption maalum kwa maombi vinaweza kuwezeshwa, vikibadilika kulingana na toleo la EMR:

- **Hadoop**:
- Inaweza kupunguza shuffle iliyofichwa kwa kutumia TLS.
- Usalama wa Hadoop RPC na Tabaka la Usalama Rahisi wa Uthibitishaji na Uhamishaji wa Block wa HDFS na AES-256 unaweza kuwezeshwa na encryption iliyoko.

- **Presto** (toleo la EMR 5.6.0+):
- Mawasiliano ya ndani kati ya nodi za Presto inalindwa kwa kutumia SSL na TLS.

- **Tez Shuffle Handler**:
- Inatumia TLS kwa encryption.

- **Spark**:
- Inatumia TLS kwa itifaki ya Akka.
- Inatumia Tabaka la Usalama Rahisi wa Uthibitishaji na 3DES kwa Huduma ya Uhamishaji wa Block.
- Huduma ya uhamishaji wa nje imehakikishiwa na Tabaka la Usalama Rahisi wa Uthibitishaji.

Vipengele hivi vinaboresha pamoja msimamo wa usalama wa vikundi vya EMR, hasa kuhusu ulinzi wa data wakati wa hatua za kuhifadhi na usafirishaji.

### Uchambuzi wa Kina
```bash
aws emr list-clusters
aws emr describe-cluster --cluster-id <id>
aws emr list-instances --cluster-id <id>
aws emr list-instance-fleets --cluster-id <id>
aws emr list-steps --cluster-id <id>
aws emr list-notebook-executions
aws emr list-security-configurations
aws emr list-studios #Get studio URLs
```
### Kupanda Vyeo

{% content-ref url="../aws-privilege-escalation/aws-emr-privesc.md" %}
[aws-emr-privesc.md](../aws-privilege-escalation/aws-emr-privesc.md)
{% endcontent-ref %}

# Marejeo
* [https://cloudacademy.com/course/domain-three-designing-secure-applications-and-architectures/elastic-mapreduce-emr-encryption-1/](https://cloudacademy.com/course/domain-three-designing-secure-applications-and-architectures/elastic-mapreduce-emr-encryption-1/)

<details>

<summary><strong>Jifunze kuhusu udukuzi wa AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
