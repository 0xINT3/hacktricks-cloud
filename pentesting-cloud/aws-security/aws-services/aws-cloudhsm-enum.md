# AWS - CloudHSM Enum

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sıfırdan kahraman olmak için AWS hackleme öğrenin<strong>!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamınızı görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARI**](https://github.com/sponsors/carlospolop)'na göz atın!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu keşfedin, özel [**NFT'ler**](https://opensea.io/collection/the-peass-family)
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)'ı takip edin.
* Hacking hilelerinizi göndererek HackTricks ve HackTricks Cloud github depolarına **PR göndererek** hilelerinizi paylaşın.

</details>

## HSM - Donanım Güvenlik Modülü

Cloud HSM, güvenli kriptografik anahtar depolama için FIPS 140 seviye iki onaylı bir **donanım cihazıdır** (CloudHSM bir donanım cihazıdır, sanallaştırılmış bir hizmet değildir). 5.3.13 önceden yüklenmiş bir SafeNetLuna 7000 cihazıdır. İki firmware sürümü vardır ve hangisini seçeceğiniz tamamen ihtiyaçlarınıza bağlıdır. Bir tanesi FIPS 140-2 uyumluluğu içindir ve kullanılabilecek daha yeni bir sürüm vardır.

CloudHSM'nin olağandışı özelliği, fiziksel bir cihaz olması ve bu nedenle diğer müşterilerle paylaşılmamasıdır, yani genellikle çok kiracılı olarak adlandırılan bir durum söz konusu değildir. Bu, yalnızca sizin iş yükleriniz için kullanılabilen, özel olarak ayrılmış tek kiracılı bir cihazdır.

Tipik olarak, bir cihaz, kapasite mevcut olduğunda 15 dakika içinde kullanılabilir hale gelir, ancak bazı bölgelerde mevcut olmayabilir.

Bu, size özel bir cihaz olduğu için **anahtarlar cihazda depolanır**. Anahtarlar, başka bir cihaza **replike edilmeli**, çevrimdışı depolamaya yedeklenmeli veya yedek bir cihaza aktarılmalıdır. Bu cihaz, S3 veya KMS gibi AWS'nin başka bir hizmeti tarafından desteklenmez.

**CloudHSM**'de, **hizmeti kendiniz ölçeklendirmeniz gerekir**. Çözümünüz için uyguladığınız şifreleme algoritmalarına bağlı olarak, şifreleme ihtiyaçlarınızı karşılamak için yeterli sayıda CloudHSM cihazı tahsis etmelisiniz.\
Anahtar Yönetimi Hizmeti ölçeklendirmesi AWS tarafından gerçekleştirilir ve talebe göre otomatik olarak ölçeklenir, bu nedenle kullanımınız arttıkça gereken CloudHSM cihazlarının sayısı da artabilir. Çözümünüzü ölçeklendirirken bunu göz önünde bulundurun ve çözümünüzün otomatik ölçeklendirmesi varsa, çözümü hizmet vermek için yeterli sayıda CloudHSM cihazıyla hesaba katıldığından emin olun.

Ölçeklendirme gibi, **performans da CloudHSM'ye sizin sorumluluğunuzdadır**. Performans, kullanılan şifreleme algoritmasına ve verileri şifrelemek için anahtarları ne sıklıkla erişmeniz veya almanız gerektiğine bağlı olarak değişir. Anahtar yönetimi hizmeti performansı Amazon tarafından yönetilir ve talep gerektirdiğinde otomatik olarak ölçeklenir. CloudHSM'nin performansı, daha fazla cihaz ekleyerek elde edilir ve daha fazla performans gerekiyorsa, cihazları eklersiniz veya daha hızlı olan bir şifreleme yöntemine geçersiniz.

Çözümünüz **çoklu bölge** ise, ikinci bölgede birkaç **CloudHSM cihazı eklemeli ve özel bir VPN bağlantısı** veya bağlantının her katmanında trafiğin her zaman korunduğunu sağlamak için bir yöntemle çapraz bölge bağlantısını çalıştırmalısınız. Çoklu bölge çözümünüz varsa, anahtarları nasıl replike edeceğinizi düşünmeli ve işlettiğiniz bölgelerde ek CloudHSM cihazları kurmalısınız. Şifreleme anahtarlarınızın tamamen yedekliliğini sağlamak için birden fazla bölgeye yayılmış altı veya sekiz cihaza sahip olabileceğiniz bir senaryoya hızlıca geçebilirsiniz.

**CloudHSM**, güvenli anahtar depolama için kurumsal sınıf bir hizmettir ve bir **kuruluşun güven kökü** olarak kullanılabilir. PKI'da özel anahtarları ve X509 uygulamalarında sertifika yetkilisi anahtarlarını depolayabilir. AES gibi simetrik algoritmalarda kullanılan simetrik anahtarlar dışında, **KMS yalnızca simetrik anahtarları depolar ve fiziksel olarak korur (bir sertifika yetkilisi olarak hareket edemez)**, bu nedenle PKI ve CA anahtarlarını depolamanız gerekiyorsa, bir veya iki CloudHSM cihazı çözümünüz olabilir.

**CloudHSM, Anahtar Yönetimi Hizmeti'nden önemli ölçüde daha pahalıdır**. CloudHSM bir donanım cihazı olduğundan, CloudHSM cihazını tahsis etmek için sabit maliyetleriniz vardır, ardından cihazı çalıştırmak için saatlik bir ücret vardır. Maliyet, belirli gereksinimlerinizi karşılamak için gereken CloudHSM cihazlarının sayısıyla çarpılır.\
Ayrıca, SafeNet ProtectV yazılım paketleri gibi üçüncü taraf yazılımın satın alınması ve entegrasyon süresi ve çabası da göz önünde bulundurulmalıdır. Anahtar Yönetimi Hizmeti, kullanıma dayalı bir hizmettir ve sahip olduğunuz anahtarların sayısına ve giriş/çıkış işlemlerine bağlıdır. Anahtar yönetimi, birçok AWS hizmetiyle sorunsuz entegrasyon sağladığından, entegrasyon maliyetleri önemli ölçüde daha düşük olmalıdır. Maliyetler, genellikle güvenlik ve uyumluluk için kullanılan şifreleme çözümlerinde ikincil bir faktör olarak değerlendirilmelidir.

**CloudHSM ile yalnızca siz anahtarlara erişebilirsiniz** ve çok fazla detaya girmeden, CloudHSM ile kendi anahtarlarınızı yönetirsiniz. **KMS ile siz ve Amazon anahtarları birlikte yönetirsiniz**. AWS, her iki çözümde de kötüye kullanıma karşı birçok politika korumasına sahiptir ve **anahtarlarınıza erişemez**. Temel fark, anahtar sahipliği ve yönetimi ile ilgili uyumluluktur ve CloudHSM'de bu, sizin yönettiğiniz ve yalnızca size özel erişimi olan bir donanım cihazıdır.

### CloudHSM Önerileri

1. CloudHSM'yi her
### Hardware Security Module Nedir

Bir donanım güvenlik modülü (HSM), kriptografik anahtarları üretmek, depolamak ve yönetmek, hassas verileri korumak için kullanılan özel bir kriptografik cihazdır. Kriptografik işlevleri fiziksel ve elektronik olarak sistemden izole ederek yüksek düzeyde güvenlik sağlamak üzere tasarlanmıştır.

Bir HSM'nin çalışma şekli, belirli bir model ve üreticiye bağlı olarak değişebilir, ancak genel olarak aşağıdaki adımlar gerçekleşir:

1. **Anahtar üretimi**: HSM, güvenli bir rastgele sayı üreteci kullanarak rastgele bir kriptografik anahtar üretir.
2. **Anahtar depolama**: Anahtar, **yalnızca yetkili kullanıcılar veya işlemler tarafından erişilebilen şekilde HSM içinde güvenli bir şekilde depolanır**.
3. **Anahtar yönetimi**: HSM, anahtar döndürme, yedekleme ve iptal gibi çeşitli anahtar yönetimi işlevleri sağlar.
4. **Kriptografik işlemler**: HSM, şifreleme, şifre çözme, dijital imza ve anahtar değişimi gibi çeşitli kriptografik işlemleri gerçekleştirir. Bu işlemler, **HSM'nin güvenli ortamında gerçekleştirilir ve yetkisiz erişim ve müdahalelere karşı koruma sağlar**.
5. **Denetim kaydı**: HSM, tüm kriptografik işlemleri ve erişim girişimlerini kaydeder, bu kayıtlar uyumluluk ve güvenlik denetimi amaçlarıyla kullanılabilir.

HSM'ler, güvenli çevrimiçi işlemler, dijital sertifikalar, güvenli iletişim ve veri şifreleme gibi geniş bir uygulama yelpazesinde kullanılabilir. Finans, sağlık ve hükümet gibi yüksek düzeyde güvenlik gerektiren endüstrilerde sıklıkla kullanılırlar.

Genel olarak, HSM'lerin sağladığı yüksek düzeyde güvenlik, **onlardan ham anahtarların çıkarılmasını çok zor hale getirir ve bunu denemek genellikle bir güvenlik ihlali olarak kabul edilir**. Bununla birlikte, belirli senaryolarda, anahtar kurtarma prosedürü gibi belirli amaçlar için yetkili personel tarafından **ham bir anahtar çıkarılabilir**. 

### Numaralandırma
```
```
<details>

<summary><strong>AWS hackleme becerilerini sıfırdan kahraman seviyesine öğrenmek için</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong></a><strong>'ı öğrenin!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklamını görmek isterseniz** veya **HackTricks'i PDF olarak indirmek isterseniz** [**ABONELİK PLANLARINA**](https://github.com/sponsors/carlospolop) göz atın!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**'ı takip edin.**
* **Hacking hilelerinizi paylaşarak PR göndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına katkıda bulunun.

</details>
