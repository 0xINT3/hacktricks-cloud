# AWS - CloudHSM Enum

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy geadverteer wil sien in HackTricks** of **HackTricks in PDF wil aflaai**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** 💬 [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-repos.

</details>

## HSM - Hardeware Sekuriteitsmodule

Cloud HSM is 'n FIPS 140 vlak twee gevalideerde **hardeware-toestel** vir veilige kriptografiese sleutelberging (let daarop dat CloudHSM 'n hardeware-toestel is, dit is nie 'n gevirtualiseerde diens nie). Dit is 'n SafeNetLuna 7000-toestel met 5.3.13 voorgelaai. Daar is twee firmware-weergawes en watter een jy kies, is gebaseer op jou presiese behoeftes. Een is vir FIPS 140-2-nakoming en daar was 'n nuwer weergawe wat gebruik kan word.

Die ongewone kenmerk van CloudHSM is dat dit 'n fisiese toestel is en dit is dus **nie gedeel met ander kliënte nie**, of soos dit algemeen genoem word, multi-tenant. Dit is 'n toegewyde enkelhuurder-toestel wat eksklusief beskikbaar gestel word vir jou werklaste.

Gewoonlik is 'n toestel binne 15 minute beskikbaar, mits daar kapasiteit is, maar in sommige streke mag dit nie die geval wees nie.

Aangesien dit 'n fisiese toestel is wat aan jou toegewy is, word **die sleutels op die toestel gestoor**. Sleutels moet óf **gerepliseer word na 'n ander toestel**, óf rugsteun word na aflynberging, óf uitgevoer word na 'n standby-toestel. **Hierdie toestel word nie ondersteun** deur S3 of enige ander diens by AWS soos KMS nie.

In **CloudHSM** moet jy **die diens self skaal**. Jy moet genoeg CloudHSM-toestelle voorsien om te kan hanteer wat jou versleutelingsbehoeftes is, gebaseer op die versleutelingsalgoritmes wat jy gekies het om vir jou oplossing te implementeer.\
Skaalvergroting van die Sleutelbestuurdienst word deur AWS uitgevoer en skakel outomaties op aanvraag, sodat die aantal CloudHSM-toestelle wat benodig word, kan toeneem soos jou gebruik groei. Hou hierdie in gedagte terwyl jy jou oplossing skaal en as jou oplossing outomatiese skaalvergroting het, moet jy seker maak dat jou maksimum skaal in ag geneem word met genoeg CloudHSM-toestelle om die oplossing te bedien.

Net soos skaalvergroting, is **prestasie jou verantwoordelikheid met CloudHSM**. Prestasie wissel op grond van watter versleutelingsalgoritme gebruik word en hoe dikwels jy die sleutels moet toegang of herwin om die data te versleutel. Sleutelbestuurdienstprestasie word deur Amazon hanteer en skakel outomaties op soos die vraag dit vereis. CloudHSM se prestasie word bereik deur meer toestelle by te voeg en as jy meer prestasie benodig, voeg jy óf toestelle by óf verander jy die versleutelingsmetode na die algoritme wat vinniger is.

As jou oplossing **multi-streek** is, moet jy verskeie **CloudHSM-toestelle in die tweede streek byvoeg en die kruisstreekverbindings met 'n privaat VPN-verbinding** of 'n ander metode uitwerk om te verseker dat die verkeer altyd beskerm word tussen die toestel op elke laag van die verbinding. As jy 'n multi-streekoplossing het, moet jy dink aan hoe om sleutels te **gerepliseer en addisionele CloudHSM-toestelle in die streke waar jy bedryf** op te stel. Jy kan baie vinnig in 'n scenario beland waar jy ses of agt toestelle oor verskeie streke versprei het, wat volledige oorbodigheid van jou versleutelingssleutels moontlik maak.

**CloudHSM** is 'n diens van die ondernemingsklas vir veilige sleutelberging en kan gebruik word as 'n **vertrouenswortel vir 'n onderneming**. Dit kan private sleutels in PKI en sertifikaatautoriteitsleutels in X509-implementasies berg. Benewens simmetriese sleutels wat gebruik word in simmetriese algoritmes soos AES, **berg KMS slegs simmetriese sleutels fisies en beskerm dit (kan nie as 'n sertifikaatautoriteit optree nie)**, dus as jy PKI- en CA-sleutels moet berg, kan 'n CloudHSM of twee of drie jou oplossing wees.

**CloudHSM is aansienlik duurder as die Sleutelbestuurdienst**. CloudHSM is 'n hardeware-toestel, so jy het vaste koste om die CloudHSM-toestel te voorsien, en dan is daar 'n uurlikse koste vir die bedryf van CloudHSM wat tans $1,88 per uur bedra, of ongeveer $1 373 per maand.

Die mees algemene rede om CloudHSM te gebruik, is nakomingsstandaarde wat jy moet nakom vir regulatoriese redes. **KMS bied nie data-ondersteuning vir asimmetriese sleutels nie. CloudHSM laat jou toe om asimmetriese sleutels veilig te berg**.

Die **openbare sleutel word tydens die voorsiening op die HSM-toestel geïnstalleer**, sodat jy toegang tot die CloudHSM-instantie kan verkry via SSH.
### Wat is 'n Hardeware Sekuriteitsmodule

'n Hardeware sekuriteitsmodule (HSM) is 'n toegewyde kriptografiese toestel wat gebruik word om kriptografiese sleutels te genereer, stoor en bestuur, en om sensitiewe data te beskerm. Dit is ontwerp om 'n hoë vlak van sekuriteit te bied deur die kriptografiese funksies fisies en elektronies te isoleer van die res van die stelsel.

Die manier waarop 'n HSM werk, kan wissel afhangende van die spesifieke model en vervaardiger, maar oor die algemeen gebeur die volgende stappe:

1. **Sleutelgenerering**: Die HSM genereer 'n ewekansige kriptografiese sleutel met behulp van 'n veilige ewekansige getalopwekker.
2. **Sleutelstoor**: Die sleutel word **veilig binne die HSM gestoor, waar dit slegs deur gevolmagtigde gebruikers of prosesse toegang kan word**.
3. **Sleutelbestuur**: Die HSM bied 'n verskeidenheid sleutelbestuursfunksies, insluitend sleutelrotasie, rugsteun en herroeping.
4. **Kriptografiese operasies**: Die HSM voer 'n verskeidenheid kriptografiese operasies uit, insluitend versleuteling, dekripsie, digitale handtekening en sleuteluitruiling. Hierdie operasies word **binne die veilige omgewing van die HSM uitgevoer**, wat teen ongemagtigde toegang en manipulasie beskerm.
5. **Ouditlogboekhouding**: Die HSM hou 'n logboek van alle kriptografiese operasies en toegangspogings, wat gebruik kan word vir nakomings- en sekuriteitsouditering.

HSM's kan gebruik word vir 'n wye verskeidenheid toepassings, insluitend veilige aanlyntransaksies, digitale sertifikate, veilige kommunikasie en data-versleuteling. Dit word dikwels gebruik in bedrywe wat 'n hoë vlak van sekuriteit vereis, soos finansies, gesondheidsorg en regering.

Oor die algemeen maak die hoë vlak van sekuriteit wat deur HSM's gebied word, dit **baie moeilik om rou sleutels daaruit te onttrek, en 'n poging daartoe word dikwels beskou as 'n oortreding van sekuriteit**. Daar kan egter **sekere scenario's** wees waar 'n **rou sleutel deur gevolmagtigde personeel onttrek** kan word vir spesifieke doeleindes, soos in die geval van 'n sleutelherwinningprosedure.

### Enumerasie
```
```
<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** 💬 [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslagplekke.

</details>
