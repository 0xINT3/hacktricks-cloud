# AWS - Enumerazione di CloudFront

<details>

<summary><strong>Impara l'hacking di AWS da zero a eroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se vuoi vedere la tua **azienda pubblicizzata su HackTricks** o **scaricare HackTricks in PDF** Controlla i [**PACCHETTI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di [**NFT esclusivi**](https://opensea.io/collection/the-peass-family)
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo Telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Condividi i tuoi trucchi di hacking inviando PR ai** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## CloudFront

CloudFront √® la **rete di distribuzione dei contenuti di AWS che accelera la distribuzione** dei tuoi contenuti statici e dinamici attraverso la sua rete globale di posizioni di bordo. Quando si utilizza un contenuto richiesto che viene ospitato tramite Amazon CloudFront, la richiesta viene instradata alla posizione di bordo pi√π vicina che fornisce la latenza pi√π bassa per offrire le migliori prestazioni. Quando **i log di accesso a CloudFront** sono abilitati, √® possibile registrare la richiesta da parte di ogni utente che richiede l'accesso al tuo sito web e alla distribuzione. Come per i log di accesso a S3, questi log sono anche **archiviati su Amazon S3 per una memorizzazione durevole e persistente**. Non ci sono costi per l'abilitazione del logging stesso, tuttavia, poich√© i log sono archiviati in S3, verranno addebitati i costi per lo spazio di archiviazione utilizzato da S3.

I file di log catturano i dati nel corso del tempo e a seconda della quantit√† di richieste ricevute da Amazon CloudFront per quella distribuzione, dipender√† dalla quantit√† di file di log generati. √à importante sapere che questi file di log non vengono creati o scritti su S3. S3 √® semplicemente il luogo in cui vengono consegnati una volta che il file di log √® pieno. **Amazon CloudFront conserva questi log fino a quando non sono pronti per essere consegnati a S3**. Ancora una volta, a seconda delle dimensioni di questi file di log, questa consegna pu√≤ richiedere **da una a 24 ore**.

**Per impostazione predefinita, il logging dei cookie √® disabilitato**, ma √® possibile abilitarlo.

### Funzioni

√à possibile creare funzioni in CloudFront. Queste funzioni avranno il loro **endpoint in cloudfront** definito e eseguiranno un **codice NodeJS** dichiarato. Questo codice verr√† eseguito all'interno di un **sandbox** in una macchina in esecuzione su una macchina gestita da AWS (√® necessario un bypass del sandbox per riuscire a sfuggire al sistema operativo sottostante).

Poich√© le funzioni non vengono eseguite nell'account AWS degli utenti, non viene allegato alcun ruolo IAM, quindi non √® possibile eseguire direttamente una privesc sfruttando questa funzionalit√†.

### Enumerazione
```bash
aws cloudfront list-distributions
aws cloudfront get-distribution --id <id> # Just get 1
aws cloudfront get-distribution-config --id <id>

aws cloudfront list-functions
aws cloudfront get-function --name TestFunction function_code.js

aws cloudfront list-distributions | jq ".DistributionList.Items[] | .Id, .Origins.Items[].Id, .Origins.Items[].DomainName, .AliasICPRecordals[].CNAME"
```
## Accesso non autenticato

{% content-ref url="../aws-unauthenticated-enum-access/aws-cloudfront-unauthenticated-enum.md" %}
[aws-cloudfront-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-cloudfront-unauthenticated-enum.md)
{% endcontent-ref %}

## Post Esploitation

{% content-ref url="../aws-post-exploitation/aws-cloudfront-post-exploitation.md" %}
[aws-cloudfront-post-exploitation.md](../aws-post-exploitation/aws-cloudfront-post-exploitation.md)
{% endcontent-ref %}

<details>

<summary><strong>Impara l'hacking di AWS da zero a eroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se vuoi vedere la tua **azienda pubblicizzata in HackTricks** o **scaricare HackTricks in PDF** Controlla i [**PACCHETTI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di esclusive [**NFT**](https://opensea.io/collection/the-peass-family)
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Condividi i tuoi trucchi di hacking inviando PR ai** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
