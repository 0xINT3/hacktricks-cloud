# AWS - CloudFront Enum

<details>

<summary><strong>AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рд╢реВрдиреНрдп рд╕реЗ рд▓реЗрдХрд░ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ**, рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХреНрд╕рдХреНрд▓реВрд╕рд┐рд╡ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд╛ рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram group**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** рдкрд░ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm) рдХреЛ **рдлреЙрд▓реЛ рдХрд░реЗрдВ**.
* **HackTricks** рдХреЗ [**github repos**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╢реЗрдпрд░ рдХрд░реЗрдВ.

</details>

## CloudFront

CloudFront AWS рдХрд╛ **content delivery network рд╣реИ рдЬреЛ рдЖрдкрдХреЗ рд╕реНрдЯреИрдЯрд┐рдХ рдФрд░ рдбрд╛рдпрдирд╛рдорд┐рдХ рдХрдВрдЯреЗрдВрдЯ рдХреЗ рд╡рд┐рддрд░рдг рдХреЛ рддреЗрдЬ рдХрд░рддрд╛ рд╣реИ** рдЕрдкрдиреЗ рд╡рд┐рд╢реНрд╡рд╡реНрдпрд╛рдкреА рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рдПрдЬ рд▓реЛрдХреЗрд╢рдиреНрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗред рдЬрдм рдЖрдк Amazon CloudFront рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП рдХрдВрдЯреЗрдВрдЯ рдХреЛ рд░рд┐рдХреНрд╡реЗрд╕реНрдЯ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд░рд┐рдХреНрд╡реЗрд╕реНрдЯ рд╕рдмрд╕реЗ рдирдЬрджреАрдХреА рдПрдЬ рд▓реЛрдХреЗрд╢рди рдкрд░ рд░реВрдЯ рдХреА рдЬрд╛рддреА рд╣реИ рдЬреЛ рдЗрд╕реЗ рд╕рдмрд╕реЗ рдХрдо рд▓реЗрдЯреЗрдВрд╕реА рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИ рддрд╛рдХрд┐ рд╕рд░реНрд╡реЛрддреНрддрдо рдкреНрд░рджрд░реНрд╢рди рджрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред рдЬрдм **CloudFront access logs** рд╕рдХреНрд╖рдо рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ рддреЛ рдЖрдк рдЙрди рдкреНрд░рддреНрдпреЗрдХ рдпреВрдЬрд░ рдХреЗ рд░рд┐рдХреНрд╡реЗрд╕реНрдЯ рдХреЛ рд░рд┐рдХреЙрд░реНрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдЖрдкрдХреА рд╡реЗрдмрд╕рд╛рдЗрдЯ рдФрд░ рд╡рд┐рддрд░рдг рддрдХ рдкрд╣реБрдВрдЪ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░рддреЗ рд╣реИрдВред S3 access logs рдХреА рддрд░рд╣, рдпреЗ рд▓реЙрдЧреНрд╕ рднреА **Amazon S3 рдкрд░ рд╕реНрдерд╛рдпреА рдФрд░ рдЯрд┐рдХрд╛рдК рд╕реНрдЯреЛрд░реЗрдЬ рдХреЗ рд▓рд┐рдП рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ**ред рд▓реЙрдЧрд┐рдВрдЧ рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдИ рд╢реБрд▓реНрдХ рдирд╣реАрдВ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЪреВрдВрдХрд┐ рд▓реЙрдЧреНрд╕ S3 рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП S3 рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рд╕реНрдЯреЛрд░реЗрдЬ рдХреЗ рд▓рд┐рдП рдЖрдкрд╕реЗ рд╢реБрд▓реНрдХ рд▓рд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред

рд▓реЙрдЧ рдлрд╛рдЗрд▓реЗрдВ рд╕рдордп рдХреА рдЕрд╡рдзрд┐ рдХреЗ рджреМрд░рд╛рди рдбреЗрдЯрд╛ рдХреИрдкреНрдЪрд░ рдХрд░рддреА рд╣реИрдВ рдФрд░ Amazon CloudFront рджреНрд╡рд╛рд░рд╛ рдЙрд╕ рд╡рд┐рддрд░рдг рдХреЗ рд▓рд┐рдП рдкреНрд░рд╛рдкреНрдд рдХреА рдЧрдИ рд░рд┐рдХреНрд╡реЗрд╕реНрдЯ рдХреА рдорд╛рддреНрд░рд╛ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд▓реЙрдЧ рдлрд╛рдЗрд▓реЛрдВ рдХреА рдорд╛рддреНрд░рд╛ рдирд┐рд░реНрднрд░ рдХрд░рддреА рд╣реИред рдпрд╣ рдЬрд╛рдирдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдпреЗ рд▓реЙрдЧ рдлрд╛рдЗрд▓реЗрдВ S3 рдкрд░ рдирд╣реАрдВ рдмрдирд╛рдИ рдпрд╛ рд▓рд┐рдЦреА рдЬрд╛рддреА рд╣реИрдВред S3 рдмрд╕ рд╡рд╣ рдЬрдЧрд╣ рд╣реИ рдЬрд╣рд╛рдВ рд╡реЗ рд▓реЙрдЧ рдлрд╛рдЗрд▓ рдкреВрд░реА рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж рдкрд╣реБрдВрдЪрд╛рдИ рдЬрд╛рддреА рд╣реИрдВред **Amazon CloudFront рдЗрди рд▓реЙрдЧреНрд╕ рдХреЛ S3 рдкрд░ рдкрд╣реБрдВрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реЛрдиреЗ рддрдХ рд░рдЦрддрд╛ рд╣реИ**ред рдлрд┐рд░ рд╕реЗ, рдЗрди рд▓реЙрдЧ рдлрд╛рдЗрд▓реЛрдВ рдХреЗ рдЖрдХрд╛рд░ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдпрд╣ рдбрд┐рд▓реАрд╡рд░реА **рдПрдХ рд╕реЗ 24 рдШрдВрдЯреЗ рдХреЗ рдмреАрдЪ** рд▓реЗ рд╕рдХрддреА рд╣реИред

**рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдХреБрдХреА рд▓реЙрдЧрд┐рдВрдЧ рдЕрдХреНрд╖рдо рд╣реЛрддреА рд╣реИ** рд▓реЗрдХрд┐рди рдЖрдк рдЗрд╕реЗ рд╕рдХреНрд╖рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### Functions

рдЖрдк CloudFront рдореЗрдВ functions рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред рдЗрди functions рдХрд╛ **endpoint cloudfront рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рд╣реЛрдЧрд╛** рдФрд░ рдПрдХ рдШреЛрд╖рд┐рдд **NodeJS рдХреЛрдб** рдЪрд▓рд╛рдПрдЧрд╛ред рдпрд╣ рдХреЛрдб AWS рдХреЗ рдкреНрд░рдмрдВрдзрд┐рдд рдорд╢реАрди рдкрд░ рдЪрд▓ рд░рд╣реЗ рдПрдХ **sandbox** рдХреЗ рдЕрдВрджрд░ рдЪрд▓реЗрдЧрд╛ (рдЖрдкрдХреЛ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд OS рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ sandbox рдмрд╛рдпрдкрд╛рд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА)ред

рдЪреВрдВрдХрд┐ functions рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ AWS рдЦрд╛рддреЗ рдореЗрдВ рдирд╣реАрдВ рдЪрд▓рд╛рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдХреЛрдИ IAM рд░реЛрд▓ рд╕рдВрд▓рдЧреНрди рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ рдЗрд╕рд▓рд┐рдП рдЗрд╕ рд╕реБрд╡рд┐рдзрд╛ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреЛрдИ рд╕реАрдзрд╛ privesc рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реИред

### Enumeration
```bash
aws cloudfront list-distributions
aws cloudfront get-distribution --id <id> # Just get 1
aws cloudfront get-distribution-config --id <id>

aws cloudfront list-functions
aws cloudfront get-function --name TestFunction function_code.js

aws cloudfront list-distributions | jq ".DistributionList.Items[] | .Id, .Origins.Items[].Id, .Origins.Items[].DomainName, .AliasICPRecordals[].CNAME"
```
## рдЕрдирдзрд┐рдХреГрдд рдкрд╣реБрдБрдЪ

{% content-ref url="../aws-unauthenticated-enum-access/aws-cloudfront-unauthenticated-enum.md" %}
[aws-cloudfront-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-cloudfront-unauthenticated-enum.md)
{% endcontent-ref %}

## рдкреЛрд╕реНрдЯ рдПрдХреНрд╕рдкреНрд▓реЙрдЗрдЯреЗрд╢рди

{% content-ref url="../aws-post-exploitation/aws-cloudfront-post-exploitation.md" %}
[aws-cloudfront-post-exploitation.md](../aws-post-exploitation/aws-cloudfront-post-exploitation.md)
{% endcontent-ref %}

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert) рдХреЗ рд╕рд╛рде AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ**, рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram group**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** рдкрд░ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm) рдХреЛ **рдлреЙрд▓реЛ рдХрд░реЗрдВ**.
* [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ.

</details>
