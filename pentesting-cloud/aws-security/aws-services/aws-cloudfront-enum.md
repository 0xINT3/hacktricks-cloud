# AWS - CloudFront Enum

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **vašu kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** Proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

## CloudFront

CloudFront je AWS-ov **sistem za distribuciju sadržaja koji ubrzava distribuciju** vašeg statičkog i dinamičkog sadržaja putem svog svetskog mrežnog sistema lokacija. Kada koristite zahtev za sadržaj koji hostujete putem Amazon CloudFront-a, zahtev se usmerava ka najbližoj lokaciji koja pruža najmanju latenciju kako bi obezbedila najbolje performanse. Kada su **CloudFront pristupni logovi** omogućeni, možete zabeležiti zahtev od svakog korisnika koji traži pristup vašem veb sajtu i distribuciji. Kao i kod S3 pristupnih logova, ovi logovi se takođe **čuvaju na Amazon S3 radi trajnog i postojanog skladištenja**. Nema troškova za omogućavanje samog logovanja, međutim, pošto se logovi čuvaju u S3, biće vam naplaćeno za korišćeno skladište S3.

Log fajlovi beleže podatke tokom određenog vremenskog perioda i zavisno od količine zahteva koji su primljeni od strane Amazon CloudFront-a za tu distribuciju, zavisiće i količina log fajlova koji se generišu. Važno je znati da ovi log fajlovi nisu kreirani ili pisani na S3. S3 je samo mesto na koje se dostavljaju kada je log fajl pun. **Amazon CloudFront čuva ove logove dok ne budu spremni za dostavu na S3**. Ponovo, zavisno od veličine ovih log fajlova, dostava može trajati **od jednog do 24 sata**.

**Podrazumevano je onemogućeno logovanje kolačića**, ali ga možete omogućiti.

### Funkcije

Možete kreirati funkcije u CloudFront-u. Ove funkcije će imati svoju **krajnju tačku u cloudfront-u** definisanu i pokrenuće deklarisani **NodeJS kod**. Ovaj kod će se izvršavati unutar **sandbox-a** na mašini koja radi pod upravljanjem AWS upravljane mašine (treba vam zaobilaženje sandbox-a da biste uspeli da pobegnete do osnovnog operativnog sistema).

Pošto se funkcije ne izvršavaju u korisničkom AWS nalogu, nema pridružene IAM uloge, pa nije moguće direktno povećanje privilegija zloupotrebom ove funkcionalnosti.

### Enumeracija
```bash
aws cloudfront list-distributions
aws cloudfront get-distribution --id <id> # Just get 1
aws cloudfront get-distribution-config --id <id>

aws cloudfront list-functions
aws cloudfront get-function --name TestFunction function_code.js

aws cloudfront list-distributions | jq ".DistributionList.Items[] | .Id, .Origins.Items[].Id, .Origins.Items[].DomainName, .AliasICPRecordals[].CNAME"
```
## Neautentifikovani pristup

{% content-ref url="../aws-unauthenticated-enum-access/aws-cloudfront-unauthenticated-enum.md" %}
[aws-cloudfront-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-cloudfront-unauthenticated-enum.md)
{% endcontent-ref %}

## Post eksploatacija

{% content-ref url="../aws-post-exploitation/aws-cloudfront-post-exploitation.md" %}
[aws-cloudfront-post-exploitation.md](../aws-post-exploitation/aws-cloudfront-post-exploitation.md)
{% endcontent-ref %}

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **vašu kompaniju reklamiranu u HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
