# AWS - CloudFront Enum

<details>

<summary><strong>Jifunze kuhusu udukuzi wa AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) za kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## CloudFront

CloudFront ni **mtandao wa utoaji wa maudhui wa AWS unaosaidia kusambaza** maudhui yako ya tuli na ya kibunifu kupitia mtandao wake wa vituo vya pembezoni ulimwenguni. Unapotumia maudhui unayohifadhi kupitia Amazon CloudFront, ombi hilo linaelekezwa kwenye eneo la pembezoni lililo karibu zaidi ambalo hutoa latency ya chini kutoa utendaji bora. Wakati **kumbukumbu za ufikiaji wa CloudFront** zimeanzishwa, unaweza kurekodi ombi kutoka kwa kila mtumiaji anayeomba ufikiaji kwenye tovuti yako na usambazaji. Kama ilivyo na kumbukumbu za ufikiaji wa S3, kumbukumbu hizi pia **huhifadhiwa kwenye Amazon S3 kwa uhifadhi thabiti na endelevu**. Hakuna malipo ya kuwezesha kumbukumbu yenyewe, hata hivyo, kumbukumbu hizi zinahifadhiwa kwa uhifadhi unaotumiwa na S3.

Faili za kumbukumbu hukamata data kwa kipindi cha muda na kulingana na idadi ya maombi yanayopokelewa na Amazon CloudFront kwa usambazaji huo kutategemea idadi ya faili za kumbukumbu zinazozalishwa. Ni muhimu kujua kwamba faili hizi za kumbukumbu haziumbwi au kuandikwa kwenye S3. S3 ni mahali ambapo zinapelekwa mara tu faili ya kumbukumbu inapojaa. **Amazon CloudFront inahifadhi kumbukumbu hizi hadi ziwe tayari kusambazwa kwa S3**. Tena, kulingana na ukubwa wa faili hizi za kumbukumbu, usambazaji huu unaweza kuchukua **kati ya saa moja na saa 24**.

**Kwa chaguo-msingi, kuingia kwa kuki kunalemazwa** lakini unaweza kuwezesha.

### Kazi

Unaweza kuunda kazi kwenye CloudFront. Kazi hizi zitakuwa na **kituo chake cha mwisho kwenye cloudfront** kilichoelezwa na itaendesha **msimbo wa NodeJS uliotangazwa**. Msimbo huu utaendeshwa ndani ya **sandbox** kwenye mashine inayoendeshwa chini ya mashine inayosimamiwa na AWS (utahitaji kuvuka sandbox ili kufanikiwa kutoroka kwa OS inayofunika).

Kwa kuwa kazi hazitekelezwi kwenye akaunti ya AWS ya watumiaji. hakuna jukumu la IAM lililofungwa hivyo hakuna privesc moja kwa moja inayowezekana ikidhuru kipengele hiki.

### Uchambuzi
```bash
aws cloudfront list-distributions
aws cloudfront get-distribution --id <id> # Just get 1
aws cloudfront get-distribution-config --id <id>

aws cloudfront list-functions
aws cloudfront get-function --name TestFunction function_code.js

aws cloudfront list-distributions | jq ".DistributionList.Items[] | .Id, .Origins.Items[].Id, .Origins.Items[].DomainName, .AliasICPRecordals[].CNAME"
```
## Upatikanaji usiothibitishwa

{% content-ref url="../aws-unauthenticated-enum-access/aws-cloudfront-unauthenticated-enum.md" %}
[aws-cloudfront-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-cloudfront-unauthenticated-enum.md)
{% endcontent-ref %}

## Baada ya Uvamizi

{% content-ref url="../aws-post-exploitation/aws-cloudfront-post-exploitation.md" %}
[aws-cloudfront-post-exploitation.md](../aws-post-exploitation/aws-cloudfront-post-exploitation.md)
{% endcontent-ref %}

<details>

<summary><strong>Jifunze kuhusu udukuzi wa AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
