# AWS - CloudFront Enum

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy geadverteer wil sien in HackTricks** of **HackTricks in PDF wil aflaai**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling van eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-repos.

</details>

## CloudFront

CloudFront is AWS se **inhoudslewernetwerk wat die verspreiding** van jou statiese en dinamiese inhoud versnel deur middel van sy w√™reldwye netwerk van randlokasies. Wanneer jy 'n versoekinhoud gebruik wat jy hospiteer deur middel van Amazon CloudFront, word die versoek na die naaste randlokasie gerouteer wat dit die laagste latensie bied om die beste prestasie te lewer. Wanneer **CloudFront-toegangsjoernale** geaktiveer is, kan jy die versoek van elke gebruiker wat toegang tot jou webwerf en verspreiding versoek, opneem. Net soos S3-toegangsjoernale, word hierdie joernale ook **in Amazon S3 gestoor vir duursame en volhoubare berging**. Daar is geen koste vir die aktivering van joernale self nie, maar aangesien die joernale in S3 gestoor word, sal jy betaal vir die berging wat deur S3 gebruik word.

Die joernaal l√™ers vang data oor 'n tydperk en afhangend van die hoeveelheid versoek wat deur Amazon CloudFront vir daardie verspreiding ontvang word, sal dit afhang van die hoeveelheid joernaal l√™ers wat gegenereer word. Dit is belangrik om te weet dat hierdie joernaal l√™ers nie op S3 geskep of geskryf word nie. S3 is eenvoudig waarheen hulle afgelewer word sodra die joernaal l√™er vol is. **Amazon CloudFront behou hierdie joernale totdat hulle gereed is om na S3 afgelewer te word**. Weereens, afhangend van die grootte van hierdie joernaal l√™ers, kan hierdie aflewering **tussen een en 24 uur** neem.

**Standaard is koekiejoernale nie geaktiveer nie**, maar jy kan dit aktiveer.

### Funksies

Jy kan funksies in CloudFront skep. Hierdie funksies sal sy **eindpunt in cloudfront** h√™ en sal 'n gedeclareerde **NodeJS-kode** uitvoer. Hierdie kode sal binne 'n **sandbox** op 'n masjien wat onder 'n AWS-bestuurde masjien loop, uitgevoer word (jy sal 'n sandbox-omleiding nodig h√™ om te ontsnap na die onderliggende OS).

Aangesien die funksies nie in die gebruiker se AWS-rekening uitgevoer word nie, word geen IAM-rol geheg nie, sodat geen direkte privesc moontlik is deur hierdie funksie te misbruik.

### Enumerasie
```bash
aws cloudfront list-distributions
aws cloudfront get-distribution --id <id> # Just get 1
aws cloudfront get-distribution-config --id <id>

aws cloudfront list-functions
aws cloudfront get-function --name TestFunction function_code.js

aws cloudfront list-distributions | jq ".DistributionList.Items[] | .Id, .Origins.Items[].Id, .Origins.Items[].DomainName, .AliasICPRecordals[].CNAME"
```
## Ongeverifieerde Toegang

{% content-ref url="../aws-unauthenticated-enum-access/aws-cloudfront-unauthenticated-enum.md" %}
[aws-cloudfront-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-cloudfront-unauthenticated-enum.md)
{% endcontent-ref %}

## Post Exploitatie

{% content-ref url="../aws-post-exploitation/aws-cloudfront-post-exploitation.md" %}
[aws-cloudfront-post-exploitation.md](../aws-post-exploitation/aws-cloudfront-post-exploitation.md)
{% endcontent-ref %}

<details>

<summary><strong>Leer AWS hack vanaf nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Andere manieren om HackTricks te ondersteunen:

* Als je je **bedrijf geadverteerd wilt zien in HackTricks** of **HackTricks in PDF wilt downloaden**, bekijk dan de [**ABONNEMENTSPAKKETTEN**](https://github.com/sponsors/carlospolop)!
* Koop de [**offici√´le PEASS & HackTricks merchandise**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), onze collectie exclusieve [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit je aan bij de** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of de [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel je hacktrucs door PR's in te dienen bij de** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-repos.

</details>
