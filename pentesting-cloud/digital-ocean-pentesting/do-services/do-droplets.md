# DO - Droplets

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## Taarifa Msingi

Katika DigitalOcean, "droplet" ni **seva binafsi ya kimagharibi (VPS)** inayoweza kutumika kuhifadhi tovuti na programu. Droplet ni **mfuko ulioandaliwa mapema wa rasilimali za kompyuta**, ikiwa ni pamoja na kiasi fulani cha CPU, kumbukumbu, na uhifadhi, ambao unaweza kuwekwa kwa haraka na kwa urahisi kwenye miundombinu ya wingu ya DigitalOcean.

Unaweza kuchagua kutoka kwa **OS za kawaida**, hadi **programu** zinazoendeshwa tayari (kama WordPress, cPanel, Laravel...), au hata kupakia na kutumia **picha zako mwenyewe**.

Droplets inasaidia **maandishi ya data ya mtumiaji**.

<details>

<summary>Tofauti kati ya picha ya papo hapo na nakala rudufu</summary>

Katika DigitalOcean, picha ya papo hapo ni nakala ya wakati fulani ya diski ya Droplet. Inachukua hali ya diski ya Droplet wakati picha ya papo hapo ilipochukuliwa, ikiwa ni pamoja na mfumo wa uendeshaji, programu zilizosakinishwa, na faili na data zote kwenye diski.

Picha za papo hapo zinaweza kutumika kuunda Droplets mpya zenye usanidi sawa na Droplet ya awali, au kurejesha Droplet kwenye hali iliyokuwa nayo wakati picha ya papo hapo ilipochukuliwa. Picha za papo hapo hifadhiwa kwenye huduma ya uhifadhi wa vitu vya DigitalOcean, na ni za kujumlisha, maana yake ni kwamba tu mabadiliko tangu picha ya papo hapo iliyopita ndio yamehifadhiwa. Hii inafanya matumizi yao kuwa ufanisi na gharama nafuu kuhifadhi.

Kwa upande mwingine, nakala rudufu ni nakala kamili ya Droplet, ikiwa ni pamoja na mfumo wa uendeshaji, programu zilizosakinishwa, faili, na data, pamoja na mipangilio na metadata ya Droplet. Nakala rudufu kawaida hufanywa kwa ratiba ya kawaida, na inachukua hali nzima ya Droplet wakati fulani.

Tofauti na picha za papo hapo, nakala rudufu zinahifadhiwa kwa muundo uliopunguzwa na uliofichwa, na zinahamishwa kutoka miundombinu ya DigitalOcean kwenda eneo la mbali kwa ajili ya kuhifadhi salama. Hii inafanya nakala rudufu kuwa bora kwa kupona kutokana na maafa, kwani zinatoa nakala kamili ya Droplet ambayo inaweza kurejeshwa katika tukio la kupoteza data au matukio mengine ya maafa.

Kwa muhtasari, picha za papo hapo ni nakala za wakati fulani ya diski ya Droplet, wakati nakala rudufu ni nakala kamili ya Droplet, ikiwa ni pamoja na mipangilio yake na metadata. Picha za papo hapo zinahifadhiwa kwenye huduma ya uhifadhi wa vitu vya DigitalOcean, wakati nakala rudufu zinahamishwa kutoka miundombinu ya DigitalOcean kwenda eneo la mbali. Picha za papo hapo na nakala rudufu zinaweza kutumika kurejesha Droplet, lakini picha za papo hapo ni ufanisi zaidi kutumia na kuhifadhi, wakati nakala rudufu hutoa suluhisho kamili zaidi la nakala rudufu kwa kupona kutokana na maafa.

</details>

### Uthibitisho

Kwa uthibitisho ni **inawezekana kuwezesha SSH** kupitia jina la mtumiaji na **nywila** (nywila inayowekwa wakati droplet inaundwa). Au **chagua moja au zaidi ya funguo za SSH zilizopakiwa**.

### Ukuta wa Moto

{% hint style="danger" %}
Kwa chaguo-msingi **droplets zinaundwa BILA UKUTA WA MOTO** (si kama katika mawingu mengine kama AWS au GCP). Kwa hivyo ikiwa unataka DO kulinda bandari za droplet (VM), unahitaji **kuunda na kuunganisha**.
{% endhint %}

Maelezo zaidi katika:

{% content-ref url="do-networking.md" %}
[do-networking.md](do-networking.md)
{% endcontent-ref %}

### Urambazaji
```bash
# VMs
doctl compute droplet list # IPs will appear here
doctl compute droplet backups <droplet-id>
doctl compute droplet snapshots <droplet-id>
doctl compute droplet neighbors <droplet-id> # Get network neighbors
doctl compute droplet actions <droplet-id> # Get droplet actions

# VM interesting actions
doctl compute droplet-action password-reset <droplet-id> # New password is emailed to the user
doctl compute droplet-action enable-ipv6 <droplet-id>
doctl compute droplet-action power-on <droplet-id>
doctl compute droplet-action disable-backups <droplet-id>

# SSH
doctl compute ssh <droplet-id> # This will just run SSH
doctl compute ssh-key list
doctl compute ssh-key import <key-name> --public-key-file /path/to/key.pub

# Certificates
doctl compute certificate list

# Snapshots
doctl compute snapshot list
```
{% hint style="danger" %}
**Droplets have metadata endpoints**, lakini katika DO **hakuna IAM** au vitu kama jukumu kutoka AWS au akaunti za huduma kutoka GCP.
{% endhint %}

### RCE

Ukiwa na ufikiaji wa konsoli ni **rahisi kupata shell ndani ya droplet** kwa kufikia URL: **`https://cloud.digitalocean.com/droplets/<droplet-id>/terminal/ui/`**

Pia ni rahisi kuzindua **recovery console** ili kukimbia amri ndani ya mwenyeji kwa kufikia recovery console katika **`https://cloud.digitalocean.com/droplets/<droplet-id>/console`**(lakini katika kesi hii utahitaji kujua nenosiri la msingi).
