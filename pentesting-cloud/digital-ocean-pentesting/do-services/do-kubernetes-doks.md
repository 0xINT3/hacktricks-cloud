# DO - Kubernetes (DOKS)

<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy geadverteer wil sien in HackTricks** of **HackTricks in PDF wil aflaai**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-repos.

</details>

## Basiese Inligting

### DigitalOcean Kubernetes (DOKS)

DOKS is 'n bestuurde Kubernetes-diens wat deur DigitalOcean aangebied word. Die diens is ontwerp om **Kubernetes-klusters op DigitalOcean se platform te implementeer en bestuur**. Die sleutelaspekte van DOKS sluit in:

1. **Maklike Bestuur**: Die vereiste om die onderliggende infrastruktuur op te stel en te onderhou, word ge√´limineer, wat die bestuur van Kubernetes-klusters vereenvoudig.
2. **Gebruikervriendelike Koppelvlak**: Dit bied 'n intu√Øtiewe koppelvlak wat die skep en administrasie van klusters vergemaklik.
3. **Integrasie met DigitalOcean-dienste**: Dit integreer naadloos met ander dienste wat deur DigitalOcean voorsien word, soos Load Balancers en Block Storage.
4. **Outomatiese Opdaterings en Opgraderings**: Die diens sluit outomatiese opdatering en opgradering van klusters in om te verseker dat hulle op datum is.


### Verbinding
```bash
# Generate kubeconfig from doctl
doctl kubernetes cluster kubeconfig save <cluster-id>

# Use a kubeconfig file that you can download from the console
kubectl --kubeconfig=/<pathtodirectory>/k8s-1-25-4-do-0-ams3-1670939911166-kubeconfig.yaml get nodes
```
### Opstel

Enumeration is 'n belangrike stap in die pentesting-proses, veral wanneer dit kom by die ondersoek van 'n DigitalOcean Kubernetes (DOKS) omgewing. Deur die korrekte opstel van die omgewing te identifiseer, kan 'n aanvaller potensi√´le swakpunte en aanvalsvektore identifiseer.

Hier is 'n paar tegnieke wat gebruik kan word vir opstel in 'n DOKS-omgewing:

#### 1. DNS-opstel

Deur DNS-opstel te ondersoek, kan 'n aanvaller inligting bekom oor die DNS-dienste wat in die DOKS-omgewing gebruik word. Dit kan insluit die identifisering van DNS-rekords, soos A-rekords, CNAME-rekords en MX-rekords, wat gebruik word deur die omgewing.

#### 2. IP-opstel

Deur IP-opstel te doen, kan 'n aanvaller die IP-adresse van die DOKS-omgewing identifiseer. Dit kan gedoen word deur die ondersoek van DNS-rekords, soos A-rekords, of deur die skandering van die omgewing vir aktiewe IP-adresse.

#### 3. Portopstel

Deur die opstel van poorte te doen, kan 'n aanvaller die aktiewe poorte in die DOKS-omgewing identifiseer. Dit kan gedoen word deur die gebruik van skanderingstegnieke soos TCP-skandering of UDP-skandering.

#### 4. Webopstel

Deur die opstel van webdienste te doen, kan 'n aanvaller die webtoepassings in die DOKS-omgewing identifiseer. Dit kan gedoen word deur die skandering van die omgewing vir aktiewe webbedieners en die identifisering van die gebruikte webtegnologie√´.

#### 5. Subdomeinopstel

Deur die opstel van subdomeine te doen, kan 'n aanvaller subdomeine in die DOKS-omgewing identifiseer. Dit kan gedoen word deur die ondersoek van DNS-rekords, soos CNAME-rekords, wat verwys na subdomeine.

#### 6. API-opstel

Deur die opstel van API-dienste te doen, kan 'n aanvaller API-eindpunte in die DOKS-omgewing identifiseer. Dit kan gedoen word deur die skandering van die omgewing vir aktiewe API-eindpunte en die identifisering van die gebruikte API-tegnologie√´.

#### 7. Gebruikersopstel

Deur die opstel van gebruikers te doen, kan 'n aanvaller inligting bekom oor die gebruikers wat in die DOKS-omgewing geregistreer is. Dit kan gedoen word deur die ondersoek van gebruikersdatabasisse, soos die Kubernetes API, of deur die identifisering van gebruikersinligting in logl√™ers.

Hierdie opsteltegnieke kan 'n aanvaller help om 'n beter begrip van die DOKS-omgewing te kry en potensi√´le swakpunte te identifiseer wat gebruik kan word vir verdere aanvalle.
```bash
# Get clusters
doctl kubernetes cluster list

# Get node pool of cluster (number of nodes)
doctl kubernetes cluster node-pool list <cluster-id>

# Get DO resources used by the cluster
doctl kubernetes cluster list-associated-resources <cluster-id>
```
<details>

<summary><strong>Leer AWS-hacking van nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy geadverteer wil sien in HackTricks** of **HackTricks in PDF wil aflaai**, kyk na die [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**The PEASS Family**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Deel jou hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>
