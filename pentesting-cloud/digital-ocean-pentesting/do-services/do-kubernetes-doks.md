# DO - Kubernetes (DOKS)

<details>

<summary><strong>支持 HackTricks 并获得福利！</strong></summary>

* 如果您想在 HackTricks 中看到您的公司广告，或者如果您想访问 PEASS 的最新版本或下载 HackTricks 的 PDF，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方 PEASS 和 HackTricks 商品**](https://peass.creator-spring.com)
* 发现[**PEASS 家族**](https://opensea.io/collection/the-peass-family)，我们的独家[**NFT**](https://opensea.io/collection/the-peass-family)收藏品
* **加入** 💬 [**Discord 群组**](https://discord.gg/hRep4RUj7f) 或 [**Telegram 群组**](https://t.me/peass) 或 **关注**我的 **Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* **通过向** [**HackTricks**](https://github.com/carlospolop/hacktricks) **和** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **github 仓库提交 PR 来分享您的黑客技巧。**

</details>

## 基本信息

DigitalOcean Kubernetes（也称为 "DOKS"）是由 DigitalOcean 提供的托管 Kubernetes 服务。它允许您在 DigitalOcean 上部署和管理 Kubernetes 集群，无需自己设置和维护基础架构。

它提供了一个用户友好的界面，用于创建和管理集群，并与其他 DigitalOcean 服务（如负载均衡器和块存储）集成。它还包括自动更新和升级功能，以及来自 DigitalOcean 的 Kubernetes 专家的 24/7 支持。

### 连接
```bash
# Generate kubeconfig from doctl
doctl kubernetes cluster kubeconfig save <cluster-id>

# Use a kubeconfig file that you can download from the console
kubectl --kubeconfig=/<pathtodirectory>/k8s-1-25-4-do-0-ams3-1670939911166-kubeconfig.yaml get nodes
```
### 枚举

#### 1. 获取集群信息

使用以下命令获取集群的基本信息：

```bash
kubectl cluster-info
```

#### 2. 列出所有命名空间

使用以下命令列出所有命名空间：

```bash
kubectl get namespaces
```

#### 3. 列出所有Pods

使用以下命令列出所有Pods：

```bash
kubectl get pods --all-namespaces
```

#### 4. 列出所有Services

使用以下命令列出所有Services：

```bash
kubectl get services --all-namespaces
```

#### 5. 列出所有Deployments

使用以下命令列出所有Deployments：

```bash
kubectl get deployments --all-namespaces
```

#### 6. 列出所有ConfigMaps

使用以下命令列出所有ConfigMaps：

```bash
kubectl get configmaps --all-namespaces
```

#### 7. 列出所有Secrets

使用以下命令列出所有Secrets：

```bash
kubectl get secrets --all-namespaces
```

#### 8. 列出所有PersistentVolumes

使用以下命令列出所有PersistentVolumes：

```bash
kubectl get persistentvolumes --all-namespaces
```

#### 9. 列出所有PersistentVolumeClaims

使用以下命令列出所有PersistentVolumeClaims：

```bash
kubectl get persistentvolumeclaims --all-namespaces
```

#### 10. 列出所有Roles

使用以下命令列出所有Roles：

```bash
kubectl get roles --all-namespaces
```

#### 11. 列出所有RoleBindings

使用以下命令列出所有RoleBindings：

```bash
kubectl get rolebindings --all-namespaces
```

#### 12. 列出所有ServiceAccounts

使用以下命令列出所有ServiceAccounts：

```bash
kubectl get serviceaccounts --all-namespaces
```

#### 13. 列出所有NetworkPolicies

使用以下命令列出所有NetworkPolicies：

```bash
kubectl get networkpolicies --all-namespaces
```

#### 14. 列出所有Ingresses

使用以下命令列出所有Ingresses：

```bash
kubectl get ingresses --all-namespaces
```

#### 15. 列出所有PodSecurityPolicies

使用以下命令列出所有PodSecurityPolicies：

```bash
kubectl get podsecuritypolicies --all-namespaces
```

#### 16. 列出所有PodDisruptionBudgets

使用以下命令列出所有PodDisruptionBudgets：

```bash
kubectl get poddisruptionbudgets --all-namespaces
```

#### 17. 列出所有CronJobs

使用以下命令列出所有CronJobs：

```bash
kubectl get cronjobs --all-namespaces
```

#### 18. 列出所有Jobs

使用以下命令列出所有Jobs：

```bash
kubectl get jobs --all-namespaces
```

#### 19. 列出所有DaemonSets

使用以下命令列出所有DaemonSets：

```bash
kubectl get daemonsets --all-namespaces
```

#### 20. 列出所有StatefulSets

使用以下命令列出所有StatefulSets：

```bash
kubectl get statefulsets --all-namespaces
```

#### 21. 列出所有ReplicaSets

使用以下命令列出所有ReplicaSets：

```bash
kubectl get replicasets --all-namespaces
```

#### 22. 列出所有Endpoints

使用以下命令列出所有Endpoints：

```bash
kubectl get endpoints --all-namespaces
```

#### 23. 列出所有LimitRanges

使用以下命令列出所有LimitRanges：

```bash
kubectl get limitranges --all-namespaces
```

#### 24. 列出所有ResourceQuotas

使用以下命令列出所有ResourceQuotas：

```bash
kubectl get resourcequotas --all-namespaces
```

#### 25. 列出所有HorizontalPodAutoscalers

使用以下命令列出所有HorizontalPodAutoscalers：

```bash
kubectl get horizontalpodautoscalers --all-namespaces
```

#### 26. 列出所有PodTemplates

使用以下命令列出所有PodTemplates：

```bash
kubectl get podtemplates --all-namespaces
```

#### 27. 列出所有CustomResourceDefinitions

使用以下命令列出所有CustomResourceDefinitions：

```bash
kubectl get customresourcedefinitions --all-namespaces
```

#### 28. 列出所有ClusterRoles

使用以下命令列出所有ClusterRoles：

```bash
kubectl get clusterroles --all-namespaces
```

#### 29. 列出所有ClusterRoleBindings

使用以下命令列出所有ClusterRoleBindings：

```bash
kubectl get clusterrolebindings --all-namespaces
```

#### 30. 列出所有PodPresets

使用以下命令列出所有PodPresets：

```bash
kubectl get podpresets --all-namespaces
```

#### 31. 列出所有StorageClasses

使用以下命令列出所有StorageClasses：

```bash
kubectl get storageclasses --all-namespaces
```

#### 32. 列出所有VolumeAttachments

使用以下命令列出所有VolumeAttachments：

```bash
kubectl get volumeattachments --all-namespaces
```

#### 33. 列出所有CSIDrivers

使用以下命令列出所有CSIDrivers：

```bash
kubectl get csidrivers --all-namespaces
```

#### 34. 列出所有CSINodes

使用以下命令列出所有CSINodes：

```bash
kubectl get csinodes --all-namespaces
```

#### 35. 列出所有CertificateSigningRequests

使用以下命令列出所有CertificateSigningRequests：

```bash
kubectl get certificatesigningrequests --all-namespaces
```

#### 36. 列出所有PodSecurityPolicyReviews

使用以下命令列出所有PodSecurityPolicyReviews：

```bash
kubectl get podsecuritypolicyreviews --all-namespaces
```

#### 37. 列出所有PodSecurityPolicySelfSubjectReviews

使用以下命令列出所有PodSecurityPolicySelfSubjectReviews：

```bash
kubectl get podsecuritypolicyselfsubjectreviews --all-namespaces
```

#### 38. 列出所有PodSecurityPolicySubjectReviews

使用以下命令列出所有PodSecurityPolicySubjectReviews：

```bash
kubectl get podsecuritypolicysubjectreviews --all-namespaces
```

#### 39. 列出所有RuntimeClasses

使用以下命令列出所有RuntimeClasses：

```bash
kubectl get runtimeclasses --all-namespaces
```

#### 40. 列出所有PodSecurityPolicyPodReviews

使用以下命令列出所有PodSecurityPolicyPodReviews：

```bash
kubectl get podsecuritypolicypodreviews --all-namespaces
```

#### 41. 列出所有PodSecurityPolicyReviewTemplates

使用以下命令列出所有PodSecurityPolicyReviewTemplates：

```bash
kubectl get podsecuritypolicyreviewtemplates --all-namespaces
```

#### 42. 列出所有PodSecurityPolicySelfSubjectReviewTemplates

使用以下命令列出所有PodSecurityPolicySelfSubjectReviewTemplates：

```bash
kubectl get podsecuritypolicyselfsubjectreviewtemplates --all-namespaces
```

#### 43. 列出所有PodSecurityPolicySubjectReviewTemplates

使用以下命令列出所有PodSecurityPolicySubjectReviewTemplates：

```bash
kubectl get podsecuritypolicysubjectreviewtemplates --all-namespaces
```

#### 44. 列出所有PodSecurityPolicyPodReviewTemplates

使用以下命令列出所有PodSecurityPolicyPodReviewTemplates：

```bash
kubectl get podsecuritypolicypodreviewtemplates --all-namespaces
```

#### 45. 列出所有PodSecurityPolicyReviewTemplatePods

使用以下命令列出所有PodSecurityPolicyReviewTemplatePods：

```bash
kubectl get podsecuritypolicyreviewtemplatepods --all-namespaces
```

#### 46. 列出所有PodSecurityPolicySelfSubjectReviewTemplatePods

使用以下命令列出所有PodSecurityPolicySelfSubjectReviewTemplatePods：

```bash
kubectl get podsecuritypolicyselfsubjectreviewtemplatepods --all-namespaces
```

#### 47. 列出所有PodSecurityPolicySubjectReviewTemplatePods

使用以下命令列出所有PodSecurityPolicySubjectReviewTemplatePods：

```bash
kubectl get podsecuritypolicysubjectreviewtemplatepods --all-namespaces
```

#### 48. 列出所有PodSecurityPolicyPodReviewTemplatePods

使用以下命令列出所有PodSecurityPolicyPodReviewTemplatePods：

```bash
kubectl get podsecuritypolicypodreviewtemplatepods --all-namespaces
```

#### 49. 列出所有PodSecurityPolicyReviewTemplatePodStatuses

使用以下命令列出所有PodSecurityPolicyReviewTemplatePodStatuses：

```bash
kubectl get podsecuritypolicyreviewtemplatepodstatuses --all-namespaces
```

#### 50. 列出所有PodSecurityPolicySelfSubjectReviewTemplatePodStatuses

使用以下命令列出所有PodSecurityPolicySelfSubjectReviewTemplatePodStatuses：

```bash
kubectl get podsecuritypolicyselfsubjectreviewtemplatepodstatuses --all-namespaces
```

#### 51. 列出所有PodSecurityPolicySubjectReviewTemplatePodStatuses

使用以下命令列出所有PodSecurityPolicySubjectReviewTemplatePodStatuses：

```bash
kubectl get podsecuritypolicysubjectreviewtemplatepodstatuses --all-namespaces
```

#### 52. 列出所有PodSecurityPolicyPodReviewTemplatePodStatuses

使用以下命令列出所有PodSecurityPolicyPodReviewTemplatePodStatuses：

```bash
kubectl get podsecuritypolicypodreviewtemplatepodstatuses --all-namespaces
```

#### 53. 列出所有PodSecurityPolicyReviewTemplatePodTemplatePods

使用以下命令列出所有PodSecurityPolicyReviewTemplatePodTemplatePods：

```bash
kubectl get podsecuritypolicyreviewtemplatepodtemplatepods --all-namespaces
```

#### 54. 列出所有PodSecurityPolicySelfSubjectReviewTemplatePodTemplatePods

使用以下命令列出所有PodSecurityPolicySelfSubjectReviewTemplatePodTemplatePods：

```bash
kubectl get podsecuritypolicyselfsubjectreviewtemplatepodtemplatepods --all-namespaces
```

#### 55. 列出所有PodSecurityPolicySubjectReviewTemplatePodTemplatePods

使用以下命令列出所有PodSecurityPolicySubjectReviewTemplatePodTemplatePods：

```bash
kubectl get podsecuritypolicysubjectreviewtemplatepodtemplatepods --all-namespaces
```

#### 56. 列出所有PodSecurityPolicyPodReviewTemplatePodTemplatePods

使用以下命令列出所有PodSecurityPolicyPodReviewTemplatePodTemplatePods：

```bash
kubectl get podsecuritypolicypodreviewtemplatepodtemplatepods --all-namespaces
```

#### 57. 列出所有PodSecurityPolicyReviewTemplatePodTemplatePodStatuses

使用以下命令列出所有PodSecurityPolicyReviewTemplatePodTemplatePodStatuses：

```bash
kubectl get podsecuritypolicyreviewtemplatepodtemplatepodstatuses --all-namespaces
```

#### 58. 列出所有PodSecurityPolicySelfSubjectReviewTemplatePodTemplatePodStatuses

使用以下命令列出所有PodSecurityPolicySelfSubjectReviewTemplatePodTemplatePodStatuses：

```bash
kubectl get podsecuritypolicyselfsubjectreviewtemplatepodtemplatepodstatuses --all-namespaces
```

#### 59. 列出所有PodSecurityPolicySubjectReviewTemplatePodTemplatePodStatuses

使用以下命令列出所有PodSecurityPolicySubjectReviewTemplatePodTemplatePodStatuses：

```bash
kubectl get podsecuritypolicysubjectreviewtemplatepodtemplatepodstatuses --all-namespaces
```

#### 60. 列出所有PodSecurityPolicyPodReviewTemplatePodTemplatePodStatuses

使用以下命令列出所有PodSecurityPolicyPodReviewTemplatePodTemplatePodStatuses：

```bash
kubectl get podsecuritypolicypodreviewtemplatepodtemplatepodstatuses --all-namespaces
```

#### 61. 列出所有PodSecurityPolicyReviewTemplatePodTemplatePodTemplatePods

使用以下命令列出所有PodSecurityPolicyReviewTemplatePodTemplatePodTemplatePods：

```bash
kubectl get podsecuritypolicyreviewtemplatepodtemplatepodtemplatepods --all-namespaces
```

#### 62. 列出所有PodSecurityPolicySelfSubjectReviewTemplatePodTemplatePodTemplatePods

使用以下命令列出所有PodSecurityPolicySelfSubjectReviewTemplatePodTemplatePodTemplatePods：

```bash
kubectl get podsecuritypolicyselfsubjectreviewtemplatepodtemplatepodtemplatepods --all-namespaces
```

#### 63. 列出所有PodSecurityPolicySubjectReviewTemplatePodTemplatePodTemplatePods

使用以下命令列出所有PodSecurityPolicySubjectReviewTemplatePodTemplatePodTemplatePods：

```bash
kubectl get podsecuritypolicysubjectreviewtemplatepodtemplatepodtemplatepods --all-namespaces
```

#### 64. 列出所有PodSecurityPolicyPodReviewTemplatePodTemplatePodTemplatePods

使用以下命令列出所有PodSecurityPolicyPodReviewTemplatePodTemplatePodTemplatePods：

```bash
kubectl get podsecuritypolicypodreviewtemplatepodtemplatepodtemplatepods --all-namespaces
```

#### 65. 列出所有PodSecurityPolicyReviewTemplatePodTemplatePodTemplatePodStatuses

使用以下命令列出所有PodSecurityPolicyReviewTemplatePodTemplatePodTemplatePodStatuses：

```bash
kubectl get podsecuritypolicyreviewtemplatepodtemplatepodtemplatepodstatuses --all-namespaces
```

#### 66. 列出所有PodSecurityPolicySelfSubjectReviewTemplatePodTemplatePodTemplatePodStatuses

使用以下命令列出所有PodSecurityPolicySelfSubjectReviewTemplatePodTemplatePodTemplatePodStatuses：

```bash
kubectl get podsecuritypolicyselfsubjectreviewtemplatepodtemplatepodtemplatepodstatuses --all-namespaces
```

#### 67. 列出所有PodSecurityPolicySubjectReviewTemplatePodTemplatePodTemplatePodStatuses

使用以下命令列出所有PodSecurityPolicySubjectReviewTemplatePodTemplatePodTemplatePodStatuses：

```bash
kubectl get podsecuritypolicysubjectreviewtemplatepodtemplatepodtemplatepodstatuses --all-namespaces
```

#### 68. 列出所有PodSecurityPolicyPodReviewTemplatePodTemplatePodTemplatePodStatuses

使用以下命令列出所有PodSecurityPolicyPodReviewTemplatePodTemplatePodTemplatePodStatuses：

```bash
kubectl get podsecuritypolicypodreviewtemplatepodtemplatepodtemplatepodstatuses --all-namespaces
```

#### 69. 列出所有PodSecurityPolicyReviewTemplatePodTemplatePodTemplatePodTemplatePods

使用以下命令列出所有PodSecurityPolicyReviewTemplatePodTemplatePodTemplatePodTemplatePods：

```bash
kubectl get podsecuritypolicyreviewtemplatepodtemplatepodtemplatepodtemplatepods --all-namespaces
```

#### 70. 列出所有PodSecurityPolicySelfSubjectReviewTemplatePodTemplatePodTemplatePodTemplatePods

使用以下命令列出所有PodSecurityPolicySelfSubjectReviewTemplatePodTemplatePodTemplatePodTemplatePods：

```bash
kubectl get podsecuritypolicyselfsubjectreviewtemplatepodtemplatepodtemplatepodtemplatepods --all-namespaces
```

#### 71. 列出所有PodSecurityPolicySubjectReviewTemplatePodTemplatePodTemplatePodTemplatePods

使用以下命令列出所有PodSecurityPolicySubjectReviewTemplatePodTemplatePodTemplatePodTemplatePods：

```bash
kubectl get podsecuritypolicysubjectreviewtemplatepodtemplatepodtemplatepodtemplatepods --all-namespaces
```

#### 72. 列出所有PodSecurityPolicyPodReviewTemplatePodTemplatePodTemplatePodTemplatePods

使用以下命令列出所有PodSecurityPolicyPodReviewTemplatePodTemplatePodTemplatePodTemplatePods：

```bash
kubectl get podsecuritypolicypodreviewtemplatepodtemplatepodtemplatepodtemplatepods --all-namespaces
```

#### 73. 列出所有PodSecurityPolicyReviewTemplatePodTemplatePodTemplatePodTemplatePodStatuses

使用以下命令列出所有PodSecurityPolicyReviewTemplatePodTemplatePodTemplatePodTemplatePodStatuses：

```bash
kubectl get podsecuritypolicyreviewtemplatepodtemplatepodtemplatepodtemplatepodstatuses --all-namespaces
```

#### 74. 列出所有PodSecurityPolicySelfSubjectReviewTemplatePodTemplatePodTemplatePodTemplatePodStatuses

使用以下命令列出所有PodSecurityPolicySelfSubjectReviewTemplatePodTemplatePodTemplatePodTemplatePodStatuses：

```bash
kubectl get podsecuritypolicyselfsubjectreviewtemplatepodtemplatepodtemplatepodtemplatepodstatuses --all-namespaces
```

#### 75. 列出所有PodSecurityPolicySubjectReviewTemplatePodTemplatePodTemplatePodTemplatePodStatuses

使用以下命令列出所有PodSecurityPolicySubjectReviewTemplatePodTemplatePodTemplatePodTemplatePodStatuses：

```bash
kubectl get podsecuritypolicysubjectreviewtemplatepodtemplatepodtemplatepodtemplatepodstatuses --all-namespaces
```

#### 76. 列出所有PodSecurityPolicyPodReviewTemplatePodTemplatePodTemplatePodTemplatePodStatuses

使用以下命令列出所有PodSecurityPolicyPodReviewTemplatePodTemplatePodTemplatePodTemplatePodStatuses：

```bash
kubectl get podsecuritypolicypodreviewtemplatepodtemplatepodtemplatepodtemplatepodstatuses --all-namespaces
```

#### 77. 列出所有PodSecurityPolicyReviewTemplatePodTemplatePodTemplatePodTemplatePodTemplatePods

使用以下命令列出所有PodSecurityPolicyReviewTemplatePodTemplatePodTemplatePodTemplatePodTemplatePods：

```bash
kubectl get podsecuritypolicyreviewtemplatepodtemplatepodtemplatepodtemplatepodtemplatepods --all-namespaces
```

#### 78. 列出所有PodSecurityPolicySelfSubjectReviewTemplatePodTemplatePodTemplatePodTemplatePodTemplatePods

使用以下命令
```bash
# Get clusters
doctl kubernetes cluster list

# Get node pool of cluster (number of nodes)
doctl kubernetes cluster node-pool list <cluster-id>

# Get DO resources used by the cluster
doctl kubernetes cluster list-associated-resources <cluster-id>
```
<details>

<summary><strong>支持HackTricks并获得好处！</strong></summary>

* 如果您想看到您的**公司在HackTricks中进行广告**，或者如果您想访问**PEASS的最新版本或下载PDF格式的HackTricks**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获得[**官方PEASS和HackTricks周边产品**](https://peass.creator-spring.com)
* 发现[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们的独家[**NFTs**](https://opensea.io/collection/the-peass-family)收藏品
* **加入** 💬 [**Discord群组**](https://discord.gg/hRep4RUj7f) 或者 [**Telegram群组**](https://t.me/peass) 或者 **关注**我在**Twitter**上的账号 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* 通过向[**HackTricks**](https://github.com/carlospolop/hacktricks)和[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库提交PR来**分享您的黑客技巧**。

</details>
