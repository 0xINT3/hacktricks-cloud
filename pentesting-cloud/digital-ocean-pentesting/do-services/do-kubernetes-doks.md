# DO - Kubernetes (DOKS)

<details>

<summary><strong>ハックトリックをサポートして特典を得る！</strong></summary>

* **HackTricksで会社の広告を見たい**場合や、**PEASSの最新バージョンをダウンロードしたい**場合は、[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**公式PEASS＆HackTricksグッズ**](https://peass.creator-spring.com)を手に入れる
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を見つけて、独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションを発見する
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**telegramグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)を**フォローする**。
* **ハッキングのトリックを共有するには、PRを** [**HackTricks**](https://github.com/carlospolop/hacktricks) **および** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **のGitHubリポジトリに提出してください。**

</details>

## 基本情報

DigitalOcean Kubernetes（通称「DOKS」）は、DigitalOceanが提供するマネージドKubernetesサービスです。これにより、自分自身で基盤のインフラストラクチャを設定および維持する必要なく、DigitalOcean上でKubernetesクラスタを**デプロイおよび管理**することができます。

クラスタの作成と管理のためのユーザーフレンドリーなインターフェースを提供し、Load BalancersやBlock Storageなどの他のDigitalOceanサービスと統合されています。また、自動更新とアップグレード、DigitalOceanのKubernetes専門家による24/7のサポートなどの機能も備えています。

### 接続
```bash
# Generate kubeconfig from doctl
doctl kubernetes cluster kubeconfig save <cluster-id>

# Use a kubeconfig file that you can download from the console
kubectl --kubeconfig=/<pathtodirectory>/k8s-1-25-4-do-0-ams3-1670939911166-kubeconfig.yaml get nodes
```
### 列挙

#### 1. クラスターの情報収集

- `kubectl`コマンドを使用して、クラスターの情報を収集できます。

```bash
kubectl cluster-info
```

- クラスターのノードを表示するには、次のコマンドを使用します。

```bash
kubectl get nodes
```

- クラスター内のすべてのネームスペースを表示するには、次のコマンドを使用します。

```bash
kubectl get namespaces
```

#### 2. ポッドの情報収集

- クラスター内のすべてのポッドを表示するには、次のコマンドを使用します。

```bash
kubectl get pods --all-namespaces
```

- 特定のネームスペース内のポッドを表示するには、次のコマンドを使用します。

```bash
kubectl get pods -n <namespace>
```

#### 3. サービスの情報収集

- クラスター内のすべてのサービスを表示するには、次のコマンドを使用します。

```bash
kubectl get services --all-namespaces
```

- 特定のネームスペース内のサービスを表示するには、次のコマンドを使用します。

```bash
kubectl get services -n <namespace>
```

#### 4. イングレスの情報収集

- クラスター内のすべてのイングレスを表示するには、次のコマンドを使用します。

```bash
kubectl get ingresses --all-namespaces
```

- 特定のネームスペース内のイングレスを表示するには、次のコマンドを使用します。

```bash
kubectl get ingresses -n <namespace>
```

#### 5. 構成マップの情報収集

- クラスターの構成マップを表示するには、次のコマンドを使用します。

```bash
kubectl get configmaps --all-namespaces
```

- 特定のネームスペース内の構成マップを表示するには、次のコマンドを使用します。

```bash
kubectl get configmaps -n <namespace>
```

#### 6. シークレットの情報収集

- クラスター内のすべてのシークレットを表示するには、次のコマンドを使用します。

```bash
kubectl get secrets --all-namespaces
```

- 特定のネームスペース内のシークレットを表示するには、次のコマンドを使用します。

```bash
kubectl get secrets -n <namespace>
```

#### 7. ストレージクラスの情報収集

- クラスター内のすべてのストレージクラスを表示するには、次のコマンドを使用します。

```bash
kubectl get storageclasses --all-namespaces
```

- 特定のネームスペース内のストレージクラスを表示するには、次のコマンドを使用します。

```bash
kubectl get storageclasses -n <namespace>
```

#### 8. ノードの情報収集

- クラスター内のすべてのノードの詳細情報を表示するには、次のコマンドを使用します。

```bash
kubectl describe nodes
```

- 特定のノードの詳細情報を表示するには、次のコマンドを使用します。

```bash
kubectl describe node <node-name>
```

#### 9. ロールとロールバインディングの情報収集

- クラスター内のすべてのロールを表示するには、次のコマンドを使用します。

```bash
kubectl get roles --all-namespaces
```

- 特定のネームスペース内のロールを表示するには、次のコマンドを使用します。

```bash
kubectl get roles -n <namespace>
```

- クラスター内のすべてのロールバインディングを表示するには、次のコマンドを使用します。

```bash
kubectl get rolebindings --all-namespaces
```

- 特定のネームスペース内のロールバインディングを表示するには、次のコマンドを使用します。

```bash
kubectl get rolebindings -n <namespace>
```
```bash
# Get clusters
doctl kubernetes cluster list

# Get node pool of cluster (number of nodes)
doctl kubernetes cluster node-pool list <cluster-id>

# Get DO resources used by the cluster
doctl kubernetes cluster list-associated-resources <cluster-id>
```
<details>

<summary><strong>ハックトリックをサポートして特典を得る！</strong></summary>

* **会社の広告をハックトリックで見たい**場合や、**最新バージョンのPEASSを入手したい**場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**公式PEASS＆HackTricksグッズ**](https://peass.creator-spring.com)を手に入れる
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を見つけて、独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションを発見する
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**Telegramグループ**](https://t.me/peass)に参加するか、**Twitter**で私をフォローする 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **ハッキングのトリックを共有するために、PRを** [**HackTricks**](https://github.com/carlospolop/hacktricks) **および** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **のGitHubリポジトリに提出してください。**

</details>
