# DO - Kubernetes (DOKS)

<details>

<summary><strong>Μάθετε το χάκινγκ του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**The PEASS Family**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>

## Βασικές Πληροφορίες

### DigitalOcean Kubernetes (DOKS)

Το DOKS είναι ένα υπηρεσία διαχειριζόμενου Kubernetes που προσφέρεται από την DigitalOcean. Η υπηρεσία σχεδιάστηκε για να **αναπτύσσει και να διαχειρίζεται συστάδες Kubernetes στην πλατφόρμα της DigitalOcean**. Τα κύρια χαρακτηριστικά του DOKS περιλαμβάνουν:

1. **Ευκολία Διαχείρισης**: Απαλείφεται η ανάγκη για εγκατάσταση και συντήρηση της υποκείμενης υποδομής, απλοποιώντας τη διαχείριση των συστάδων Kubernetes.
2. **Φιλικό προς τον Χρήστη Περιβάλλον**: Παρέχει μια ευανάγνωστη διεπαφή που διευκολύνει τη δημιουργία και τη διαχείριση των συστάδων.
3. **Ενσωμάτωση με τις Υπηρεσίες της DigitalOcean**: Ενσωματώνεται άριστα με άλλες υπηρεσίες που παρέχονται από την DigitalOcean, όπως Ισορροπητές Φορτίου και Αποθήκευση Μπλοκ.
4. **Αυτόματες Ενημερώσεις και Αναβαθμίσεις**: Η υπηρεσία περιλαμβάνει την αυτόματη ενημέρωση και αναβάθμιση των συστάδων για να εξασφαλίζεται η ενημέρωσή τους. 


### Σύνδεση
```bash
# Generate kubeconfig from doctl
doctl kubernetes cluster kubeconfig save <cluster-id>

# Use a kubeconfig file that you can download from the console
kubectl --kubeconfig=/<pathtodirectory>/k8s-1-25-4-do-0-ams3-1670939911166-kubeconfig.yaml get nodes
```
### Απαρίθμηση

#### Εύρεση Υπηρεσιών Kubernetes

Για να ξεκινήσετε την απαρίθμηση των υπηρεσιών Kubernetes στο DigitalOcean Kubernetes (DOKS), μπορείτε να χρησιμοποιήσετε το εργαλείο `kube-hunter`. Αυτό το εργαλείο εκτελεί αυτόματες επιθέσεις κατά των υπηρεσιών Kubernetes για να εντοπίσει πιθανές ευπάθειες.

Για να εγκαταστήσετε το `kube-hunter`, ακολουθήστε τα παρακάτω βήματα:

1. Κατεβάστε το εργαλείο από το αποθετήριο του GitHub:

```bash
wget https://raw.githubusercontent.com/aquasecurity/kube-hunter/master/kube-hunter.py
```

2. Εκτελέστε το εργαλείο:

```bash
python3 kube-hunter.py --remote
```

Το `kube-hunter` θα εκτελέσει αυτόματα επιθέσεις κατά των υπηρεσιών Kubernetes και θα εμφανίσει τυχόν ευπάθειες που εντοπίστηκαν.

#### Εύρεση Ευπαθειών Υπηρεσιών

Για να εντοπίσετε ευπάθειες στις υπηρεσίες που εκτελούνται στο DigitalOcean Kubernetes (DOKS), μπορείτε να χρησιμοποιήσετε το εργαλείο `kube-bench`. Αυτό το εργαλείο εκτελεί αυτόματες επιθέσεις κατά των υπηρεσιών Kubernetes για να εντοπίσει πιθανές ευπάθειες.

Για να εγκαταστήσετε το `kube-bench`, ακολουθήστε τα παρακάτω βήματα:

1. Κατεβάστε το εργαλείο από το αποθετήριο του GitHub:

```bash
wget https://github.com/aquasecurity/kube-bench/releases/download/v0.4.0/kube-bench_0.4.0_linux_amd64.tar.gz
```

2. Αποσυμπιέστε το αρχείο:

```bash
tar -xvf kube-bench_0.4.0_linux_amd64.tar.gz
```

3. Εκτελέστε το εργαλείο:

```bash
./kube-bench
```

Το `kube-bench` θα εκτελέσει αυτόματα επιθέσεις κατά των υπηρεσιών Kubernetes και θα εμφανίσει τυχόν ευπάθειες που εντοπίστηκαν.
```bash
# Get clusters
doctl kubernetes cluster list

# Get node pool of cluster (number of nodes)
doctl kubernetes cluster node-pool list <cluster-id>

# Get DO resources used by the cluster
doctl kubernetes cluster list-associated-resources <cluster-id>
```
<details>

<summary><strong>Μάθετε το hacking του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα hacking tricks σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>
