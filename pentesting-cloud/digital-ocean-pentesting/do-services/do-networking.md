# DO - ネットワーキング

<details>

<summary><strong>Support HackTricks and get benefits!</strong></summary>

* **HackTricksをサポートし、特典を受け取りましょう！**
* **会社をHackTricksで宣伝したい場合や、最新バージョンのPEASSを入手したい場合、またはHackTricksをPDFでダウンロードしたい場合は、[SUBSCRIPTION PLANS](https://github.com/sponsors/carlospolop)をご確認ください！**
* **公式のPEASS＆HackTricksグッズを入手しましょう！**
* **[The PEASS Family](https://opensea.io/collection/the-peass-family)を見つけましょう。これは、私たちの独占的なNFTのコレクションです。**
* **[Discordグループ](https://discord.gg/hRep4RUj7f)または[Telegramグループ](https://t.me/peass)に参加するか、Twitterで私をフォローしましょう。** 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)
* **ハッキングのトリックを共有するために、HackTricksとHackTricks CloudのGitHubリポジトリにPRを提出してください。**

</details>

### ドメイン
```bash
doctl compute domain list
doctl compute domain records list <domain>
# You can also create records
```
### 予約済みIPアドレス

DigitalOceanでは、特定のIPアドレスが予約されており、一般的に使用されているIPアドレスとは異なる目的で使用されています。これらの予約済みIPアドレスは、特定のサービスや機能に関連しています。以下にいくつかの一般的な予約済みIPアドレスの例を示します。

- `169.254.169.254`: メタデータサービスに関連しており、Dropletのメタデータにアクセスするために使用されます。
- `240.0.0.0/4`: この範囲のIPアドレスは、マルチキャストアドレスとして予約されています。
- `127.0.0.0/8`: ループバックアドレスとして予約されており、ローカルホストに接続するために使用されます。

これらの予約済みIPアドレスは、通常のネットワーキング活動やペネトレーションテスト中には使用されません。ただし、予約済みIPアドレスに関連する脆弱性や攻撃手法が存在する場合もありますので、注意が必要です。
```bash
doctl compute reserved-ip list
doctl compute reserved-ip-action unassign <ip>
```
### ロードバランサー

A load balancer is a device or software that distributes incoming network traffic across multiple servers to ensure efficient utilization of resources and improve the overall performance and availability of a system. In the context of DigitalOcean, load balancers are used to distribute traffic across Droplets within a specific region.

Load balancers can be configured to use different algorithms to distribute traffic, such as round-robin, least connections, or IP hash. They can also perform health checks on the backend servers to ensure that only healthy servers receive traffic.

DigitalOcean load balancers support both HTTP and TCP/UDP protocols, allowing them to balance traffic for web applications as well as other network services.

To set up a load balancer in DigitalOcean, you need to create a load balancer and configure its forwarding rules, health checks, and SSL termination if required. Once the load balancer is set up, you can add backend Droplets to it, which will receive traffic based on the configured algorithm.

Load balancers can be a valuable tool in scaling and securing your applications by distributing traffic and providing redundancy.
```bash
doctl compute load-balancer list
doctl compute load-balancer remove-droplets <id> --droplet-ids 12,33
doctl compute load-balancer add-forwarding-rules <id> --forwarding-rules entry_protocol:tcp,entry_port:3306,...
```
### VPC

VPC（Virtual Private Cloud）は、クラウド環境内で仮想的なプライベートネットワークを作成するためのサービスです。VPCを使用することで、ユーザーは独自のネットワーク空間を作成し、その中で仮想マシンやリソースをセキュアに運用することができます。

VPCはCIDR（Classless Inter-Domain Routing）ブロックを使用してネットワークを定義します。CIDRブロックは、ユーザーが使用するIPアドレス範囲を指定するために使用されます。VPC内の各サブネットは、CIDRブロック内のIPアドレスを割り当てられます。

VPCは、セキュリティグループやネットワークACL（Access Control List）などのセキュリティ機能を提供します。これにより、ユーザーはネットワークトラフィックの制御やセキュリティポリシーの適用が可能となります。

また、VPCピアリングを使用することで、異なるVPC間でのネットワーク接続を確立することもできます。これにより、複数のVPC間でのリソースの共有や通信が可能となります。

VPCは、クラウド環境におけるネットワーキングの基盤となる重要な要素であり、セキュアなネットワーク環境を構築するために積極的に活用されています。
```
doctl vpcs list
```
### ファイアウォール

{% hint style="danger" %}
デフォルトでは、**ドロップレットはファイアウォールなしで作成されます**（AWSやGCPなどの他のクラウドとは異なります）。したがって、Droplet（VM）のポートをDOが保護する場合は、**作成してアタッチする必要があります**。
{% endhint %}
```bash
doctl compute firewall list
doctl compute firewall list-by-droplet <droplet-id>
doctl compute firewall remove-droplets <fw-id> --droplet-ids <droplet-id>
```
<details>

<summary><strong>Support HackTricksと特典を受け取る！</strong></summary>

* **HackTricksで会社を宣伝したい**場合や、**最新バージョンのPEASSを入手したい**場合は、[**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)をご確認ください！
* [**公式PEASS＆HackTricksグッズ**](https://peass.creator-spring.com)を手に入れましょう
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を見つけて、独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションを楽しみましょう
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**Telegramグループ**](https://t.me/peass)に参加するか、**Twitter**で私をフォローしましょう 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **ハッキングのトリックを共有するには、**[**HackTricks**](https://github.com/carlospolop/hacktricks)と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のGitHubリポジトリにPRを提出してください。

</details>
