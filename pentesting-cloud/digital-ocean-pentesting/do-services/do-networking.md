# DO - Sieciowanie

<details>

<summary><strong>Naucz się hakować AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* Jeśli chcesz zobaczyć swoją **firmę reklamowaną w HackTricks** lub **pobrać HackTricks w formacie PDF**, sprawdź [**PLAN SUBSKRYPCJI**](https://github.com/sponsors/carlospolop)!
* Zdobądź [**oficjalne gadżety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**Rodzinę PEASS**](https://opensea.io/collection/the-peass-family), naszą kolekcję ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **Dołącz do** 💬 [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **śledź** nas na **Twitterze** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podziel się swoimi sztuczkami hakerskimi, przesyłając PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriów github.

</details>

### Domeny
```bash
doctl compute domain list
doctl compute domain records list <domain>
# You can also create records
```
### Zarezerwowane adresy IP

W usłudze DigitalOcean istnieje kilka zarezerwowanych adresów IP, które mają specjalne znaczenie i nie mogą być używane przez użytkowników. Poniżej przedstawiamy listę tych zarezerwowanych adresów IP:

- `127.0.0.1` - Adres loopback, który zawsze odwołuje się do lokalnego komputera.
- `0.0.0.0` - Adres, który oznacza wszystkie dostępne interfejsy sieciowe na danym urządzeniu.
- `255.255.255.255` - Adres rozgłoszeniowy, który jest używany do wysyłania pakietów do wszystkich urządzeń w sieci lokalnej.
- `10.0.0.0` do `10.255.255.255` - Adresy prywatne w klasie A, które są używane w sieciach prywatnych.
- `172.16.0.0` do `172.31.255.255` - Adresy prywatne w klasie B, które są używane w sieciach prywatnych.
- `192.168.0.0` do `192.168.255.255` - Adresy prywatne w klasie C, które są używane w sieciach prywatnych.

Należy pamiętać, że te zarezerwowane adresy IP nie mogą być używane do komunikacji z zewnętrznymi sieciami, ponieważ są one zarezerwowane dla specjalnych celów.
```bash
doctl compute reserved-ip list
doctl compute reserved-ip-action unassign <ip>
```
### Load Balancery

Load Balancer to mechanizm używany w chmurze do równoważenia obciążenia ruchu sieciowego między różnymi serwerami. Głównym celem Load Balancera jest zapewnienie wydajności, niezawodności i skalowalności usług sieciowych.

#### Typy Load Balancerów

1. **Load Balancer HTTP/HTTPS**: Ten typ Load Balancera działa na poziomie aplikacji i równoważy obciążenie ruchu HTTP/HTTPS między serwerami. Może również obsługiwać funkcje takie jak SSL offloading, sesje trwałe i przekierowania.

2. **Load Balancer TCP**: Ten typ Load Balancera działa na poziomie transportu i równoważy obciążenie ruchu TCP między serwerami. Jest używany do równoważenia obciążenia dla protokołów, takich jak SMTP, FTP i SSH.

3. **Load Balancer UDP**: Ten typ Load Balancera działa na poziomie transportu i równoważy obciążenie ruchu UDP między serwerami. Jest używany do równoważenia obciążenia dla protokołów, takich jak DNS i VoIP.

#### Konfiguracja Load Balancera

Aby skonfigurować Load Balancer w chmurze, należy zdefiniować zestaw reguł, które określają, jak równoważyć obciążenie ruchu. Reguły mogą obejmować takie czynniki jak algorytmy równoważenia obciążenia, zdrowie serwera, priorytety i sesje trwałe.

#### Zalety Load Balancera

- **Równoważenie obciążenia**: Load Balancer równoważy obciążenie ruchu sieciowego między serwerami, co zapewnia wydajność i skalowalność usług.

- **Wydajność**: Load Balancer może obsługiwać duże ilości ruchu sieciowego, co przekłada się na wydajność aplikacji.

- **Niezawodność**: W przypadku awarii jednego serwera, Load Balancer automatycznie przekierowuje ruch na inne działające serwery, co minimalizuje przestój usług.

- **Elastyczność**: Load Balancer umożliwia dodawanie i usuwanie serwerów w czasie rzeczywistym, co umożliwia łatwe skalowanie infrastruktury.

#### Podsumowanie

Load Balancer to kluczowy element infrastruktury chmurowej, który zapewnia równoważenie obciążenia ruchu sieciowego między serwerami. Dzięki temu usługi są bardziej wydajne, niezawodne i skalowalne. Konfiguracja Load Balancera obejmuje definiowanie reguł, które określają sposób równoważenia obciążenia.
```bash
doctl compute load-balancer list
doctl compute load-balancer remove-droplets <id> --droplet-ids 12,33
doctl compute load-balancer add-forwarding-rules <id> --forwarding-rules entry_protocol:tcp,entry_port:3306,...
```
### VPC

VPC (Virtual Private Cloud) to usługa oferowana przez DigitalOcean, która umożliwia tworzenie izolowanych sieci wirtualnych w chmurze. VPC umożliwia kontrolę nad siecią, zapewniając bezpieczne i prywatne środowisko dla Twoich zasobów w chmurze.

#### Tworzenie VPC

Aby utworzyć VPC, należy przejść do panelu sterowania DigitalOcean i wybrać opcję "Create VPC". Następnie należy podać nazwę VPC, wybrać region, w którym ma być utworzone oraz określić adresy IP dla podsieci.

#### Podsieci

Po utworzeniu VPC, można tworzyć podsieci, które będą działać w ramach tej sieci wirtualnej. Podsieci umożliwiają segmentację zasobów i kontrolę dostępu do nich. Można również skonfigurować routery, aby umożliwić komunikację między różnymi podsieciami.

#### Firewall

DigitalOcean oferuje również usługę firewalla, która umożliwia kontrolę ruchu sieciowego do i z VPC. Można skonfigurować reguły firewalla, aby zezwalały lub blokowały określone połączenia sieciowe.

#### VPN

DigitalOcean umożliwia również konfigurację VPN (Virtual Private Network) w ramach VPC. VPN umożliwia bezpieczne połączenie między lokalnymi sieciami a VPC w chmurze.

#### Monitoring

DigitalOcean zapewnia narzędzia do monitorowania ruchu sieciowego w ramach VPC. Można śledzić wykorzystanie zasobów sieciowych, monitorować połączenia i analizować logi sieciowe.

#### Podsumowanie

VPC w DigitalOcean to usługa umożliwiająca tworzenie izolowanych sieci wirtualnych w chmurze. Daje to kontrolę nad siecią, zapewniając bezpieczne i prywatne środowisko dla Twoich zasobów w chmurze. Możesz tworzyć podsieci, skonfigurować firewall, VPN i monitorować ruch sieciowy w ramach VPC.
```
doctl vpcs list
```
### Zapora ogniowa

{% hint style="danger" %}
Domyślnie **droplety są tworzone BEZ ZAPORY OGNIOWEJ** (w przeciwieństwie do innych chmur, takich jak AWS czy GCP). Jeśli chcesz, aby DO chroniło porty dropletu (VM), musisz ją **utworzyć i dołączyć**.
{% endhint %}
```bash
doctl compute firewall list
doctl compute firewall list-by-droplet <droplet-id>
doctl compute firewall remove-droplets <fw-id> --droplet-ids <droplet-id>
```
<details>

<summary><strong>Naucz się hakować AWS od zera do bohatera z</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Inne sposoby wsparcia HackTricks:

* Jeśli chcesz zobaczyć swoją **firmę reklamowaną w HackTricks** lub **pobrać HackTricks w formacie PDF**, sprawdź [**PLAN SUBSKRYPCJI**](https://github.com/sponsors/carlospolop)!
* Zdobądź [**oficjalne gadżety PEASS & HackTricks**](https://peass.creator-spring.com)
* Odkryj [**Rodzinę PEASS**](https://opensea.io/collection/the-peass-family), naszą kolekcję ekskluzywnych [**NFT**](https://opensea.io/collection/the-peass-family)
* **Dołącz do** 💬 [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **śledź** nas na **Twitterze** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Podziel się swoimi sztuczkami hakerskimi, przesyłając PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriów github.

</details>
