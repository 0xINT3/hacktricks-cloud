# DO - Informa√ß√µes B√°sicas

<details>

<summary><strong>Aprenda hacking no AWS do zero ao her√≥i com</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Outras formas de apoiar o HackTricks:

* Se voc√™ quer ver sua **empresa anunciada no HackTricks** ou **baixar o HackTricks em PDF**, confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Adquira o [**material oficial PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubra [**A Fam√≠lia PEASS**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **Junte-se ao grupo** üí¨ [**Discord**](https://discord.gg/hRep4RUj7f) ou ao grupo [**telegram**](https://t.me/peass) ou **siga-me** no **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Compartilhe suas t√©cnicas de hacking enviando PRs para os reposit√≥rios github** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

## Informa√ß√µes B√°sicas

DigitalOcean √© uma **plataforma de computa√ß√£o em nuvem que oferece aos usu√°rios uma variedade de servi√ßos**, incluindo servidores privados virtuais (VPS) e outros recursos para construir, implantar e gerenciar aplica√ß√µes. **Os servi√ßos da DigitalOcean s√£o projetados para serem simples e f√°ceis de usar**, tornando-os **populares entre desenvolvedores e pequenas empresas**.

Algumas das principais caracter√≠sticas da DigitalOcean incluem:

* **Servidores privados virtuais (VPS)**: DigitalOcean fornece VPS que podem ser usados para hospedar sites e aplica√ß√µes. Esses VPS s√£o conhecidos por sua simplicidade e facilidade de uso, e podem ser rapidamente e facilmente implantados usando uma variedade de "droplets" pr√©-constru√≠dos ou configura√ß√µes personalizadas.
* **Armazenamento**: DigitalOcean oferece uma gama de op√ß√µes de armazenamento, incluindo armazenamento de objetos, armazenamento em bloco e bancos de dados gerenciados, que podem ser usados para armazenar e gerenciar dados para sites e aplica√ß√µes.
* **Ferramentas de desenvolvimento e implanta√ß√£o**: DigitalOcean fornece uma gama de ferramentas que podem ser usadas para construir, implantar e gerenciar aplica√ß√µes, incluindo APIs e droplets pr√©-constru√≠dos.
* **Seguran√ßa**: DigitalOcean coloca um forte √™nfase em seguran√ßa e oferece uma gama de ferramentas e recursos para ajudar os usu√°rios a manter seus dados e aplica√ß√µes seguros. Isso inclui criptografia, backups e outras medidas de seguran√ßa.

No geral, DigitalOcean √© uma plataforma de computa√ß√£o em nuvem que fornece aos usu√°rios as ferramentas e recursos necess√°rios para construir, implantar e gerenciar aplica√ß√µes na nuvem. Seus servi√ßos s√£o projetados para serem simples e f√°ceis de usar, tornando-os populares entre desenvolvedores e pequenas empresas.

### Principais Diferen√ßas em rela√ß√£o ao AWS

Uma das principais diferen√ßas entre DigitalOcean e AWS √© a **variedade de servi√ßos que oferecem**. **DigitalOcean foca em fornecer servidores privados virtuais (VPS) simples** e f√°ceis de usar, armazenamento e ferramentas de desenvolvimento e implanta√ß√£o. **AWS**, por outro lado, oferece uma **gama muito mais ampla de servi√ßos**, incluindo VPS, armazenamento, bancos de dados, aprendizado de m√°quina, an√°lise e muitos outros servi√ßos. Isso significa que AWS √© mais adequado para aplica√ß√µes complexas de n√≠vel empresarial, enquanto DigitalOcean √© mais adequado para pequenas empresas e desenvolvedores.

Outra diferen√ßa chave entre as duas plataformas √© a **estrutura de pre√ßos**. **Os pre√ßos da DigitalOcean s√£o geralmente mais diretos e f√°ceis** de entender do que AWS, com uma gama de planos de pre√ßos baseados no n√∫mero de droplets e outros recursos utilizados. AWS, por outro lado, tem uma estrutura de pre√ßos mais complexa que √© baseada em uma variedade de fatores, incluindo o tipo e a quantidade de recursos utilizados. Isso pode tornar mais dif√≠cil prever custos ao usar AWS.

## Hierarquia

### Usu√°rio

Um usu√°rio √© o que voc√™ espera, um usu√°rio. Ele pode **criar Equipes** e **ser membro de diferentes equipes.**

### **Equipe**

Uma equipe √© um grupo de **usu√°rios**. Quando um usu√°rio cria uma equipe, ele tem o **papel de propriet√°rio nessa equipe** e inicialmente **configura as informa√ß√µes de cobran√ßa**. **Outros** usu√°rios podem ent√£o ser **convidados** para a equipe.

Dentro da equipe, pode haver v√°rios **projetos**. Um projeto √© apenas um **conjunto de servi√ßos em execu√ß√£o**. Pode ser usado para **separar diferentes est√°gios de infraestrutura**, como prod, staging, dev...

### Projeto

Como explicado, um projeto √© apenas um cont√™iner para todos os **servi√ßos** (droplets, espa√ßos, bancos de dados, kubernetes...) **funcionando juntos dentro dele**.\
Um projeto da Digital Ocean √© muito semelhante a um projeto do GCP sem IAM.

## Permiss√µes

### Equipe

Basicamente todos os membros de uma equipe t√™m **acesso aos recursos da DO em todos os projetos criados dentro da equipe (com mais ou menos privil√©gios).**

### Fun√ß√µes

Cada **usu√°rio dentro de uma equipe** pode ter **uma** das seguintes tr√™s **fun√ß√µes** dentro dela:

| Fun√ß√£o       | Recursos Compartilhados | Informa√ß√µes de Cobran√ßa | Configura√ß√µes da Equipe |
| ---------- | ---------------- | ------------------- | ------------- |
| **Propriet√°rio**  | Acesso total      | Acesso total         | Acesso total   |
| **Cobrador** | Sem acesso        | Acesso total         | Sem acesso     |
| **Membro** | Acesso total      | Sem acesso           | Sem acesso     |

**Propriet√°rio** e **membro podem listar os usu√°rios** e verificar seus **pap√©is** (cobrador n√£o pode).

## Acesso

### Nome de usu√°rio + senha (MFA)

Como na maioria das plataformas, para acessar a GUI, voc√™ pode usar um conjunto de **nome de usu√°rio e senha v√°lidos** para **acessar** os **recursos** da nuvem. Uma vez logado, voc√™ pode ver **todas as equipes das quais faz parte** em [https://cloud.digitalocean.com/account/profile](https://cloud.digitalocean.com/account/profile).\
E voc√™ pode ver toda a sua atividade em [https://cloud.digitalocean.com/account/activity](https://cloud.digitalocean.com/account/activity).

**MFA** pode ser **ativado** em um usu√°rio e **exigido** para todos os usu√°rios em uma **equipe** para acessar a equipe.

### Chaves de API

Para usar a API, os usu√°rios podem **gerar chaves de API**. Estas sempre vir√£o com permiss√µes de Leitura, mas as permiss√µes de Escrita s√£o **opcionais**.\
As chaves de API se parecem com isso:
```
dop_v1_1946a92309d6240274519275875bb3cb03c1695f60d47eaa1532916502361836
```
A ferramenta de linha de comando √© [**doctl**](https://github.com/digitalocean/doctl#installing-doctl). Inicialize-a (voc√™ precisa de um token) com:
```bash
doctl auth init # Asks for the token
doctl auth init --context my-context # Login with a different token
doctl auth list # List accounts
```
Por padr√£o, este token ser√° escrito em texto claro no Mac em `/Users/<username>/Library/Application Support/doctl/config.yaml`.

### Chaves de acesso aos Spaces

Estas s√£o chaves que d√£o **acesso aos Spaces** (como o S3 na AWS ou Storage no GCP).

Elas s√£o compostas por um **nome**, um **keyid** e um **segredo**. Um exemplo poderia ser:
```
Name: key-example
Keyid: DO00ZW4FABSGZHAABGFX
Secret: 2JJ0CcQZ56qeFzAJ5GFUeeR4Dckarsh6EQSLm87MKlM
```
### Aplicativo OAuth

Aplicativos OAuth podem ser concedidos **acesso ao Digital Ocean**.

√â poss√≠vel **criar aplicativos OAuth** em [https://cloud.digitalocean.com/account/api/applications](https://cloud.digitalocean.com/account/api/applications) e verificar todos os **aplicativos OAuth permitidos** em [https://cloud.digitalocean.com/account/api/access](https://cloud.digitalocean.com/account/api/access).

### Chaves SSH

√â poss√≠vel adicionar **chaves SSH a um Time do Digital Ocean** a partir do **console** em [https://cloud.digitalocean.com/account/security](https://cloud.digitalocean.com/account/security).

Dessa forma, se voc√™ criar um **novo droplet, a chave SSH ser√° configurada** nele e voc√™ poder√° **fazer login via SSH** sem senha (observe que [chaves SSH rec√©m-uploaded n√£o s√£o configuradas em droplets j√° existentes por motivos de seguran√ßa](https://docs.digitalocean.com/products/droplets/how-to/add-ssh-keys/to-existing-droplet/)).

### Token de Autentica√ß√£o de Fun√ß√µes

A maneira **de acionar uma fun√ß√£o via API REST** (sempre ativada, √© o m√©todo que o cli usa) √© acionando uma solicita√ß√£o com um **token de autentica√ß√£o** como:
```bash
curl -X POST "https://faas-lon1-129376a7.doserverless.co/api/v1/namespaces/fn-c100c012-65bf-4040-1230-2183764b7c23/actions/functionname?blocking=true&result=true" \
-H "Content-Type: application/json" \
-H "Authorization: Basic MGU0NTczZGQtNjNiYS00MjZlLWI2YjctODk0N2MyYTA2NGQ4OkhwVEllQ2t4djNZN2x6YjJiRmFGc1FERXBySVlWa1lEbUxtRE1aRTludXA1UUNlU2VpV0ZGNjNqWnVhYVdrTFg="
```
## Logs

### Logs de usu√°rio

Os **logs de um usu√°rio** podem ser encontrados em [**https://cloud.digitalocean.com/account/activity**](https://cloud.digitalocean.com/account/activity)

### Logs de equipe

Os **logs de uma equipe** podem ser encontrados em [**https://cloud.digitalocean.com/account/security**](https://cloud.digitalocean.com/account/security)

## Refer√™ncias

* [https://docs.digitalocean.com/products/teams/how-to/manage-membership/](https://docs.digitalocean.com/products/teams/how-to/manage-membership/)

<details>

<summary><strong>Aprenda AWS hacking do zero ao her√≥i com</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Outras formas de apoiar o HackTricks:

* Se voc√™ quer ver sua **empresa anunciada no HackTricks** ou **baixar o HackTricks em PDF**, confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Adquira o [**material oficial PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubra [**A Fam√≠lia PEASS**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **Junte-se ao grupo** üí¨ [**Discord**](https://discord.gg/hRep4RUj7f) ou ao grupo [**telegram**](https://t.me/peass) ou **siga-me** no **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Compartilhe suas t√©cnicas de hacking enviando PRs para os reposit√≥rios github do** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
