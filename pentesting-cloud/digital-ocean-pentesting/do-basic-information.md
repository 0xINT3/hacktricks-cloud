# DO - 기본 정보

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>를 통해 AWS 해킹을 처음부터 전문가까지 배워보세요<strong>!</strong></summary>

HackTricks를 지원하는 다른 방법:

* **회사를 HackTricks에서 광고하거나 HackTricks를 PDF로 다운로드**하려면 [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)를 확인하세요!
* [**공식 PEASS & HackTricks 스웨그**](https://peass.creator-spring.com)를 얻으세요.
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)를 발견하세요. 독점적인 [**NFTs**](https://opensea.io/collection/the-peass-family) 컬렉션입니다.
* 💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f) 또는 [**텔레그램 그룹**](https://t.me/peass)에 **참여**하거나 **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**를** **팔로우**하세요.
* **HackTricks**와 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github 저장소에 **PR을 제출**하여 해킹 기교를 공유하세요.

</details>

## 기본 정보

DigitalOcean은 가상 개인 서버(VPS) 및 응용 프로그램 구축, 배포 및 관리를 위한 다양한 서비스를 제공하는 **클라우드 컴퓨팅 플랫폼**입니다. **DigitalOcean의 서비스는 간단하고 사용하기 쉽도록 설계**되어 있으며, 개발자와 소규모 비즈니스에서 인기가 있습니다.

DigitalOcean의 주요 기능은 다음과 같습니다:

* **가상 개인 서버 (VPS)**: DigitalOcean은 웹 사이트 및 응용 프로그램을 호스팅하는 데 사용할 수 있는 VPS를 제공합니다. 이러한 VPS는 간편성과 사용 편의성으로 알려져 있으며, 다양한 사전 구축 "드롭렛" 또는 사용자 정의 구성을 사용하여 빠르고 쉽게 배포할 수 있습니다.
* **저장소**: DigitalOcean은 객체 저장소, 블록 저장소 및 관리형 데이터베이스를 포함한 다양한 저장소 옵션을 제공하여 웹 사이트 및 응용 프로그램의 데이터를 저장하고 관리할 수 있습니다.
* **개발 및 배포 도구**: DigitalOcean은 API 및 사전 구축된 드롭렛을 포함한 응용 프로그램을 빌드, 배포 및 관리하는 데 사용할 수 있는 다양한 도구를 제공합니다.
* **보안**: DigitalOcean은 보안에 강조를 두고 있으며, 암호화, 백업 및 기타 보안 조치를 포함한 다양한 도구와 기능을 제공하여 사용자가 데이터와 응용 프로그램을 안전하게 유지할 수 있도록 지원합니다.

전반적으로 DigitalOcean은 사용자가 클라우드에서 응용 프로그램을 구축, 배포 및 관리하는 데 필요한 도구와 리소스를 제공하는 클라우드 컴퓨팅 플랫폼입니다. 그 서비스는 간단하고 사용하기 쉽도록 설계되어 있어 개발자와 소규모 비즈니스에서 인기가 있습니다.

### AWS와의 주요 차이점

DigitalOcean과 AWS 간의 주요 차이점 중 하나는 **제공하는 서비스 범위**입니다. **DigitalOcean은 간단하고 사용하기 쉬운 가상 개인 서버 (VPS), 저장소 및 개발 및 배포 도구에 중점**을 둡니다. 반면에 **AWS는 VPS, 저장소, 데이터베이스, 기계 학습, 분석 및 기타 다양한 서비스를 포함한 훨씬 더 다양한 서비스 범위**를 제공합니다. 이는 AWS가 복잡한 기업 수준의 응용 프로그램에 더 적합하고, DigitalOcean이 소규모 비즈니스와 개발자에게 더 적합하다는 것을 의미합니다.

두 플랫폼 간의 또 다른 주요 차이점은 **가격 구조**입니다. **DigitalOcean의 가격 정책은 일반적으로 AWS보다 더 직관적이고 이해하기 쉽습니다**. DigitalOcean은 사용한 드롭렛 및 기타 리소스의 수에 기반한 다양한 가격 요금제를 제공합니다. 반면에 AWS는 사용한 리소스의 유형과 양을 포함한 다양한 요소에 기반한 더 복잡한 가격 구조를 가지고 있습니다. 이로 인해 AWS를 사용할 때 비용을 예측하기가 더 어려울 수 있습니다.

## 계층 구조

### 사용자

사용자는 일반적으로 예상하는 대로 사용자입니다. 그는 **팀을 생성**하고 **다른 팀의 구성원**이 될 수 있습니다.

### 팀

팀은 **사용자들의 그룹**입니다. 사용자가 팀을 생성하면 그 팀에서 **소유자 역할**을 가지게 되며, 초기에 **결제 정보를 설정**합니다. 그런 다음 다른 사용자를 팀에 **초대**할 수 있습니다.

팀 내에는 여러 **프로젝트**가 있을 수 있습니다. 프로젝트는 그냥 **함께 실행되는 서비스의 집합**입니다. 이는 프로드, 스테이징, 개발 등과 같이 서로 다른 인프라 단계를 분리하는 데 사용될 수 있습니다.

### 프로젝트

설명한 대로, 프로젝트는 그 안에서 **함께 실행되는 모든 서비스** (드롭렛, 스페이스, 데이터베이스, 쿠버네티스 등)의 컨테이너일 뿐입니다.\
Digital Ocean 프로젝트는 IAM이 없는 GCP 프로젝트와 매우 유사합니다.

## 권한

### 팀

기본적으로 팀의 모든 구성원은 **팀 내에서 생성된 모든 프로젝트의 DO 리소스에 액세스할 수 있습니다 (더 많거나 적은 권한으로).**

### 역할

팀 내의 **각 사용자**는 다음 세 가지 **역할** 중 하나를 가질 수 있습니다:

| 역할       | 공유 리소스 | 결제 정보 | 팀 설정 |
| ---------- | ---------------- | ------------------- | ------------- |
| **소유자**  | 전체 액세스      | 전체 액세스         | 전체 액세스   |
| **결제자** | 액세스 없음        | 전체 액세스         | 액세스 없음     |
| **구성원** | 전체 액세스      | 액세스 없음           | 액세스 없음     |

**소유자**와 **구성원**은 사용자 목록을 나열하고 **역할**을 확인할 수 있습니다 (결제자는 불가능).

## 접근

### 사용자 이름 + 비밀번호 (MFA)

대부분의 플랫폼과 마찬가지로, 클라우드 리소스에 액세스하기 위해 **유효한 사용자 이름과 비밀번호**를 사용할 수 있습니다. 로그인한 후에는 [https://cloud.digitalocean.com/account/profile](https://cloud.digitalocean.com/account/profile)에서 **소속된 모든 팀**을 볼 수 있습니다.\
활동 내역은 [https://cloud.digitalocean.com/account/activity](https://cloud.digitalocean.com/account/activity)에서 확인할 수 있습니다.

**MFA**는 사용자에게 **활성화**될 수 있으며, 팀의 모든 사용자가 팀에 액세스하기 위해 **강제로** 사용할 수 있습니다.

### API 키

API를 사용하기 위해 사용자는 **API 키를 생성**할 수 있습니다. 이는 항상 읽기 권한을 가지지만 **쓰기 권한은 선택 사항**입니다.\
API 키는 다음과 같이 보입니다:
```
dop_v1_1946a92309d6240274519275875bb3cb03c1695f60d47eaa1532916502361836
```
cli 도구는 [**doctl**](https://github.com/digitalocean/doctl#installing-doctl)입니다. 토큰이 필요하므로 다음과 같이 초기화하세요:
```bash
doctl auth init # Asks for the token
doctl auth init --context my-context # Login with a different token
doctl auth list # List accounts
```
기본적으로이 토큰은 Mac의 `/Users/<username>/Library/Application Support/doctl/config.yaml`에 평문으로 작성됩니다.

### Spaces 액세스 키

이것들은 Spaces에 대한 액세스를 제공하는 키입니다 (AWS의 S3 또는 GCP의 Storage와 유사).

이들은 **이름**, **키 ID** 및 **비밀**로 구성됩니다. 예를 들면:
```
Name: key-example
Keyid: DO00ZW4FABSGZHAABGFX
Secret: 2JJ0CcQZ56qeFzAJ5GFUeeR4Dckarsh6EQSLm87MKlM
```
### OAuth 애플리케이션

OAuth 애플리케이션은 **Digital Ocean을 통해 액세스 권한을 부여** 받을 수 있습니다.

[https://cloud.digitalocean.com/account/api/applications](https://cloud.digitalocean.com/account/api/applications)에서 OAuth 애플리케이션을 **생성**하고 [https://cloud.digitalocean.com/account/api/access](https://cloud.digitalocean.com/account/api/access)에서 **허용된 OAuth 애플리케이션**을 확인할 수 있습니다.

### SSH 키

[https://cloud.digitalocean.com/account/security](https://cloud.digitalocean.com/account/security)의 **콘솔**에서 **SSH 키를 Digital Ocean 팀에 추가**할 수 있습니다.

이렇게 하면 **새로운 드롭렛을 생성할 때 SSH 키가 설정**되며, 비밀번호 없이 **SSH로 로그인**할 수 있습니다 (새로 업로드한 SSH 키는 이미 존재하는 드롭렛에는 보안상의 이유로 설정되지 않습니다).

### 함수 인증 토큰

REST API를 통해 함수를 **트리거하는 방법**은 (항상 활성화되어 있으며, CLI에서 사용하는 방법입니다) **인증 토큰을 포함한 요청을 트리거**하는 것입니다. 예시:
```bash
curl -X POST "https://faas-lon1-129376a7.doserverless.co/api/v1/namespaces/fn-c100c012-65bf-4040-1230-2183764b7c23/actions/functionname?blocking=true&result=true" \
-H "Content-Type: application/json" \
-H "Authorization: Basic MGU0NTczZGQtNjNiYS00MjZlLWI2YjctODk0N2MyYTA2NGQ4OkhwVEllQ2t4djNZN2x6YjJiRmFGc1FERXBySVlWa1lEbUxtRE1aRTludXA1UUNlU2VpV0ZGNjNqWnVhYVdrTFg="
```
## 로그

### 사용자 로그

**사용자의 로그**는 [**https://cloud.digitalocean.com/account/activity**](https://cloud.digitalocean.com/account/activity)에서 찾을 수 있습니다.

### 팀 로그

**팀의 로그**는 [**https://cloud.digitalocean.com/account/security**](https://cloud.digitalocean.com/account/security)에서 찾을 수 있습니다.

## 참고 자료

* [https://docs.digitalocean.com/products/teams/how-to/manage-membership/](https://docs.digitalocean.com/products/teams/how-to/manage-membership/)

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>를 통해 **제로에서 영웅까지 AWS 해킹을 배워보세요**!</summary>

HackTricks를 지원하는 다른 방법:

* **회사를 HackTricks에서 광고하거나 HackTricks를 PDF로 다운로드**하려면 [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)를 확인하세요!
* [**공식 PEASS & HackTricks 스웨그**](https://peass.creator-spring.com)를 얻으세요.
* 독점적인 [**NFT**](https://opensea.io/collection/the-peass-family) 컬렉션인 [**The PEASS Family**](https://opensea.io/collection/the-peass-family)를 발견하세요.
* 💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f) 또는 [**텔레그램 그룹**](https://t.me/peass)에 **참여**하거나 **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)를 **팔로우**하세요.
* **HackTricks**와 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github 저장소에 PR을 제출하여 **해킹 기법을 공유**하세요.

</details>
