# DO - Informaci√≥n B√°sica

<details>

<summary><strong>¬°Apoya a HackTricks y obt√©n beneficios!</strong></summary>

* Si quieres ver a tu **empresa anunciada en HackTricks** o si quieres acceder a la **√∫ltima versi√≥n de PEASS o descargar HackTricks en PDF** ¬°echa un vistazo a los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!
* Obt√©n el [**oficial PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n de exclusivos [**NFTs**](https://opensea.io/collection/the-peass-family)
* **√önete al** üí¨ [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s√≠gueme** en **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm).
* **Comparte tus trucos de hacking enviando PRs a los repositorios de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github.

</details>

## Informaci√≥n B√°sica

DigitalOcean es una **plataforma de computaci√≥n en la nube que proporciona a los usuarios una variedad de servicios**, incluyendo servidores privados virtuales (VPS) y otros recursos para construir, implementar y administrar aplicaciones. **Los servicios de DigitalOcean est√°n dise√±ados para ser simples y f√°ciles de usar**, lo que los hace **populares entre los desarrolladores y las peque√±as empresas**.

Algunas de las caracter√≠sticas clave de DigitalOcean incluyen:

* **Servidores privados virtuales (VPS)**: DigitalOcean proporciona VPS que se pueden utilizar para alojar sitios web y aplicaciones. Estos VPS son conocidos por su simplicidad y facilidad de uso, y se pueden implementar r√°pidamente y f√°cilmente utilizando una variedad de "droplets" preconstruidos o configuraciones personalizadas.
* **Almacenamiento**: DigitalOcean ofrece una variedad de opciones de almacenamiento, incluyendo almacenamiento de objetos, almacenamiento de bloques y bases de datos administradas, que se pueden utilizar para almacenar y administrar datos para sitios web y aplicaciones.
* **Herramientas de desarrollo e implementaci√≥n**: DigitalOcean proporciona una variedad de herramientas que se pueden utilizar para construir, implementar y administrar aplicaciones, incluyendo APIs y droplets preconstruidos.
* **Seguridad**: DigitalOcean hace hincapi√© en la seguridad y ofrece una variedad de herramientas y caracter√≠sticas para ayudar a los usuarios a mantener seguros sus datos y aplicaciones. Esto incluye cifrado, copias de seguridad y otras medidas de seguridad.

En general, DigitalOcean es una plataforma de computaci√≥n en la nube que proporciona a los usuarios las herramientas y recursos que necesitan para construir, implementar y administrar aplicaciones en la nube. Sus servicios est√°n dise√±ados para ser simples y f√°ciles de usar, lo que los hace populares entre los desarrolladores y las peque√±as empresas.

### Principales diferencias con AWS

Una de las principales diferencias entre DigitalOcean y AWS es la **variedad de servicios que ofrecen**. **DigitalOcean se centra en proporcionar servidores privados virtuales (VPS) simples** y f√°ciles de usar, almacenamiento y herramientas de desarrollo e implementaci√≥n. **AWS**, por otro lado, ofrece una **gama mucho m√°s amplia de servicios**, incluyendo VPS, almacenamiento, bases de datos, aprendizaje autom√°tico, an√°lisis y muchos otros servicios. Esto significa que AWS es m√°s adecuado para aplicaciones complejas a nivel empresarial, mientras que DigitalOcean es m√°s adecuado para peque√±as empresas y desarrolladores.

Otra diferencia clave entre las dos plataformas es la **estructura de precios**. **La estructura de precios de DigitalOcean es generalmente m√°s sencilla y f√°cil de entender** que la de AWS, con una variedad de planes de precios que se basan en el n√∫mero de droplets y otros recursos utilizados. AWS, por otro lado, tiene una estructura de precios m√°s compleja que se basa en una variedad de factores, incluyendo el tipo y la cantidad de recursos utilizados. Esto puede hacer que sea m√°s dif√≠cil predecir los costos al utilizar AWS.

## Jerarqu√≠a

### Usuario

Un usuario es lo que esperas, un usuario. Puede **crear equipos** y **ser miembro de diferentes equipos**.

### **Equipo**

Un equipo es un grupo de **usuarios**. Cuando un usuario crea un equipo, tiene el **rol de propietario en ese equipo** y, inicialmente, **configura la informaci√≥n de facturaci√≥n**. **Otros** usuarios pueden ser **invitados** al equipo.

Dentro del equipo puede haber varios **proyectos**. Un proyecto es solo un **conjunto de servicios que se ejecutan juntos dentro de √©l**. Se puede utilizar para **separar diferentes etapas de infraestructura**, como producci√≥n, preparaci√≥n, desarrollo...

### Proyecto

Como se explic√≥, un proyecto es solo un contenedor para todos los **servicios** (droplets, espacios, bases de datos, kubernetes...) **que se ejecutan juntos dentro de √©l**.\
Un proyecto de Digital Ocean es muy similar a un proyecto de GCP sin IAM.

## Permisos

### Equipo

B√°sicamente, todos los miembros de un equipo tienen **acceso a los recursos de DO en todos los proyectos creados dentro del equipo (con m√°s o menos privilegios).**

### Roles

Cada **usuario dentro de un equipo** puede tener **uno** de los siguientes tres **roles** dentro de √©l:

| Rol       | Recursos compartidos | Informaci√≥n de facturaci√≥n | Configuraci√≥n del equipo |
| ---------- | ---------------- | ------------------- | ------------- |
| **Propietario**  | Acceso completo      | Acceso completo         | Acceso completo   |
| **Facturador** | Sin acceso        | Acceso completo         | Sin acceso     |
| **Miembro** | Acceso completo      | Sin acceso           | Sin acceso     |

**El propietario y el miembro pueden listar los usuarios** y comprobar sus **roles** (el facturador no puede).

## Acceso

### Nombre de usuario + contrase√±a (MFA)

Como en la mayor√≠a de las plataformas, para acceder a la GUI se puede utilizar un conjunto de **nombre de usuario y contrase√±a v√°lidos** para **acceder** a los **recursos** en la nube. Una vez iniciada la sesi√≥n, se pueden ver **todos los equipos de los que se forma parte** en [https://cloud.digitalocean.com/account/profile](https://cloud.digitalocean.com/account/profile).\
Y se pueden ver todas las actividades en [https://cloud.digitalocean.com/account/activity](https://cloud.digitalocean.com/account/activity).

**MFA** se puede **habilitar** en un usuario y **obligar** a todos los usuarios de un **equipo** a utilizarlo para acceder al equipo.

### Claves API

Para utilizar la API, los usuarios pueden **generar claves API**. Estas siempre vendr√°n con permisos de lectura, pero **los permisos de escritura son opcionales**.\
Las claves de API se ven as√≠:

```
dop_v1_1946a92309d6240274519275875bb3cb03c1695f60d47eaa1532916502361836
```

La herramienta CLI es [**doctl**](https://github.com/digitalocean/doctl#installing-doctl). Inicial√≠zala (necesitas un token) con:

```bash
doctl auth init # Pide el token
doctl auth init --context my-context # Inicia sesi√≥n con un token diferente
doctl auth list # Lista las cuentas
```

Por defecto, este token se escribir√° en texto claro en Mac en `/Users/<username>/Library/Application Support/doctl/config.yaml`.

### Claves de acceso a Spaces

Estas son claves que dan **acceso a los Spaces** (como S3 en AWS o Storage en GCP).

Est√°n compuestas por un **nombre**, un **keyid** y un **secreto**. Un ejemplo podr√≠a ser:

```
Nombre: key-example
Keyid: DO00ZW4FABSGZHAABGFX
Secreto: 2JJ0CcQZ56qeFzAJ5GFUeeR4Dckarsh6EQSLm87MKlM
```

### Aplicaci√≥n OAuth

Las aplicaciones OAuth pueden tener **acceso a Digital Ocean**.

Es posible **crear aplicaciones OAuth** en [https://cloud.digitalocean.com/account/api/applications](https://cloud.digitalocean.com/account/api/applications) y comprobar todas las **aplicaciones OAuth permitidas** en [https://cloud.digitalocean.com/account/api/access](https://cloud.digitalocean.com/account/api/access).

### Claves SSH

Es posible agregar **claves SSH a un equipo de Digital Ocean** desde la **consola** en [https://cloud.digitalocean.com/account/security](https://cloud.digitalocean.com/account/security).

De esta manera, si creas un **nuevo droplet, la clave SSH se establecer√°** en √©l y podr√°s **iniciar sesi√≥n a trav√©s de SSH** sin contrase√±a (ten en cuenta que las **claves
### Funciones de Token de Autenticaci√≥n

La forma **de activar una funci√≥n a trav√©s de REST API** (siempre habilitada, es el m√©todo que usa la CLI) es activando una solicitud con un **token de autenticaci√≥n** como:

```bash
curl -X POST "https://faas-lon1-129376a7.doserverless.co/api/v1/namespaces/fn-c100c012-65bf-4040-1230-2183764b7c23/actions/functionname?blocking=true&result=true" \
  -H "Content-Type: application/json" \
  -H "Authorization: Basic MGU0NTczZGQtNjNiYS00MjZlLWI2YjctODk0N2MyYTA2NGQ4OkhwVEllQ2t4djNZN2x6YjJiRmFGc1FERXBySVlWa1lEbUxtRE1aRTludXA1UUNlU2VpV0ZGNjNqWnVhYVdrTFg="
```

## Registros

### Registros de usuario

Los **registros de un usuario** se pueden encontrar en [**https://cloud.digitalocean.com/account/activity**](https://cloud.digitalocean.com/account/activity)

### Registros de equipo

Los **registros de un equipo** se pueden encontrar en [**https://cloud.digitalocean.com/account/security**](https://cloud.digitalocean.com/account/security)

## Referencias

* [https://docs.digitalocean.com/products/teams/how-to/manage-membership/](https://docs.digitalocean.com/products/teams/how-to/manage-membership/)

<details>

<summary><strong>¬°Apoya a HackTricks y obt√©n beneficios!</strong></summary>

* Si quieres ver tu **empresa anunciada en HackTricks** o si quieres acceder a la **√∫ltima versi√≥n de PEASS o descargar HackTricks en PDF** ¬°Consulta los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!
* Obt√©n el [**swag oficial de PEASS y HackTricks**](https://peass.creator-spring.com)
* Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos.
* **√önete al** üí¨ [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s√≠gueme** en **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm).
* **Comparte tus trucos de hacking enviando PR a los repositorios de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>