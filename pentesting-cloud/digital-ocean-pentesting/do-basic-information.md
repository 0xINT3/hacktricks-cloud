# DO - 基本信息

<details>

<summary><strong>从零开始学习AWS黑客技术，成为专家</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE（HackTricks AWS红队专家）</strong></a><strong>！</strong></summary>

支持HackTricks的其他方式：

* 如果您想看到您的**公司在HackTricks中做广告**或**下载PDF格式的HackTricks**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)!
* 获取[**官方PEASS & HackTricks周边产品**](https://peass.creator-spring.com)
* 探索[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们独家的[**NFTs**](https://opensea.io/collection/the-peass-family)收藏品
* **加入** 💬 [**Discord群**](https://discord.gg/hRep4RUj7f) 或 [**电报群**](https://t.me/peass) 或在**Twitter**上关注我们 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**。**
* 通过向[**HackTricks**](https://github.com/carlospolop/hacktricks)和[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)的github仓库提交PR来分享您的黑客技巧。

</details>

## 基本信息

DigitalOcean是一个**云计算平台，为用户提供各种服务**，包括虚拟专用服务器（VPS）和其他用于构建、部署和管理应用程序的资源。**DigitalOcean的服务旨在简单易用**，因此**受开发人员和小型企业欢迎**。

DigitalOcean的一些关键特点包括：

* **虚拟专用服务器（VPS）**：DigitalOcean提供VPS，可用于托管网站和应用程序。这些VPS以其简单性和易用性而闻名，可以通过各种预构建的“droplets”或自定义配置快速轻松地部署。
* **存储**：DigitalOcean提供一系列存储选项，包括对象存储、块存储和托管数据库，可用于存储和管理网站和应用程序的数据。
* **开发和部署工具**：DigitalOcean提供一系列工具，可用于构建、部署和管理应用程序，包括API和预构建的droplets。
* **安全性**：DigitalOcean非常重视安全性，并提供一系列工具和功能，帮助用户保护其数据和应用程序安全。这包括加密、备份和其他安全措施。

总的来说，DigitalOcean是一个云计算平台，为用户提供构建、部署和管理云中应用程序所需的工具和资源。其服务旨在简单易用，因此受开发人员和小型企业欢迎。

### 与AWS的主要区别

DigitalOcean和AWS之间的主要区别之一是它们提供的**服务范围**。**DigitalOcean专注于提供简单**易用的虚拟专用服务器（VPS）、存储和开发部署工具。**AWS**则提供**更广泛的服务范围**，包括VPS、存储、数据库、机器学习、分析等许多其他服务。这意味着AWS更适合复杂的企业级应用程序，而DigitalOcean更适合小型企业和开发人员。

两个平台之间的另一个关键区别是**定价结构**。**DigitalOcean的定价通常更直观**、更易理解，基于使用的droplets和其他资源的数量制定了一系列定价计划。另一方面，AWS的定价结构更复杂，基于多种因素，包括使用的资源类型和数量。这可能使在使用AWS时更难预测成本。

## 层次结构

### 用户

用户就是您期望的用户。他可以**创建团队**并**成为不同团队的成员**。

### **团队**

团队是一组**用户**。当用户创建一个团队时，他在该团队上拥有**所有者角色**，最初**设置计费信息**。然后可以**邀请**其他用户加入团队。

团队内可能有多个**项目**。项目只是一组**一起运行的服务**。它可用于**区分不同的基础设施阶段**，如生产、暂存、开发...

### 项目

如前所述，项目只是包含所有**一起运行的服务**（droplets、spaces、数据库、kubernetes...）的容器。\
Digital Ocean项目与GCP项目非常相似，但没有IAM。

## 权限

### 团队

基本上，团队的所有成员都可以**访问团队内创建的所有项目中的DO资源（权限多少不等）**。

### 角色

团队内的每个**用户**可以在其中担任以下三个**角色**之一：

| 角色       | 共享资源       | 计费信息         | 团队设置     |
| ---------- | -------------- | ---------------- | ------------ |
| **所有者** | 完全访问       | 完全访问         | 完全访问     |
| **财务人员**| 无访问权限     | 完全访问         | 无访问权限   |
| **成员**   | 完全访问       | 无访问权限       | 无访问权限   |

**所有者**和**成员可以列出用户**并检查他们的**角色**（财务人员不能）。

## 访问

### 用户名 + 密码（MFA）

与大多数平台一样，在访问GUI时，您可以使用一组**有效的用户名和密码**来**访问**云**资源**。登录后，您可以在[https://cloud.digitalocean.com/account/profile](https://cloud.digitalocean.com/account/profile)中看到您所在的**所有团队**。\
您可以在[https://cloud.digitalocean.com/account/activity](https://cloud.digitalocean.com/account/activity)中查看您的所有活动。

可以在用户中**启用MFA**，并强制对所有团队的用户**启用MFA**以访问该团队。

### API密钥

为了使用API，用户可以**生成API密钥**。这些密钥始终具有读取权限，但**写入权限是可选的**。\
API密钥如下所示：
```
dop_v1_1946a92309d6240274519275875bb3cb03c1695f60d47eaa1532916502361836
```
该命令行工具是[**doctl**](https://github.com/digitalocean/doctl#installing-doctl)。使用以下命令进行初始化（需要一个令牌）：
```bash
doctl auth init # Asks for the token
doctl auth init --context my-context # Login with a different token
doctl auth list # List accounts
```
默认情况下，此令牌将以明文形式写入 Mac 中的 `/Users/<username>/Library/Application Support/doctl/config.yaml`。

### Spaces 访问密钥

这些是提供对 Spaces（类似于 AWS 中的 S3 或 GCP 中的存储）的访问权限的密钥。

它们由一个**名称**、一个**keyid**和一个**secret**组成。一个示例可能是：
```
Name: key-example
Keyid: DO00ZW4FABSGZHAABGFX
Secret: 2JJ0CcQZ56qeFzAJ5GFUeeR4Dckarsh6EQSLm87MKlM
```
### OAuth 应用程序

OAuth 应用程序可以被授予**访问 Digital Ocean**的权限。

可以在[https://cloud.digitalocean.com/account/api/applications](https://cloud.digitalocean.com/account/api/applications)创建OAuth应用程序，并在[https://cloud.digitalocean.com/account/api/access](https://cloud.digitalocean.com/account/api/access)中查看所有**允许的OAuth应用程序**。

### SSH 密钥

可以从[https://cloud.digitalocean.com/account/security](https://cloud.digitalocean.com/account/security)的**控制台**中向**Digital Ocean 团队添加 SSH 密钥**。

这样，如果您创建一个**新的 droplet，SSH 密钥将被设置**在其中，您将能够**通过 SSH 登录**而无需密码（请注意，由于安全原因，新上传的 SSH 密钥**不会设置在已存在的 droplets**中）。

### 函数身份验证令牌

通过使用类似以下的**身份验证令牌**来触发通过 REST API 调用函数（始终启用，这是 CLI 使用的方法）：
```bash
curl -X POST "https://faas-lon1-129376a7.doserverless.co/api/v1/namespaces/fn-c100c012-65bf-4040-1230-2183764b7c23/actions/functionname?blocking=true&result=true" \
-H "Content-Type: application/json" \
-H "Authorization: Basic MGU0NTczZGQtNjNiYS00MjZlLWI2YjctODk0N2MyYTA2NGQ4OkhwVEllQ2t4djNZN2x6YjJiRmFGc1FERXBySVlWa1lEbUxtRE1aRTludXA1UUNlU2VpV0ZGNjNqWnVhYVdrTFg="
```
## 日志

### 用户日志

**用户的日志** 可以在 [**https://cloud.digitalocean.com/account/activity**](https://cloud.digitalocean.com/account/activity) 找到。

### 团队日志

**团队的日志** 可以在 [**https://cloud.digitalocean.com/account/security**](https://cloud.digitalocean.com/account/security) 找到。

## 参考资料

* [https://docs.digitalocean.com/products/teams/how-to/manage-membership/](https://docs.digitalocean.com/products/teams/how-to/manage-membership/)

<details>

<summary><strong>从零开始学习AWS黑客技术，成为专家</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE（HackTricks AWS Red Team Expert）</strong></a><strong>！</strong></summary>

支持HackTricks的其他方式：

* 如果您想在HackTricks中看到您的**公司广告**或**下载PDF格式的HackTricks**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)!
* 获取[**官方PEASS & HackTricks周边产品**](https://peass.creator-spring.com)
* 探索[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们的独家[**NFTs**](https://opensea.io/collection/the-peass-family)
* **加入** 💬 [**Discord群**](https://discord.gg/hRep4RUj7f) 或 [**电报群**](https://t.me/peass) 或在 **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)** 上关注我们。
* 通过向 [**HackTricks**](https://github.com/carlospolop/hacktricks) 和 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库提交PR来分享您的黑客技巧。

</details>
