# DO - Informations de base

<details>

<summary><strong>Apprenez le piratage AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Expert en √©quipe rouge AWS de HackTricks)</strong></a><strong>!</strong></summary>

D'autres fa√ßons de soutenir HackTricks :

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**La famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>

## Informations de base

DigitalOcean est une **plateforme de cloud computing qui fournit aux utilisateurs une vari√©t√© de services**, y compris des serveurs priv√©s virtuels (VPS) et d'autres ressources pour la construction, le d√©ploiement et la gestion d'applications. **Les services de DigitalOcean sont con√ßus pour √™tre simples et faciles √† utiliser**, ce qui les rend **populaires aupr√®s des d√©veloppeurs et des petites entreprises**.

Certaines des principales caract√©ristiques de DigitalOcean incluent :

* **Serveurs priv√©s virtuels (VPS)** : DigitalOcean fournit des VPS qui peuvent √™tre utilis√©s pour h√©berger des sites Web et des applications. Ces VPS sont connus pour leur simplicit√© et leur facilit√© d'utilisation, et peuvent √™tre d√©ploy√©s rapidement et facilement √† l'aide de divers "droplets" pr√©-construits ou de configurations personnalis√©es.
* **Stockage** : DigitalOcean propose une gamme d'options de stockage, y compris le stockage d'objets, le stockage de blocs et les bases de donn√©es g√©r√©es, qui peuvent √™tre utilis√©es pour stocker et g√©rer des donn√©es pour des sites Web et des applications.
* **Outils de d√©veloppement et de d√©ploiement** : DigitalOcean fournit une gamme d'outils qui peuvent √™tre utilis√©s pour construire, d√©ployer et g√©rer des applications, y compris des API et des droplets pr√©-construits.
* **S√©curit√©** : DigitalOcean met fortement l'accent sur la s√©curit√© et propose une gamme d'outils et de fonctionnalit√©s pour aider les utilisateurs √† prot√©ger leurs donn√©es et leurs applications. Cela inclut le chiffrement, les sauvegardes et d'autres mesures de s√©curit√©.

En r√©sum√©, DigitalOcean est une plateforme de cloud computing qui fournit aux utilisateurs les outils et les ressources dont ils ont besoin pour construire, d√©ployer et g√©rer des applications dans le cloud. Ses services sont con√ßus pour √™tre simples et faciles √† utiliser, ce qui les rend populaires aupr√®s des d√©veloppeurs et des petites entreprises.

### Principales diff√©rences par rapport √† AWS

Une des principales diff√©rences entre DigitalOcean et AWS est la **gamme de services qu'ils offrent**. **DigitalOcean se concentre sur la fourniture de serveurs priv√©s virtuels (VPS), de stockage et d'outils de d√©veloppement et de d√©ploiement simples** et faciles √† utiliser. **AWS**, en revanche, propose une **gamme beaucoup plus large de services**, y compris des VPS, du stockage, des bases de donn√©es, de l'apprentissage automatique, de l'analyse et de nombreux autres services. Cela signifie qu'AWS est plus adapt√© aux applications complexes de niveau entreprise, tandis que DigitalOcean convient davantage aux petites entreprises et aux d√©veloppeurs.

Une autre diff√©rence cl√© entre les deux plateformes est la **structure de tarification**. **La tarification de DigitalOcean est g√©n√©ralement plus simple et plus facile** √† comprendre que celle d'AWS, avec une gamme de plans tarifaires bas√©s sur le nombre de droplets et d'autres ressources utilis√©es. AWS, en revanche, a une structure de tarification plus complexe bas√©e sur une vari√©t√© de facteurs, y compris le type et la quantit√© de ressources utilis√©es. Cela peut rendre plus difficile la pr√©vision des co√ªts lors de l'utilisation d'AWS.

## Hi√©rarchie

### Utilisateur

Un utilisateur est ce √† quoi vous vous attendez, un utilisateur. Il peut **cr√©er des √©quipes** et **√™tre membre de diff√©rentes √©quipes**.

### **√âquipe**

Une √©quipe est un groupe de **utilisateurs**. Lorsqu'un utilisateur cr√©e une √©quipe, il a le **r√¥le de propri√©taire de cette √©quipe** et il configure initialement les **informations de facturation**. D'autres utilisateurs peuvent ensuite √™tre **invit√©s** dans l'√©quipe.

√Ä l'int√©rieur de l'√©quipe, il peut y avoir plusieurs **projets**. Un projet est simplement un **ensemble de services en cours d'ex√©cution**. Il peut √™tre utilis√© pour **s√©parer les diff√©rentes √©tapes de l'infrastructure**, comme prod, staging, dev...

### Projet

Comme expliqu√©, un projet est simplement un conteneur pour tous les **services** (droplets, espaces, bases de donn√©es, Kubernetes...) **fonctionnant ensemble √† l'int√©rieur**.\
Un projet Digital Ocean est tr√®s similaire √† un projet GCP sans IAM.

## Autorisations

### √âquipe

Essentiellement, tous les membres d'une √©quipe ont **acc√®s aux ressources DO dans tous les projets cr√©√©s au sein de l'√©quipe (avec plus ou moins de privil√®ges).**

### R√¥les

Chaque **utilisateur au sein d'une √©quipe** peut avoir **un** des trois **r√¥les** suivants √† l'int√©rieur :

| R√¥le       | Ressources partag√©es | Informations de facturation | Param√®tres de l'√©quipe |
| ---------- | --------------------- | --------------------------- | --------------------- |
| **Propri√©taire**  | Acc√®s complet        | Acc√®s complet              | Acc√®s complet        |
| **Facturier** | Aucun acc√®s           | Acc√®s complet              | Aucun acc√®s          |
| **Membre** | Acc√®s complet         | Aucun acc√®s                 | Aucun acc√®s          |

**Le propri√©taire** et **le membre peuvent lister les utilisateurs** et v√©rifier leurs **r√¥les** (le facturier ne peut pas).

## Acc√®s

### Nom d'utilisateur + mot de passe (MFA)

Comme dans la plupart des plateformes, pour acc√©der √† l'interface graphique, vous pouvez utiliser un ensemble de **nom d'utilisateur et mot de passe valides** pour **acc√©der** aux **ressources cloud**. Une fois connect√©, vous pouvez voir **toutes les √©quipes auxquelles vous appartenez** dans [https://cloud.digitalocean.com/account/profile](https://cloud.digitalocean.com/account/profile).\
Et vous pouvez voir toute votre activit√© dans [https://cloud.digitalocean.com/account/activity](https://cloud.digitalocean.com/account/activity).

**MFA** peut √™tre **activ√©** pour un utilisateur et **impos√©** pour que tous les utilisateurs d'une **√©quipe** y acc√®dent.

### Cl√©s API

Pour utiliser l'API, les utilisateurs peuvent **g√©n√©rer des cl√©s API**. Celles-ci auront toujours des autorisations de lecture mais les **autorisations d'√©criture sont facultatives**.\
Les cl√©s API ressemblent √† ceci :
```
dop_v1_1946a92309d6240274519275875bb3cb03c1695f60d47eaa1532916502361836
```
L'outil en ligne de commande est [**doctl**](https://github.com/digitalocean/doctl#installing-doctl). Initialisez-le (vous avez besoin d'un jeton) avec :
```bash
doctl auth init # Asks for the token
doctl auth init --context my-context # Login with a different token
doctl auth list # List accounts
```
Par d√©faut, ce jeton sera √©crit en texte clair sur Mac dans `/Users/<username>/Library/Application Support/doctl/config.yaml`.

### Cl√©s d'acc√®s √† Spaces

Ce sont des cl√©s qui donnent **acc√®s aux Spaces** (comme S3 dans AWS ou Storage dans GCP).

Elles sont compos√©es d'un **nom**, d'un **identifiant de cl√©** et d'un **secret**. Un exemple pourrait √™tre :
```
Name: key-example
Keyid: DO00ZW4FABSGZHAABGFX
Secret: 2JJ0CcQZ56qeFzAJ5GFUeeR4Dckarsh6EQSLm87MKlM
```
### Application OAuth

Les applications OAuth peuvent se voir accorder **l'acc√®s sur Digital Ocean**.

Il est possible de **cr√©er des applications OAuth** dans [https://cloud.digitalocean.com/account/api/applications](https://cloud.digitalocean.com/account/api/applications) et de v√©rifier toutes les **applications OAuth autoris√©es** dans [https://cloud.digitalocean.com/account/api/access](https://cloud.digitalocean.com/account/api/access).

### Cl√©s SSH

Il est possible d'ajouter des **cl√©s SSH √† une √©quipe Digital Ocean** depuis la **console** dans [https://cloud.digitalocean.com/account/security](https://cloud.digitalocean.com/account/security).

De cette mani√®re, si vous cr√©ez un **nouveau droplet, la cl√© SSH sera configur√©e** dessus et vous pourrez **vous connecter via SSH** sans mot de passe (notez que les **cl√©s SSH nouvellement t√©l√©charg√©es ne sont pas configur√©es dans les droplets d√©j√† existants pour des raisons de s√©curit√©**](https://docs.digitalocean.com/products/droplets/how-to/add-ssh-keys/to-existing-droplet/)).

### Jeton d'authentification des fonctions

La mani√®re **de d√©clencher une fonction via l'API REST** (toujours activ√©e, c'est la m√©thode utilis√©e par l'interface en ligne de commande) est de d√©clencher une requ√™te avec un **jeton d'authentification** comme suit :
```bash
curl -X POST "https://faas-lon1-129376a7.doserverless.co/api/v1/namespaces/fn-c100c012-65bf-4040-1230-2183764b7c23/actions/functionname?blocking=true&result=true" \
-H "Content-Type: application/json" \
-H "Authorization: Basic MGU0NTczZGQtNjNiYS00MjZlLWI2YjctODk0N2MyYTA2NGQ4OkhwVEllQ2t4djNZN2x6YjJiRmFGc1FERXBySVlWa1lEbUxtRE1aRTludXA1UUNlU2VpV0ZGNjNqWnVhYVdrTFg="
```
## Journaux

### Journaux d'utilisateur

Les **journaux d'un utilisateur** peuvent √™tre trouv√©s dans [**https://cloud.digitalocean.com/account/activity**](https://cloud.digitalocean.com/account/activity)

### Journaux d'√©quipe

Les **journaux d'une √©quipe** peuvent √™tre trouv√©s dans [**https://cloud.digitalocean.com/account/security**](https://cloud.digitalocean.com/account/security)

## R√©f√©rences

* [https://docs.digitalocean.com/products/teams/how-to/manage-membership/](https://docs.digitalocean.com/products/teams/how-to/manage-membership/)

<details>

<summary><strong>Apprenez le piratage AWS de z√©ro √† h√©ros avec</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Expert en √©quipe rouge AWS de HackTricks)</strong></a><strong>!</strong></summary>

Autres fa√ßons de soutenir HackTricks:

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou **t√©l√©charger HackTricks en PDF** Consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop)!
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**La famille PEASS**](https://opensea.io/collection/the-peass-family), notre collection exclusive de [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez-nous** sur **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Partagez vos astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts github.

</details>
