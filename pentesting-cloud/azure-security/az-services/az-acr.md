# Az - ACR

<details>

<summary><strong>Μάθετε το χάκινγκ του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**The PEASS Family**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>

## Βασικές Πληροφορίες

Το Azure Container Registry (ACR) είναι ένα υπηρεσία που παρέχεται από τη Microsoft Azure για τη **αποθήκευση και διαχείριση εικόνων Docker container και άλλων αρχείων**. Προσφέρει δυνατότητες όπως ενσωματωμένα εργαλεία για προγραμματιστές, γεω-αντιγραφή, μέτρα ασφαλείας όπως έλεγχος πρόσβασης βασισμένος σε ρόλους και σάρωση εικόνων, αυτόματη δημιουργία, webhooks και triggers, και απομόνωση δικτύου. Λειτουργεί με δημοφιλή εργαλεία όπως το Docker CLI και το Kubernetes, και ενσωματώνεται καλά με άλλες υπηρεσίες της Azure.

### Απαρίθμηση

Για να απαριθμήσετε την υπηρεσία μπορείτε να χρησιμοποιήσετε το σενάριο [**Get-AzACR.ps1**](https://github.com/NetSPI/MicroBurst/blob/master/Misc/Get-AzACR.ps1):

{% code overflow="wrap" %}
```bash
# List Docker images inside the registry
IEX (New-Object Net.Webclient).downloadstring("https://raw.githubusercontent.com/NetSPI/MicroBurst/master/Misc/Get-AzACR.ps1")

Set-ItemProperty -Path "HKLM:\SOFTWARE\Microsoft\Internet Explorer\Main" -Name "DisableFirstRunCustomize" -Value 2

Get-AzACR -username <username> -password <password> -registry <corp-name>.azurecr.io
```
{% tab title="az cli" %}
```bash
az acr list --output table
az acr show --name MyRegistry --resource-group MyResourceGroup
```
{% tab title="Az Powershell" %}

Για να εκτελέσετε εντολές PowerShell για τη διαχείριση του Azure Container Registry (ACR), πρέπει να εγκαταστήσετε το Azure PowerShell module. Μπορείτε να το κάνετε αυτό με την εκτέλεση της εντολής `Install-Module -Name Az` στο PowerShell.

Αφού εγκαταστήσετε το Azure PowerShell module, μπορείτε να συνδεθείτε στο ACR χρησιμοποιώντας την εντολή `Connect-AzAccount`. Θα σας ζητηθεί να συνδεθείτε με τα διαπιστευτήριά σας του Azure.

Αφού συνδεθείτε, μπορείτε να εκτελέσετε εντολές για τη διαχείριση του ACR. Ορισμένες χρήσιμες εντολές περιλαμβάνουν:

- `Get-AzContainerRegistry`: Επιστρέφει πληροφορίες για το ACR.
- `New-AzContainerRegistry`: Δημιουργεί ένα νέο ACR.
- `Remove-AzContainerRegistry`: Αφαιρεί ένα ACR.
- `Set-AzContainerRegistry`: Ενημερώνει τις ρυθμίσεις ενός ACR.
- `Get-AzContainerRegistryCredential`: Επιστρέφει τα διαπιστευτήρια πρόσβασης για ένα ACR.
- `New-AzContainerRegistryCredential`: Δημιουργεί νέα διαπιστευτήρια πρόσβασης για ένα ACR.

Αυτές οι εντολές σας επιτρέπουν να διαχειριστείτε το ACR μέσω του PowerShell. Μπορείτε να χρησιμοποιήσετε αυτές τις εντολές για να δημιουργήσετε, να ενημερώσετε και να αφαιρέσετε ACR, καθώς και να λάβετε πληροφορίες για το ACR και τα διαπιστευτήρια πρόσβασης.

{% endtab %}
```powershell
# List all ACRs in your subscription
Get-AzContainerRegistry

# Get a specific ACR
Get-AzContainerRegistry -ResourceGroupName "MyResourceGroup" -Name "MyRegistry"
```
{% endtab %}
{% endtabs %}

Σύνδεση και Λήψη από το αποθετήριο
```bash
docker login <corp-name>.azurecr.io --username <username> --password <password>
docker pull <corp-name>.azurecr.io/<image>:<tag>
```
<details>

<summary><strong>Μάθετε το hacking του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα hacking tricks σας υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>
