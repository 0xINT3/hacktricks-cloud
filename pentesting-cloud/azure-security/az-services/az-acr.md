# Az - ACR

<details>

<summary><strong>Impara l'hacking di AWS da zero a eroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se vuoi vedere la tua **azienda pubblicizzata su HackTricks** o **scaricare HackTricks in PDF** Controlla i [**PACCHETTI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di [**NFT esclusivi**](https://opensea.io/collection/the-peass-family)
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo Telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Condividi i tuoi trucchi di hacking inviando PR ai repository** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github.

</details>

## Informazioni di base

Azure Container Registry (ACR) √® un servizio gestito fornito da Microsoft Azure per **archiviare e gestire immagini di container Docker e altri artefatti**. Offre funzionalit√† come strumenti di sviluppo integrati, replica geografica, misure di sicurezza come il controllo degli accessi basato sui ruoli e la scansione delle immagini, compilazioni automatiche, webhook e trigger, e isolamento di rete. Funziona con strumenti popolari come Docker CLI e Kubernetes e si integra bene con altri servizi Azure.

### Enumerazione

Per enumerare il servizio √® possibile utilizzare lo script [**Get-AzACR.ps1**](https://github.com/NetSPI/MicroBurst/blob/master/Misc/Get-AzACR.ps1):

{% code overflow="wrap" %}
```
```
{% endcode %}

```bash
# List Docker images inside the registry
IEX (New-Object Net.Webclient).downloadstring("https://raw.githubusercontent.com/NetSPI/MicroBurst/master/Misc/Get-AzACR.ps1")

Set-ItemProperty -Path "HKLM:\SOFTWARE\Microsoft\Internet Explorer\Main" -Name "DisableFirstRunCustomize" -Value 2

Get-AzACR -username <username> -password <password> -registry <corp-name>.azurecr.io
```

```bash
az acr list --output table
az acr show --name MyRegistry --resource-group MyResourceGroup
```

Azure Container Registry (ACR) √® un servizio di Azure che consente di archiviare e gestire immagini dei contenitori Docker. √à possibile utilizzare Az Powershell per interagire con ACR e automatizzare le operazioni di gestione delle immagini.

Ecco alcuni comandi di Az Powershell utili per lavorare con ACR:

* **Login**: `az acr login --name <nome-ACR>` consente di effettuare l'accesso a un registro di contenitori specifico.
* **List**: `az acr repository list --name <nome-ACR>` elenca tutti i repository presenti nel registro di contenitori specificato.
* **Show**: `az acr repository show --name <nome-ACR> --repository <nome-repository>` visualizza i dettagli di un repository specifico nel registro di contenitori.
* **Delete**: `az acr repository delete --name <nome-ACR> --repository <nome-repository> --yes` elimina un repository specifico nel registro di contenitori.
* **Build**: `az acr build --registry <nome-ACR> --image <nome-immagine> --file <percorso-Dockerfile>` crea un'immagine del contenitore utilizzando un file Dockerfile specificato.
* **Import**: `az acr import --registry <nome-ACR> --source <URL-immagine> --image <nome-immagine>` importa un'immagine del contenitore da un URL specificato nel registro di contenitori.
* **Export**: `az acr export --registry <nome-ACR> --name <nome-immagine> --output <percorso-destinazione>` esporta un'immagine del contenitore dal registro di contenitori in una posizione specificata.

Questi sono solo alcuni dei comandi disponibili in Az Powershell per lavorare con Azure Container Registry. Utilizzando questi comandi, √® possibile automatizzare le operazioni di gestione delle immagini dei contenitori e semplificare il processo di sviluppo e distribuzione delle applicazioni basate su contenitori.

```powershell
# List all ACRs in your subscription
Get-AzContainerRegistry

# Get a specific ACR
Get-AzContainerRegistry -ResourceGroupName "MyResourceGroup" -Name "MyRegistry"
```

Accesso e recupero dal registro

```bash
docker login <corp-name>.azurecr.io --username <username> --password <password>
docker pull <corp-name>.azurecr.io/<image>:<tag>
```

<details>

<summary><strong>Impara l'hacking di AWS da zero a eroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se vuoi vedere la tua **azienda pubblicizzata su HackTricks** o **scaricare HackTricks in PDF** Controlla i [**PIANI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di [**NFT**](https://opensea.io/collection/the-peass-family) esclusivi
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo Telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Condividi i tuoi trucchi di hacking inviando PR ai repository di** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) su GitHub.

</details>
