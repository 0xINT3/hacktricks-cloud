# Az - Kimlik Doğrulama Olmadan Sıralama ve İlk Giriş

<details>

<summary><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong> ile sıfırdan kahraman olmak için AWS korsanlık öğrenin<strong>!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **reklamınızı görmek** veya **HackTricks'i PDF olarak indirmek** için [**ABONELİK PLANLARI**](https://github.com/sponsors/carlospolop)'na göz atın!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)'ı **takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına **PR göndererek paylaşın**.

</details>

## Azure Kiracısı

### Kiracı Sıralaması

Sadece **kiracının alan adını** bilen bir saldırgan, daha fazla bilgi toplamak için bazı **genel Azure API'larını** sorgulayabilir.\
API'yi doğrudan sorgulayabilir veya PowerShell kütüphanesi [**AADInternals**](https://github.com/Gerenios/AADInternals) **kullanabilirsiniz**:

| API                                                                  | Bilgi                                                                                                                                                                                                                                                 | AADInternals işlevi                              |
| -------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------- |
| login.microsoftonline.com/\<domain>/.well-known/openid-configuration | **Kiracı kimlik bilgileri**, kiracı kimlik bilgileri dahil                                                                                                                                                                                            | `Get-AADIntTenantID -Domain <domain>`             |
| autodiscover-s.outlook.com/autodiscover/autodiscover.svc             | Kiracının **tüm alan adları**                                                                                                                                                                                                                        | `Get-AADIntTenantDomains -Domain <domain>`        |
| login.microsoftonline.com/GetUserRealm.srf?login=\<UserName>         | <p>Kiracının **kimlik bilgileri**, kiracı adı ve alan adı dahil <strong>kimlik doğrulama türü.</strong><br><code>NameSpaceType</code> <strong><code>Managed</code></strong> ise, <strong>AzureAD</strong> kullanıldığı anlamına gelir.</p> | `Get-AADIntLoginInformation -UserName <UserName>` |
| login.microsoftonline.com/common/GetCredentialType                   | Kimlik bilgileri, **Masaüstü SSO bilgileri** dahil                                                                                                                                                                                                    | `Get-AADIntLoginInformation -UserName <UserName>` |

Azure kiracısının tüm bilgilerini **AADInternals** kütüphanesinin **sadece bir komutuyla** sorgulayabilirsiniz:
```powershell
Invoke-AADIntReconAsOutsider -DomainName corp.onmicrosoft.com | Format-Table
```
Azure kiracı bilgilerinin örnek çıktısı:
```
Tenant brand:       Company Ltd
Tenant name:        company
Tenant id:          1937e3ab-38de-a735-a830-3075ea7e5b39
DesktopSSO enabled: True

Name                           DNS   MX    SPF  Type      STS
----                           ---   --    ---  ----      ---
company.com                   True  True  True  Federated sts.company.com
company.mail.onmicrosoft.com  True  True  True  Managed
company.onmicrosoft.com       True  True  True  Managed
int.company.com              False False False  Managed
```
Kiracı adı, kimlik ve "marka" adı hakkında ayrıntıları gözlemlemek mümkündür. Ayrıca, Masaüstü Tek Oturum Açma (SSO) durumu, [**Seamless SSO**](https://docs.microsoft.com/en-us/azure/active-directory/hybrid/how-to-connect-sso) olarak da bilinen, görüntülenir. Bu özellik etkinleştirildiğinde, hedef organizasyon içinde belirli bir kullanıcının varlığının belirlenmesini kolaylaştırır (enumarasyon).

Ayrıca, çıktı hedef kiracıyla ilişkilendirilmiş tüm doğrulanmış alanların adlarını ve bunların ilgili kimlik türlerini sunar. Federasyonlu alanlar için, genellikle bir ADFS sunucusu olan kullanımdaki kimlik sağlayıcının Tam Nitelikli Alan Adı (FQDN) de açıklanır. "MX" sütunu, e-postaların Exchange Online'a yönlendirilip yönlendirilmediğini belirtirken, "SPF" sütunu Exchange Online'ı bir e-posta gönderici olarak listeler. Mevcut keşif işlevinin SPF kayıtlarındaki "include" ifadelerini ayrıştırmadığı, bu da yanlış negatif sonuçlara yol açabileceği önemli bir noktadır.

### Kullanıcı Enumarasyonu

Kiracı içinde bir kullanıcı adının var olup olmadığını kontrol etmek mümkündür. Bu, kullanıcı adı aşağıdaki formatta olan **misafir kullanıcıları** da içerir:
```
<email>#EXT#@<tenant name>.onmicrosoft.com
```
E-posta, kullanıcının e-posta adresidir ve "@" işareti alt çizgi "_" ile değiştirilmiştir.

[**AADInternals**](https://github.com/Gerenios/AADInternals) ile kullanıcının var olup olmadığını kolayca kontrol edebilirsiniz:
```powershell
# Check does the user exist
Invoke-AADIntUserEnumerationAsOutsider -UserName "user@company.com"
```
# Azure Security - Kimlik Doğrulama Yapılmamış Enum ve İlk Giriş

Bu bölümde, Azure bulut platformunda kimlik doğrulama yapılmamış bir şekilde bilgi toplama ve ilk giriş tekniklerini ele alacağız. Bu teknikler, bir saldırganın Azure ortamında zayıf yapılandırılmış kaynakları keşfetmesine ve yetkisiz erişim sağlamasına olanak tanır.

## 1. Genel Bilgiler

Azure bulut platformunda kimlik doğrulama yapılmamış bir şekilde bilgi toplamak ve ilk giriş yapmak için aşağıdaki teknikleri kullanabilirsiniz:

- **Azure Blob Storage Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Blob Storage hizmetindeki verileri listeleyebilirsiniz.
- **Azure File Storage Enumerasyonu**: Kimlik doğrulama yapılmadan Azure File Storage hizmetindeki verileri listeleyebilirsiniz.
- **Azure Table Storage Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Table Storage hizmetindeki verileri listeleyebilirsiniz.
- **Azure Queue Storage Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Queue Storage hizmetindeki verileri listeleyebilirsiniz.
- **Azure Cosmos DB Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Cosmos DB hizmetindeki verileri listeleyebilirsiniz.
- **Azure Key Vault Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Key Vault hizmetindeki verileri listeleyebilirsiniz.
- **Azure Container Registry Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Container Registry hizmetindeki verileri listeleyebilirsiniz.
- **Azure Logic Apps Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Logic Apps hizmetindeki verileri listeleyebilirsiniz.
- **Azure Functions Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Functions hizmetindeki verileri listeleyebilirsiniz.
- **Azure Service Bus Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Service Bus hizmetindeki verileri listeleyebilirsiniz.
- **Azure Event Grid Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Event Grid hizmetindeki verileri listeleyebilirsiniz.
- **Azure Event Hubs Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Event Hubs hizmetindeki verileri listeleyebilirsiniz.
- **Azure API Management Enumerasyonu**: Kimlik doğrulama yapılmadan Azure API Management hizmetindeki verileri listeleyebilirsiniz.
- **Azure DevOps Enumerasyonu**: Kimlik doğrulama yapılmadan Azure DevOps hizmetindeki verileri listeleyebilirsiniz.
- **Azure Kubernetes Service (AKS) Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Kubernetes Service (AKS) hizmetindeki verileri listeleyebilirsiniz.
- **Azure Container Instances Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Container Instances hizmetindeki verileri listeleyebilirsiniz.
- **Azure Virtual Machines Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Virtual Machines hizmetindeki verileri listeleyebilirsiniz.
- **Azure Virtual Machine Scale Sets Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Virtual Machine Scale Sets hizmetindeki verileri listeleyebilirsiniz.
- **Azure App Service Enumerasyonu**: Kimlik doğrulama yapılmadan Azure App Service hizmetindeki verileri listeleyebilirsiniz.
- **Azure Functions App Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Functions App hizmetindeki verileri listeleyebilirsiniz.
- **Azure Logic Apps App Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Logic Apps App hizmetindeki verileri listeleyebilirsiniz.
- **Azure Web Apps Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Web Apps hizmetindeki verileri listeleyebilirsiniz.
- **Azure API Apps Enumerasyonu**: Kimlik doğrulama yapılmadan Azure API Apps hizmetindeki verileri listeleyebilirsiniz.
- **Azure Functions Apps Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Functions Apps hizmetindeki verileri listeleyebilirsiniz.
- **Azure Cognitive Services Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Cognitive Services hizmetindeki verileri listeleyebilirsiniz.
- **Azure Machine Learning Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Machine Learning hizmetindeki verileri listeleyebilirsiniz.
- **Azure Databricks Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Databricks hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Factory Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Factory hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Lake Storage Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Lake Storage hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Lake Analytics Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Lake Analytics hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Explorer Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Explorer hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Catalog Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Catalog hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Share Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Share hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Gateway Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Gateway hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Disk Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Disk hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Disk Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Disk hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge Gateway Disk Heavy Enumerasyonu**: Kimlik doğrulama yapılmadan Azure Data Box Edge Gateway Disk Heavy hizmetindeki verileri listeleyebilirsiniz.
- **Azure Data Box Edge
```
UserName         Exists
--------         ------
user@company.com True
```
Ayrıca, her satırda bir e-posta adresi içeren bir metin dosyası da kullanabilirsiniz:
```
user@company.com
user2@company.com
admin@company.com
admin2@company.com
external.user_gmail.com#EXT#@company.onmicrosoft.com
external.user_outlook.com#EXT#@company.onmicrosoft.com
```

```powershell
# Invoke user enumeration
Get-Content .\users.txt | Invoke-AADIntUserEnumerationAsOutsider -Method Normal
```
Üç farklı sıralama yöntemi bulunmaktadır:

| Yöntem    | Açıklama                                                                                                                                                                                               |
| --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Normal    | Yukarıda bahsedilen GetCredentialType API'sine atıfta bulunur. Varsayılan yöntem.                                                                                                                       |
| Login     | <p>Bu yöntem, kullanıcı olarak oturum açmayı denemektedir.<br><strong>Not:</strong> sorgular oturum açma kaydına kaydedilecektir.</p>                                                                     |
| Autologon | <p>Bu yöntem, kullanıcı olarak otomatik oturum açma uç noktası aracılığıyla oturum açmayı denemektedir.<br><strong>Sorgular</strong> oturum açma kaydına kaydedilmez! Bu nedenle, parola püskürtme ve brute-force saldırıları için de iyi çalışır.</p> |

Geçerli kullanıcı adlarını keşfettikten sonra, bir kullanıcı hakkında **bilgi alabilirsiniz**.
```powershell
Get-AADIntLoginInformation -UserName root@corp.onmicrosoft.com
```
Script [**o365creeper**](https://github.com/LMGsec/o365creeper) ayrıca bir e-postanın geçerli olup olmadığını keşfetmenize olanak sağlar.
```powershell
# Put in emails.txt emails such as:
# - root@corp.onmicrosoft.com
python.exe .\o365creeper\o365creeper.py -f .\emails.txt -o validemails.txt
```
## Azure Hizmetleri

Azure kiracının kullandığı **alan adlarını** bildiğimize göre, şimdi **açığa çıkarılmış Azure hizmetlerini** bulmaya çalışabiliriz.

Bu amaçla [**MicroBurst**](https://github.com/NetSPI/MicroBurst) adlı bir yöntem kullanabilirsiniz. Bu işlev, temel alan adını (ve birkaç türevini) birkaç **Azure hizmeti alan adında** arayacaktır:
```powershell
Import-Module .\MicroBurst\MicroBurst.psm1 -Verbose
Invoke-EnumerateAzureSubDomains -Base corp -Verbose
```
## Açık Depolama

Açık depolamayı bulmak için [**InvokeEnumerateAzureBlobs.ps1**](https://github.com/NetSPI/MicroBurst/blob/master/Misc/Invoke-EnumerateAzureBlobs.ps1) gibi bir araç kullanabilirsiniz. Bu araç, **`Microburst/Misc/permitations.txt`** dosyasını kullanarak basit bir şekilde permütasyonlar oluşturur ve açık depolama hesaplarını bulmaya çalışır.
```powershell
Import-Module .\MicroBurst\MicroBurst.psm1
Invoke-EnumerateAzureBlobs -Base corp
[...]
https://corpcommon.blob.core.windows.net/secrets?restype=container&comp=list
[...]

# Access https://corpcommon.blob.core.windows.net/secrets?restype=container&comp=list
# Check: <Name>ssh_info.json</Name>
# Access then https://corpcommon.blob.core.windows.net/secrets/ssh_info.json
```
### SAS URL'leri

Paylaşılan erişim imzası (SAS) URL'si, kaynaklara (tam bir konteyner, bir dosya olabilir) belirli izinlerle (okuma, yazma...) erişim sağlayan bir URL'dir. Sızdırılmış bir URL bulursanız, hassas bilgilere erişebilirsiniz. Örneğin:

`https://<storage_account_name>.blob.core.windows.net/newcontainer?sp=r&st=2021-09-26T18:15:21Z&se=2021-10-27T02:14:21Z&spr=https&sv=2021-07-08&sr=c&sig=7S%2BZySOgy4aA3Dk0V1cJyTSIf1cW%2Fu3WFkhHV32%2B4PE%3D`

Verilere erişmek için [**Storage Explorer**](https://azure.microsoft.com/en-us/features/storage-explorer/) kullanın.

## Kimlik Bilgilerini Ele Geçirme

### Phishing

* [**Ortak Phishing**](https://book.hacktricks.xyz/generic-methodologies-and-resources/phishing-methodology) (kimlik bilgileri veya OAuth Uygulaması -[İzinsiz Onay Verme Saldırısı](az-illicit-consent-grant.md)-)
* [**Cihaz Kodu Kimlik Doğrulama** Phishing](az-device-code-authentication-phishing.md)

### Şifre Spreyi / Brute-Force

{% content-ref url="az-password-spraying.md" %}
[az-password-spraying.md](az-password-spraying.md)
{% endcontent-ref %}

## Referanslar

* [https://aadinternals.com/post/just-looking/](https://aadinternals.com/post/just-looking/)

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> ile sıfırdan kahramana kadar AWS hackleme öğrenin<strong>!</strong></summary>

HackTricks'i desteklemenin diğer yolları:

* Şirketinizi HackTricks'te **tanıtmak** veya HackTricks'i **PDF olarak indirmek** için [**ABONELİK PLANLARINI**](https://github.com/sponsors/carlospolop) kontrol edin!
* [**Resmi PEASS & HackTricks ürünlerini**](https://peass.creator-spring.com) edinin
* Özel [**NFT'lerden**](https://opensea.io/collection/the-peass-family) oluşan koleksiyonumuz [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'i keşfedin
* 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) **katılın** veya bizi **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**'da takip edin**.
* **Hacking hilelerinizi** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna **PR göndererek** paylaşın.

</details>
