# GCP - Serviceusage Privesc

<details>

<summary><strong>Impara l'hacking di AWS da zero a eroe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Altri modi per supportare HackTricks:

* Se vuoi vedere la tua **azienda pubblicizzata su HackTricks** o **scaricare HackTricks in PDF** Controlla i [**PACCHETTI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!
* Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)
* Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di [**NFT esclusivi**](https://opensea.io/collection/the-peass-family)
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo Telegram**](https://t.me/peass) o **seguimi** su **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Condividi i tuoi trucchi di hacking inviando PR a** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## serviceusage

Le seguenti autorizzazioni sono utili per creare e rubare chiavi API, non quelle dai documenti: _Una chiave API √® una semplice stringa crittografata che **identifica un'applicazione senza alcun principale**. Sono utili per accedere a **dati pubblici in modo anonimo**, e vengono utilizzate per **associare** le richieste API al tuo progetto per la quota e la **fatturazione**._

Pertanto, con una chiave API puoi far pagare all'azienda l'utilizzo dell'API, ma non sarai in grado di ottenere privilegi elevati.

Per conoscere altre autorizzazioni e modi per generare chiavi API, controlla:

{% content-ref url="gcp-apikeys-privesc.md" %}
[gcp-apikeys-privesc.md](gcp-apikeys-privesc.md)
{% endcontent-ref %}

### `serviceusage.apiKeys.create`

√à stata trovata un'API non documentata che pu√≤ essere utilizzata per **creare chiavi API:**

{% code overflow="wrap" %}
```bash
curl -XPOST "https://apikeys.clients6.google.com/v1/projects/<project-uniq-name>/apiKeys?access_token=$(gcloud auth print-access-token)"
```
### `serviceusage.apiKeys.list`

√à stato trovato un altro API non documentato per elencare le chiavi API che sono gi√† state create (le chiavi API appaiono nella risposta):

{% code overflow="wrap" %}
```bash
curl "https://apikeys.clients6.google.com/v1/projects/<project-uniq-name>/apiKeys?access_token=$(gcloud auth print-access-token)"
```
{% endcode %}

### **`serviceusage.services.enable`** , **`serviceusage.services.use`**

Con queste autorizzazioni, un attaccante pu√≤ abilitare e utilizzare nuovi servizi nel progetto. Ci√≤ potrebbe consentire a un **attaccante di abilitare servizi come admin o cloudidentity** per cercare di accedere alle informazioni di Workspace, o ad altri servizi per accedere a dati interessanti.&#x20;

## **Riferimenti**

* [https://rhinosecuritylabs.com/cloud-security/privilege-escalation-google-cloud-platform-part-2/](https://rhinosecuritylabs.com/cloud-security/privilege-escalation-google-cloud-platform-part-2/)

<details>

<summary><strong>Sostieni HackTricks e ottieni vantaggi!</strong></summary>

Lavori in un'azienda di **sicurezza informatica**? Vuoi vedere la tua **azienda pubblicizzata su HackTricks**? O vuoi avere accesso all'**ultima versione di PEASS o scaricare HackTricks in PDF**? Controlla i [**PACCHETTI DI ABBONAMENTO**](https://github.com/sponsors/carlospolop)!

Scopri [**The PEASS Family**](https://opensea.io/collection/the-peass-family), la nostra collezione di esclusive [**NFT**](https://opensea.io/collection/the-peass-family)

Ottieni il [**merchandising ufficiale di PEASS & HackTricks**](https://peass.creator-spring.com)

**Unisciti al** [**üí¨**](https://emojipedia.org/speech-balloon/) [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo Telegram**](https://t.me/peass) o **seguimi** su **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/carlospolopm)**.**

**Condividi i tuoi trucchi di hacking inviando PR al** [**repo di hacktricks github**](https://github.com/carlospolop/hacktricks)\*\*\*\*

**.**

</details>
