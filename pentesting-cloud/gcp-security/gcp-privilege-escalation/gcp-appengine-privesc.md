# GCP - Uboreshaji wa Mamlaka ya AppEngine

<details>

<summary><strong>Jifunze kuhusu udukuzi wa AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikionekana kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA USAJILI**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## App Engine

Kwa habari zaidi kuhusu App Engine angalia:

{% content-ref url="../gcp-services/gcp-app-engine-enum.md" %}
[gcp-app-engine-enum.md](../gcp-services/gcp-app-engine-enum.md)
{% endcontent-ref %}

### `appengine.applications.get`, `appengine.instances.get`, `appengine.instances.list`, `appengine.operations.get`, `appengine.operations.list`, `appengine.services.get`, `appengine.services.list`, `appengine.versions.create`, `appengine.versions.get`, `appengine.versions.list`, `cloudbuild.builds.get`,`iam.serviceAccounts.actAs`, `resourcemanager.projects.get`, `storage.objects.create`, `storage.objects.list`

Hizo ni idhini zinazohitajika kwa **kuweka App kutumia `gcloud` cli**. Labda zile za **`get`** na **`list`** zinaweza **kuepukwa**.

Unaweza kupata mifano ya nambari ya Python katika [https://github.com/GoogleCloudPlatform/python-docs-samples/tree/main/appengine](https://github.com/GoogleCloudPlatform/python-docs-samples/tree/main/appengine)

Kwa chaguo-msingi, jina la huduma ya App litakuwa **`default`**, na inaweza kuwepo tu 1 kifaa na jina sawa.\
Ili kubadilisha hilo na kuunda App ya pili, katika **`app.yaml`**, badilisha thamani ya funguo ya msingi kuwa kitu kama **`service: my-second-app`**
```bash
cd python-docs-samples/appengine/flexible/hello_world
gcloud app deploy #Upload and start application inside the folder
```
Toa angalau dakika 10-15, ikiwa haitafanya kazi piga simu **peleka tena mara kadhaa** na subiri dakika chache.

{% hint style="info" %}
Ni **inawezekana kuashiria Akaunti ya Huduma ya kutumia** lakini kwa chaguo-msingi, SA ya msingi ya App Engine hutumika.
{% endhint %}

URL ya programu ni kama `https://<proj-jina>.oa.r.appspot.com/` au `https://<jina_la_huduma>-dot-<proj-jina>.oa.r.appspot.com`

### `appengine.instances.enableDebug`, `appengine.instances.get`, `appengine.instances.list`, `appengine.operations.get`, `appengine.services.get`, `appengine.services.list`, `appengine.versions.get`, `appengine.versions.list`, `compute.projects.get`

Kwa ruhusa hizi, ni **inawezekana kuingia kupitia ssh kwenye mifano ya App Engine** aina ya **flexible** (sio standard). Baadhi ya ruhusa za **`list`** na **`get`** **zinaweza kutokuwa muhimu sana**.
```bash
gcloud app instances ssh --service <app-name> --version <version-id> <ID>
```
### `appengine.applications.update`, `appengine.operations.get`

Nadhani hii inabadilisha SA ya nyuma ambayo Google itatumia kuanzisha maombi, kwa hivyo sidhani unaweza kutumia hii kudhuru kwa kuiba akaunti ya huduma.
```bash
gcloud app update --service-account=<sa_email>
```
### `appengine.versions.getFileContents`, `appengine.versions.update`

Siha hakika jinsi ya kutumia ruhusa hizi au kama zinafaa (kumbuka kwamba unapobadilisha nambari toleo jipya hujengwa kwa hivyo siwezi kujua ikiwa unaweza tu kusasisha nambari au jukumu la IAM la moja kwa moja, lakini nadhani unapaswa kuweza, labda kwa kubadilisha nambari ndani ya ndoo??).

### Upatikanaji wa Kuandika juu ya ndoo

Hata ukiwa na upatikanaji wa kuandika juu ya ndoo ambapo nambari ya chanzo inapatikana **HAIKUWEZEKANA kutekeleza nambari ya kupindukia kwa kubadilisha nambari ya chanzo na `manifest.json`**.\
Labda ikiwa unafuatilia ndoo na kugundua wakati ambapo toleo jipya linajengwa na nambari ya chanzo na maelezo yanapakiwa, inaweza kuwa inawezekana kuzibadilisha ili toleo jipya litumie zile zilizo na mlango wa nyuma??

Inaonekana pia tabaka za kontena zimehifadhiwa kwenye ndoo, labda kuzibadilisha hizo?
