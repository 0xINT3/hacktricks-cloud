# GCP - Orgpolicy Privesc

<details>

<summary><strong>Soutenez HackTricks et obtenez des avantages !</strong></summary>

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou si vous souhaitez acc√©der √† la **derni√®re version de PEASS ou t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**The PEASS Family**](https://opensea.io/collection/the-peass-family), notre collection d'[**NFTs**](https://opensea.io/collection/the-peass-family) exclusifs
* **Rejoignez** üí¨ **le groupe Discord** ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-moi** sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm).
* **Partagez vos astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **d√©p√¥ts Github.**

</details>

## orgpolicy

### `orgpolicy.policy.set`

Cette m√©thode ne vous accorde pas n√©cessairement plus de permissions IAM, mais elle peut **d√©sactiver certaines barri√®res** qui emp√™chent certaines actions. Par exemple, il existe une contrainte de politique d'organisation nomm√©e _appengine.disableCodeDownload_ qui emp√™che le t√©l√©chargement du code source d'App Engine par les utilisateurs du projet. Si cela √©tait activ√©, vous ne pourriez pas t√©l√©charger ce code source, mais vous pourriez utiliser _orgpolicy.policy.set_ pour d√©sactiver la contrainte, puis continuer avec le t√©l√©chargement du code source.

![](https://rhinosecuritylabs.com/wp-content/uploads/2020/04/image5-1.png)

La capture d'√©cran ci-dessus montre que la contrainte _appengine.disableCodeDownload_ est appliqu√©e, ce qui signifie qu'elle nous emp√™che de t√©l√©charger le code source. En utilisant _orgpolicy.policy.set_, nous pouvons d√©sactiver cette application, puis continuer √† t√©l√©charger le code source.

Le script d'exploitation pour cette m√©thode peut √™tre trouv√© [ici](https://github.com/RhinoSecurityLabs/GCP-IAM-Privilege-Escalation/blob/master/ExploitScripts/orgpolicy.policy.set.py).

<details>

<summary><strong>Soutenez HackTricks et obtenez des avantages !</strong></summary>

* Si vous souhaitez voir votre **entreprise annonc√©e dans HackTricks** ou si vous souhaitez acc√©der √† la **derni√®re version de PEASS ou t√©l√©charger HackTricks en PDF**, consultez les [**PLANS D'ABONNEMENT**](https://github.com/sponsors/carlospolop) !
* Obtenez le [**swag officiel PEASS & HackTricks**](https://peass.creator-spring.com)
* D√©couvrez [**The PEASS Family**](https://opensea.io/collection/the-peass-family), notre collection d'[**NFTs**](https://opensea.io/collection/the-peass-family) exclusifs
* **Rejoignez** üí¨ **le groupe Discord** ou le [**groupe Telegram**](https://t.me/peass) ou **suivez-moi** sur **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm).
* **Partagez vos astuces de piratage en soumettant des PR aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **d√©p√¥ts Github.**

</details>