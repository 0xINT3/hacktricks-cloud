# GCP - 杂项权限提升

<details>

<summary><strong>支持HackTricks并获得福利！</strong></summary>

* 如果您想在HackTricks中看到您的公司广告，或者如果您想访问PEASS的最新版本或下载PDF版的HackTricks，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方PEASS和HackTricks周边产品**](https://peass.creator-spring.com)
* 发现[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们的独家[**NFT**](https://opensea.io/collection/the-peass-family)收藏品
* **加入** 💬 [**Discord群组**](https://discord.gg/hRep4RUj7f) 或 [**Telegram群组**](https://t.me/peass) 或 **关注**我在**Twitter**上的🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* **通过向** [**HackTricks**](https://github.com/carlospolop/hacktricks) **和** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **github仓库提交PR来分享您的黑客技巧。**

</details>

## 通用有趣的权限

### \*.setIamPolicy

如果您拥有一个用户在资源中具有**`setIamPolicy`**权限，您可以通过更改该资源的IAM策略来**提升特权**，因为您将能够赋予该资源更多的权限。\
如果资源允许执行代码且不需要iam.ServiceAccounts.actAs，则此权限还可以允许**提升到其他主体**。

* _cloudfunctions.functions.setIamPolicy_
* 修改云函数的策略以允许自己调用它。

有数十种资源类型具有此类权限，您可以在[https://cloud.google.com/iam/docs/permissions-reference](https://cloud.google.com/iam/docs/permissions-reference)中搜索setIamPolicy以找到所有这些资源类型。

### \*.create, \*.update

这些权限可以非常有用，可以通过**创建新资源或更新现有资源**来尝试提升特权。如果您还具有**iam.serviceAccounts.actAs**权限，并且您具有.create/.update权限的资源可以附加服务帐户，则这些权限尤其有用。

### \*ServiceAccount\*

此权限通常允许您在某些资源中**访问或修改服务帐户**（例如：compute.instances.setServiceAccount）。这**可能导致特权提升**，但这将取决于每种情况。



<details>

<summary><strong>支持HackTricks并获得福利！</strong></summary>

* 如果您想在HackTricks中看到您的公司广告，或者如果您想访问PEASS的最新版本或下载PDF版的HackTricks，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方PEASS和HackTricks周边产品**](https://peass.creator-spring.com)
* 发现[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们的独家[**NFT**](https://opensea.io/collection/the-peass-family)收藏品
* **加入** 💬 [**Discord群组**](https://discord.gg/hRep4RUj7f) 或 [**Telegram群组**](https://t.me/peass) 或 **关注**我在**Twitter**上的🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* **通过向** [**HackTricks**](https://github.com/carlospolop/hacktricks) **和** [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) **github仓库提交PR来分享您的黑客技巧。**

</details>
