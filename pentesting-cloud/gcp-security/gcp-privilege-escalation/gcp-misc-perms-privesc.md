# GCP - その他の特権昇格

<details>

<summary><strong>ハックトリックをサポートして特典を得る！</strong></summary>

* **ハックトリックで会社を宣伝したい**場合や、**最新バージョンのPEASSを入手したい**場合や、HackTricksをPDFでダウンロードしたい場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**公式PEASS＆HackTricksグッズ**](https://peass.creator-spring.com)を手に入れましょう
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を見つけて、独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションを発見しましょう
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**Telegramグループ**](https://t.me/peass)に参加するか、**Twitter**で私をフォローしましょう 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)
* **ハッキングのトリックを共有するには、PRを提出して** [**HackTricks**](https://github.com/carlospolop/hacktricks)と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のGitHubリポジトリに参加しましょう。

</details>

## 一般的な興味深い権限

### \*.setIamPolicy

リソースで**`setIamPolicy`**権限を持つユーザーを所有している場合、そのリソースのIAMポリシーを変更し、それによって特権を昇格させることができます。\
この権限は、リソースがコードの実行を許可し、iam.ServiceAccounts.actAsが必要ではない場合、**他のプリンシパルに特権を昇格させる**こともできます。

* _cloudfunctions.functions.setIamPolicy_
* Cloud Functionのポリシーを変更して、自分自身を呼び出すことを許可します。

この種の権限を持つリソースのタイプは数十あります。setIamPolicyを検索して、[https://cloud.google.com/iam/docs/permissions-reference](https://cloud.google.com/iam/docs/permissions-reference)でそれらすべてを見つけることができます。

### \*.create, \*.update

これらの権限は、**新しいリソースを作成したり、既存のリソースを更新する**ことで特権を昇格させるのに非常に役立ちます。これらの権限は、Service Accountに対しても**iam.serviceAccounts.actAs**権限を持っている場合や、.create/.update権限を持つリソースがサービスアカウントをアタッチできる場合に特に有用です。

### \*ServiceAccount\*

この権限は通常、特定のリソース内の**サービスアカウントにアクセスしたり変更したり**することを許可します（例：compute.instances.setServiceAccount）。これは特権昇格のベクトルにつながる可能性がありますが、それぞれのケースに依存します。


<details>

<summary><strong>ハックトリックをサポートして特典を得る！</strong></summary>

* **ハックトリックで会社を宣伝したい**場合や、**最新バージョンのPEASSを入手したい**場合や、HackTricksをPDFでダウンロードしたい場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください！
* [**公式PEASS＆HackTricksグッズ**](https://peass.creator-spring.com)を手に入れましょう
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を見つけて、独占的な[**NFT**](https://opensea.io/collection/the-peass-family)のコレクションを発見しましょう
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**Telegramグループ**](https://t.me/peass)に参加するか、**Twitter**で私をフォローしましょう 🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)
* **ハッキングのトリックを共有するには、PRを提出して** [**HackTricks**](https://github.com/carlospolop/hacktricks)と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のGitHubリポジトリに参加しましょう。

</details>
