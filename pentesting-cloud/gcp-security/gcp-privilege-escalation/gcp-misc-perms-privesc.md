# GCP - Verschiedene Privilege Escalation

<details>

<summary><strong>Erlernen Sie AWS-Hacking von Grund auf mit</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Andere M√∂glichkeiten, HackTricks zu unterst√ºtzen:

* Wenn Sie Ihr **Unternehmen in HackTricks beworben sehen m√∂chten** oder **HackTricks im PDF-Format herunterladen m√∂chten**, √ºberpr√ºfen Sie die [**ABONNEMENTPL√ÑNE**](https://github.com/sponsors/carlospolop)!
* Holen Sie sich das [**offizielle PEASS & HackTricks-Merchandise**](https://peass.creator-spring.com)
* Entdecken Sie [**The PEASS Family**](https://opensea.io/collection/the-peass-family), unsere Sammlung exklusiver [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie mir auf **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Teilen Sie Ihre Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repositories einreichen.

</details>

## Generische Interessante Berechtigungen

### \*.setIamPolicy

Wenn Sie einen Benutzer besitzen, der die Berechtigung **`setIamPolicy`** in einem Ressource hat, k√∂nnen Sie **Berechtigungen in dieser Ressource eskalieren**, da Sie die IAM-Richtlinie dieser Ressource √§ndern und sich dadurch mehr Rechte verschaffen k√∂nnen.\
Diese Berechtigung kann es auch erm√∂glichen, **zu anderen Prinzipalen zu eskalieren**, wenn die Ressource das Ausf√ºhren von Code erlaubt und iam.ServiceAccounts.actAs nicht erforderlich ist.

* _cloudfunctions.functions.setIamPolicy_
* √Ñndern Sie die Richtlinie einer Cloud-Funktion, um sich selbst das Aufrufen zu erm√∂glichen.

Es gibt dutzende von Ressourcentypen mit dieser Art von Berechtigung, Sie k√∂nnen sie alle unter [https://cloud.google.com/iam/docs/permissions-reference](https://cloud.google.com/iam/docs/permissions-reference) finden, indem Sie nach setIamPolicy suchen.

### \*.create, \*.update

Diese Berechtigungen k√∂nnen sehr n√ºtzlich sein, um Berechtigungen in Ressourcen zu eskalieren, indem Sie **eine neue erstellen oder eine vorhandene aktualisieren**. Diese Arten von Berechtigungen sind besonders n√ºtzlich, wenn Sie auch die Berechtigung **iam.serviceAccounts.actAs** √ºber ein Servicekonto haben und die Ressource, √ºber die Sie .create/.update haben, ein Servicekonto anh√§ngen kann.

### \*ServiceAccount\*

Diese Berechtigung wird Ihnen in der Regel erm√∂glichen, auf ein Servicekonto in einer Ressource zuzugreifen oder es zu √§ndern (z. B.: compute.instances.setServiceAccount). Dies **k√∂nnte zu einem Privilege Escalation-Vektor f√ºhren**, aber es h√§ngt von jedem Fall ab.
