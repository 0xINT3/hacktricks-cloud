# GCP - Misc Privesc

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)でゼロからヒーローまでのAWSハッキングを学ぶ</strong></summary>

HackTricksをサポートする他の方法:

* **HackTricksにあなたの会社を広告したい**、または**HackTricksをPDFでダウンロードしたい**場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください。
* [**公式PEASS & HackTricksグッズ**](https://peass.creator-spring.com)を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)のコレクションをチェックする
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に**参加する**か、[**テレグラムグループ**](https://t.me/peass)に参加するか、🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)を**フォローする**
* [**HackTricks**](https://github.com/carlospolop/hacktricks)と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のgithubリポジトリにPRを提出して、あなたのハッキングのコツを共有する。

</details>

## 一般的な興味深い権限

### \*.setIamPolicy

リソースに**`setIamPolicy`**権限を持つユーザーがいれば、そのリソースのIAMポリシーを変更して自分により多くの権限を与えることができるため、**そのリソースで権限をエスカレーションすることができます**。\
この権限は、リソースがコードの実行を許可し、iam.ServiceAccounts.actAsが必要でない場合、**他のプリンシパルへのエスカレーションも可能にする**ことがあります。

* _cloudfunctions.functions.setIamPolicy_
* Cloud Functionのポリシーを変更して、自分がそれを呼び出せるようにする。

この種の権限を持つリソースタイプは数十あり、[https://cloud.google.com/iam/docs/permissions-reference](https://cloud.google.com/iam/docs/permissions-reference)でsetIamPolicyを検索することで、それらをすべて見つけることができます。

### \*.create, \*.update

これらの権限は、**新しいリソースを作成するか、既存のリソースを更新することで**リソースでの権限エスカレーションを試みるのに非常に有用です。これらの権限は、特にService Accountに対して**iam.serviceAccounts.actAs**権限を持ち、.create/.update権限を持つリソースがService Accountをアタッチできる場合に特に有用です。

### \*ServiceAccount\*

この権限は通常、**リソース内のService Accountにアクセスまたは変更することを許可します**（例：compute.instances.setServiceAccount）。これは**権限エスカレーションのベクトルにつながる可能性があります**が、ケースによって異なります。



<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)でゼロからヒーローまでのAWSハッキングを学ぶ</strong></summary>

HackTricksをサポートする他の方法:

* **HackTricksにあなたの会社を広告したい**、または**HackTricksをPDFでダウンロードしたい**場合は、[**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェックしてください。
* [**公式PEASS & HackTricksグッズ**](https://peass.creator-spring.com)を入手する
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)を発見し、独占的な[**NFTs**](https://opensea.io/collection/the-peass-family)のコレクションをチェックする
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に**参加する**か、[**テレグラムグループ**](https://t.me/peass)に参加するか、🐦 [**@carlospolopm**](https://twitter.com/carlospolopm)を**フォローする**
* [**HackTricks**](https://github.com/carlospolop/hacktricks)と[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のgithubリポジトリにPRを提出して、あなたのハッキングのコツを共有する。

</details>
