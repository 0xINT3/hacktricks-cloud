# GCP <--> Workspace рдкрд┐рд╡реЛрдЯрд┐рдВрдЧ

<details>

<summary><strong>AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рд╢реВрдиреНрдп рд╕реЗ рд▓реЗрдХрд░ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ**, рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХреНрд╕рдХреНрд▓реВрд╕рд┐рд╡ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд╛ рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram group**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** рдкрд░ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm) рдХреЛ **рдлреЙрд▓реЛ рдХрд░реЗрдВ**.
* **HackTricks** рдХреЗ [**github repos**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ.

</details>

## **GCP рд╕реЗ GWS рддрдХ**

### **Domain Wide Delegation рдХреА рдореВрд▓ рдмрд╛рддреЗрдВ**

Google Workspace рдХрд╛ Domain-Wide delegation рдПрдХ рдкрд╣рдЪрд╛рди рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ, рдЪрд╛рд╣реЗ рд╡рд╣ Google Workspace Marketplace рдХрд╛ **рдмрд╛рд╣рд░реА рдРрдк** рд╣реЛ рдпрд╛ рдЖрдВрддрд░рд┐рдХ **GCP Service Account**, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреА рдУрд░ рд╕реЗ Workspace рдХреЗ рдЖрд░-рдкрд╛рд░ **рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ** рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

{% hint style="info" %}
рдЗрд╕рдХрд╛ рдореВрд▓рддрдГ рдЕрд░реНрде рд╣реИ рдХрд┐ рд╕рдВрдЧрдарди рдХреЗ GCP рдкреНрд░реЛрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рдЕрдВрджрд░ рдХреЗ **service accounts** рд╕рдВрдЧрдарди рдХреЗ рдЙрд╕реА (рдпрд╛ рдпрд╣рд╛рдВ рддрдХ рдХрд┐ рдЕрд▓рдЧ) Workspace рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХрд╛ **рдЕрдиреБрдХрд░рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**ред
{% endhint %}

рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рдХреИрд╕реЗ рдпрд╣ рд╕рдЯреАрдХ рд░реВрдк рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рджреЗрдЦреЗрдВ:

{% content-ref url="gcp-understanding-domain-wide-delegation.md" %}
[gcp-understanding-domain-wide-delegation.md](gcp-understanding-domain-wide-delegation.md)
{% endcontent-ref %}

### рдореМрдЬреВрджрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рдордВрдбрд▓ рдХрд╛ рд╕рдордЭреМрддрд╛

рдпрджрд┐ рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдиреЗ **GCP рдкрд░ рдХреБрдЫ рдкрд╣реБрдВрдЪ рдХрд╛ рд╕рдордЭреМрддрд╛ рдХрд┐рдпрд╛** рдФрд░ **рдПрдХ рдорд╛рдиреНрдп Workspace рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдИрдореЗрд▓** (рдЕрдзрд┐рдорд╛рдирддрдГ **рд╕реБрдкрд░ рдПрдбрдорд┐рди**) рдХрдВрдкрдиреА рдХрд╛ рдЬрд╛рдирддрд╛ рд╣реИ, рддреЛ рд╡рд╣ **рд╕рднреА рдкреНрд░реЛрдЬреЗрдХреНрдЯреНрд╕ рдХрд╛ рдЕрдиреБрдХреНрд░рдордг рдХрд░ рд╕рдХрддрд╛ рд╣реИ** рдЬрд┐рд╕ рддрдХ рдЙрд╕рдХреА рдкрд╣реБрдВрдЪ рд╣реИ, **рд╕рднреА SAs рдХрд╛ рдЕрдиреБрдХреНрд░рдордг рдХрд░реЗрдВ** рдкреНрд░реЛрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ, рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдХрд┐рди **service accounts рддрдХ рдЙрд╕рдХреА рдкрд╣реБрдВрдЪ рд╣реИ**, рдФрд░ **рдЗрди рд╕рднреА рдЪрд░рдгреЛрдВ рдХреЛ рджреЛрд╣рд░рд╛рдПрдВ** рд╣рд░реЗрдХ SA рдХреЗ рд╕рд╛рде рдЬрд┐рд╕реЗ рд╡рд╣ рдЕрдиреБрдХрд░рдг рдХрд░ рд╕рдХрддрд╛ рд╣реИред\
**рд╕рднреА service accounts рдХреА рд╕реВрдЪреА рдХреЗ рд╕рд╛рде** рдЬрд┐рд╕ рддрдХ рдЙрд╕рдХреА **рдкрд╣реБрдВрдЪ** рд╣реИ рдФрд░ **Workspace** **рдИрдореЗрд▓реНрд╕** рдХреА рд╕реВрдЪреА рдХреЗ рд╕рд╛рде, рд╣рдорд▓рд╛рд╡рд░ рдкреНрд░рддреНрдпреЗрдХ service account рдХреЗ рд╕рд╛рде **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░ рд╕рдХрддрд╛ рд╣реИ**ред

{% hint style="danger" %}
рдиреЛрдЯ рдХрд░реЗрдВ рдХрд┐ domain wide delegation рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддреЗ рд╕рдордп рдХрд┐рд╕реА Workspace рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдмрд╕ **рдПрдХ рдорд╛рдиреНрдп рдЬрд╛рдирдирд╛ рдкрд░реНрдпрд╛рдкреНрдд рдФрд░ рдЕрдиреБрдХрд░рдг рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИ**ред\
рд╣рд╛рд▓рд╛рдВрдХрд┐, **рдЕрдиреБрдХрд░рдг рдХрд┐рдП рдЧрдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛**, рдЗрд╕рд▓рд┐рдП рдЕрдЧрд░ рд╡рд╣ рд╕реБрдкрд░ рдПрдбрдорд┐рди рд╣реИ рддреЛ рдЖрдк рд╕рдм рдХреБрдЫ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВред рдЕрдЧрд░ рдЙрд╕рдХреА рдХреЛрдИ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рд╣реИ рддреЛ рдпрд╣ рдмреЗрдХрд╛рд░ рд╣реЛрдЧрд╛ред
{% endhint %}

#### [**DeleFriend**](https://github.com/axon-git/DeleFriend)

рдпрд╣ рдПрдХ рдЯреВрд▓ рд╣реИ рдЬреЛ рдЗрди рдЪрд░рдгреЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдХреЗ рд╣рдорд▓рд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реИ:

1. Resource Manager API рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ **GCP рдкреНрд░реЛрдЬреЗрдХреНрдЯреНрд╕ рдХрд╛ рдЕрдиреБрдХреНрд░рдордг** рдХрд░реЗрдВред
2. рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕рдВрд╕рд╛рдзрди рдкрд░ рдЗрдЯрд░реЗрдЯ рдХрд░реЗрдВ, рдФрд░ _GetIAMPolicy_ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрди GCP Service account рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ **рдЕрдиреБрдХреНрд░рдордг рдХрд░реЗрдВ** рдЬрд┐рд╕ рддрдХ рдкреНрд░рд╛рд░рдВрднрд┐рдХ IAM рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдкрд╣реБрдВрдЪ рд╣реИред
3. **рдкреНрд░рддреНрдпреЗрдХ service account рднреВрдорд┐рдХрд╛ рдкрд░ рдЗрдЯрд░реЗрдЯ рдХрд░реЗрдВ**, рдФрд░ рд▓рдХреНрд╖рд┐рдд service account рд╕рдВрд╕рд╛рдзрди рдкрд░ _**serviceAccountKeys.create**_ рдЕрдиреБрдорддрд┐ рдХреЗ рд╕рд╛рде рдирд┐рд░реНрдорд┐рдд, рдореВрд▓, рдФрд░ рдХрд╕реНрдЯрдо рднреВрдорд┐рдХрд╛рдУрдВ рдХреЛ рдЦреЛрдЬреЗрдВред рдпрд╣ рдзреНрдпрд╛рди рджреЗрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ Editor рднреВрдорд┐рдХрд╛ рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ рдЗрд╕ рдЕрдиреБрдорддрд┐ рдХрд╛ рдЕрдзрд┐рдХрд╛рд░реА рд╣реЛрддреА рд╣реИред
4. рдЙрди рд╕рднреА service account рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ **рдирдИ `KEY_ALG_RSA_2048`** рдирд┐рдЬреА рдХреБрдВрдЬреА рдмрдирд╛рдПрдВ рдЬрд┐рдиреНрд╣реЗрдВ IAM рдиреАрддрд┐ рдореЗрдВ рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рдЕрдиреБрдорддрд┐ рдХреЗ рд╕рд╛рде рдкрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред
5. **рдкреНрд░рддреНрдпреЗрдХ рдирдП service account рдкрд░ рдЗрдЯрд░реЗрдЯ рдХрд░реЗрдВ рдФрд░ рдПрдХ `JWT`** **рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдПрдВ** рдЬреЛ SA рдирд┐рдЬреА рдХреБрдВрдЬреА рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдФрд░ рдПрдХ OAuth рд╕реНрдХреЛрдк рд╕реЗ рдмрдирд╛ рд╣реЛред рдПрдХ рдирдпрд╛ _JWT_ рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ **рд╕рднреА рдореМрдЬреВрджрд╛ OAuth рд╕реНрдХреЛрдкреНрд╕ рдХреЗ рд╕рдВрдпреЛрдЬрдиреЛрдВ рдкрд░ рдЗрдЯрд░реЗрдЯ рдХрд░реЗрдЧреА** **oauth\_scopes.txt** рд╕реВрдЪреА рд╕реЗ, рддрд╛рдХрд┐ рд╕рднреА рдкреНрд░рддрд┐рдирд┐рдзрд┐рдордВрдбрд▓ рд╕рдВрднрд╛рд╡рдирд╛рдУрдВ рдХреЛ рдЦреЛрдЬрд╛ рдЬрд╛ рд╕рдХреЗред рд╕реВрдЪреА **oauth\_scopes.txt** рдХреЛ рд╣рдордиреЗ Workspace рдкрд╣рдЪрд╛рдиреЛрдВ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╕рднреА OAuth рд╕реНрдХреЛрдкреНрд╕ рдХреЗ рд╕рд╛рде рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рд╣реИред
6. `_make_authorization_grant_assertion` рд╡рд┐рдзрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ рдХрд┐ DWD рдХреЗ рддрд╣рдд JWTs рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ **рд▓рдХреНрд╖рд┐рдд workspace рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛** рдХреА рдШреЛрд╖рдгрд╛ рдХреА рдЬрд╛рдП, рдЬрд┐рд╕реЗ _subject_ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрджрд░реНрднрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЬрдмрдХрд┐ рдпрд╣ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдиреЗ рдХрд╛ рдкреНрд░рддреАрдд рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рд╕рдордЭреЗрдВ рдХрд┐ **DWD рдПрдХ рдбреЛрдореЗрди рдХреЗ рднреАрддрд░ рд╣рд░ рдкрд╣рдЪрд╛рди рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддрд╛ рд╣реИ**ред рдирддреАрдЬрддрди, **рдХрд┐рд╕реА рднреА рдбреЛрдореЗрди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП JWT рдмрдирд╛рдирд╛** рдЙрд╕ рдбреЛрдореЗрди рдХреА рд╕рднреА рдкрд╣рдЪрд╛рдиреЛрдВ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддрд╛ рд╣реИ, рд╣рдорд╛рд░реЗ рд╕рдВрдпреЛрдЬрди рдЕрдиреБрдХреНрд░рдордг рдЬрд╛рдВрдЪ рдХреЗ рдЕрдиреБрд░реВрдкред рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ, рдПрдХ рдорд╛рдиреНрдп Workspace рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЖрдЧреЗ рдмрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред\
рдпрд╣ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ DeleFriend рдХреА _config.yaml_ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдпрджрд┐ рдПрдХ рд▓рдХреНрд╖рд┐рдд workspace рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╣рд▓реЗ рд╕реЗ рдЬреНрдЮрд╛рдд рдирд╣реАрдВ рд╣реИ, рддреЛ рдЯреВрд▓ GCP рдкреНрд░реЛрдЬреЗрдХреНрдЯреНрд╕ рдкрд░ рднреВрдорд┐рдХрд╛рдУрдВ рдХреЗ рд╕рд╛рде рдбреЛрдореЗрди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рд╕реНрдХреИрди рдХрд░рдХреЗ рдорд╛рдиреНрдп workspace рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреА рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдкрд╣рдЪрд╛рди рдХреА рд╕реБрд╡рд┐рдзрд╛ рджреЗрддрд╛ рд╣реИред рдпрд╣ рдлрд┐рд░ рд╕реЗ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ рдХрд┐ JWTs рдбреЛрдореЗрди-рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рд╣рд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП рдЙрддреНрдкрдиреНрди рдирд╣реАрдВ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ; рдЗрд╕рд▓рд┐рдП, рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдкреНрд░рддрд┐ рдбреЛрдореЗрди рдПрдХ рдЕрджреНрд╡рд┐рддреАрдп рдкрд╣рдЪрд╛рди рдХреЛ рд▓рдХреНрд╖рд┐рдд рдХрд░рддреА рд╣реИред
7. **рдкреНрд░рддреНрдпреЗрдХ JWT рдХреЗ рд▓рд┐рдП рдПрдХ рдирдпрд╛ bearer access token рдХрд╛ рдЕрдиреБрдХреНрд░рдордг рдФрд░ рдирд┐рд░реНрдорд╛рдг рдХрд░реЗрдВ** рдФрд░ tokeninfo API рдХреЗ рдЦрд┐рд▓рд╛рдл рдЯреЛрдХрди рдХреА рд╡реИрдзрддрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВред

#### [Gitlab рдХреА Python рд╕реНрдХреНрд░рд┐рдкреНрдЯ](https://gitlab.com/gitlab-com/gl-security/threatmanagement/redteam/redteam-public/gcp\_misc/-/blob/master/gcp\_delegation.py)

Gitlab рдиреЗ [рдпрд╣ Python рд╕реНрдХреНрд░рд┐рдкреНрдЯ](https://gitlab.com/gitlab-com/gl-security/gl-redteam/gcp\_misc/blob/master/gcp\_delegation.py) рдмрдирд╛рдИ рд╣реИ рдЬреЛ рджреЛ рдЪреАрдЬреЗрдВ рдХрд░ рд╕рдХрддреА рд╣реИ - рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА рд╕реВрдЪреА рдмрдирд╛рдирд╛ рдФрд░ SA рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдФрд░ рдЕрдиреБрдХрд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддреЗ рд╣реБрдП рдПрдХ рдирдпрд╛ рдкреНрд░рд╢рд╛рд╕рдирд┐рдХ рдЦрд╛рддрд╛ рдмрдирд╛рдирд╛ред рдпрд╣рд╛рдВ рдмрддрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдЖрдк рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░
```bash
# Install requirements
pip install --upgrade --user oauth2client

# Validate access only
./gcp_delegation.py --keyfile ./credentials.json \
--impersonate steve.admin@target-org.com \
--domain target-org.com

# List the directory
./gcp_delegation.py --keyfile ./credentials.json \
--impersonate steve.admin@target-org.com \
--domain target-org.com \
--list

# Create a new admin account
./gcp_delegation.py --keyfile ./credentials.json \
--impersonate steve.admin@target-org.com \
--domain target-org.com \
--account pwned
```
### рдПрдХ рдирдпрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдмрдирд╛рдПрдВ (Persistence)

[**https://admin.google.com/u/1/ac/owl/domainwidedelegation**](https://admin.google.com/u/1/ac/owl/domainwidedelegation)** рдкрд░ рдбреЛрдореЗрди рд╡рд╛рдЗрдб рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХреА рдЬрд╛рдВрдЪ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред**

рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдЬрд┐рд╕рдХреЗ рдкрд╛рд╕ **GCP рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ рд╕рд░реНрд╡рд┐рд╕ рдЕрдХрд╛рдЙрдВрдЯреНрд╕ рдмрдирд╛рдиреЗ рдХреА рдХреНрд╖рдорддрд╛** рдФрд░ GWS рдХреЗ рд▓рд┐рдП **рд╕реБрдкрд░ рдПрдбрдорд┐рди рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░** рд╣реЛ, рд╡рд╣ рдПрдХ рдирдпрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ SAs рдХреЛ рдХреБрдЫ GWS рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ:

1. **рдирдпрд╛ рд╕рд░реНрд╡рд┐рд╕ рдЕрдХрд╛рдЙрдВрдЯ рдФрд░ рд╕рдВрдмрдВрдзрд┐рдд рдХреА рдкреЗрдпрд░ рдЙрддреНрдкрдиреНрди рдХрд░рдирд╛:** GCP рдкрд░, рдирдП рд╕рд░реНрд╡рд┐рд╕ рдЕрдХрд╛рдЙрдВрдЯ рд╕рдВрд╕рд╛рдзрди рдпрд╛ рддреЛ рдХрдВрд╕реЛрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рд░реВрдк рд╕реЗ рдпрд╛ рд╕реАрдзреЗ API рдХреЙрд▓реНрд╕ рдФрд░ CLI рдЯреВрд▓реНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░реЛрдЧреНрд░рд╛рдореЗрдЯрд┐рдХ рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕рдХреЗ рд▓рд┐рдП **рд░реЛрд▓ `iam.serviceAccountAdmin`** рдпрд╛ рдХреЛрдИ рдХрд╕реНрдЯрдо рд░реЛрд▓ рдЬрд┐рд╕рдореЗрдВ **`iam.serviceAccounts.create`** **рдЕрдиреБрдорддрд┐** рд╣реЛ, рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рдПрдХ рдмрд╛рд░ рд╕рд░реНрд╡рд┐рд╕ рдЕрдХрд╛рдЙрдВрдЯ рдмрди рдЬрд╛рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо **рд╕рдВрдмрдВрдзрд┐рдд рдХреА рдкреЗрдпрд░** рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдЖрдЧреЗ рдмрдврд╝реЗрдВрдЧреЗ (**`iam.serviceAccountKeys.create`** рдЕрдиреБрдорддрд┐)ред
2. **рдирдП рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд╛ рдирд┐рд░реНрдорд╛рдг**: рдпрд╣ рд╕рдордЭрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ **рдХреЗрд╡рд▓ рд╕реБрдкрд░ рдПрдбрдорд┐рди рд░реЛрд▓ рдХреЗ рдкрд╛рд╕ Google Workspace рдореЗрдВ рд╡реИрд╢реНрд╡рд┐рдХ рдбреЛрдореЗрди-рд╡рд╛рдЗрдб рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реЛрддреА рд╣реИ** рдФрд░ рдбреЛрдореЗрди-рд╡рд╛рдЗрдб рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХреЛ рдкреНрд░реЛрдЧреНрд░рд╛рдореЗрдЯрд┐рдХ рд░реВрдк рд╕реЗ рд╕реЗрдЯ рдЕрдк рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛, рдЗрд╕реЗ рдХреЗрд╡рд▓ Google Workspace **рдХрдВрд╕реЛрд▓** рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ **рдореИрдиреНрдпреБрдЕрд▓реА** рдмрдирд╛рдпрд╛ рдФрд░ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
* рдирд┐рдпрдо рдХрд╛ рдирд┐рд░реНрдорд╛рдг Google Workspace Admin рдХрдВрд╕реЛрд▓ рдореЗрдВ **API рдХрдВрдЯреНрд░реЛрд▓реНрд╕ тЖТ рдореИрдиреЗрдЬ рдбреЛрдореЗрди-рд╡рд╛рдЗрдб рдбреЗрд▓рд┐рдЧреЗрд╢рди** рдкреЗрдЬ рдХреЗ рдЕрдВрддрд░реНрдЧрдд рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
3. **OAuth рд╕реНрдХреЛрдкреНрд╕ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд╕рдВрд▓рдЧреНрди рдХрд░рдирд╛**: рдирдП рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддреЗ рд╕рдордп, Google рдХреЗрд╡рд▓ 2 рдкреИрд░рд╛рдореАрдЯрд░ рдХреА рдорд╛рдВрдЧ рдХрд░рддрд╛ рд╣реИ, рдХреНрд▓рд╛рдЗрдВрдЯ ID, рдЬреЛ рдХрд┐ GCP рд╕рд░реНрд╡рд┐рд╕ рдЕрдХрд╛рдЙрдВрдЯ рд╕рдВрд╕рд╛рдзрди рдХрд╛ **OAuth ID** рд╣реИ, рдФрд░ **OAuth рд╕реНрдХреЛрдкреНрд╕** рдЬреЛ рдпрд╣ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХреЛ рдХрд┐рди API рдХреЙрд▓реНрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред
* **OAuth рд╕реНрдХреЛрдкреНрд╕ рдХреА рдкреВрд░реА рд╕реВрдЪреА** [**рдпрд╣рд╛рдБ**](https://developers.google.com/identity/protocols/oauth2/scopes) рдкрд╛рдИ рдЬрд╛ рд╕рдХрддреА рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣рд╛рдБ рдПрдХ рд╕рд┐рдлрд╛рд░рд┐рд╢ рд╣реИ: `https://www.googleapis.com/auth/userinfo.email, https://www.googleapis.com/auth/cloud-platform, https://www.googleapis.com/auth/admin.directory.group, https://www.googleapis.com/auth/admin.directory.user, https://www.googleapis.com/auth/admin.directory.domain, openid`
4. **рд▓рдХреНрд╖реНрдп рдкрд╣рдЪрд╛рди рдХреА рдУрд░ рд╕реЗ рдХрд╛рд░реНрдп рдХрд░рдирд╛:** рдЗрд╕ рдмрд┐рдВрджреБ рдкрд░, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ GWS рдореЗрдВ рдПрдХ рдХрд╛рд░реНрдпрд╛рддреНрдордХ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рд╡рд╕реНрддреБ рд╣реИред рдЕрдм, **GCP рд╕рд░реНрд╡рд┐рд╕ рдЕрдХрд╛рдЙрдВрдЯ рдкреНрд░рд╛рдЗрд╡реЗрдЯ рдХреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рд╣рдо API рдХреЙрд▓реНрд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ** (OAuth рд╕реНрдХреЛрдк рдкреИрд░рд╛рдореАрдЯрд░ рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рд╕реНрдХреЛрдк рдореЗрдВ) рдФрд░ **Google Workspace рдореЗрдВ рдореМрдЬреВрдж рдХрд┐рд╕реА рднреА рдкрд╣рдЪрд╛рди рдХреА рдУрд░ рд╕реЗ рдХрд╛рд░реНрдп рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**ред рдЬреИрд╕рд╛ рдХрд┐ рд╣рдордиреЗ рд╕реАрдЦрд╛, рд╕рд░реНрд╡рд┐рд╕ рдЕрдХрд╛рдЙрдВрдЯ рдЕрдкрдиреА рдЬрд░реВрд░рддреЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдФрд░ REST API рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрд╕рдХреЗ рдкрд╛рд╕ рдЬреЛ рдЕрдиреБрдорддрд┐ рд╣реИ рдЙрд╕рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдЙрддреНрдкрдиреНрди рдХрд░реЗрдЧрд╛ред
* рдЗрд╕ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ **рдЙрдкрдХрд░рдгреЛрдВ** рдХреЗ рд▓рд┐рдП **рдкрд┐рдЫрд▓реЗ рдЕрдиреБрднрд╛рдЧ** рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВред

#### рдХреНрд░реЙрд╕-рдСрд░реНрдЧрдирд╛рдЗрдЬреЗрд╢рдирд▓ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡

OAuth SA ID рд╡реИрд╢реНрд╡рд┐рдХ рд╣реИ рдФрд░ **рдХреНрд░реЙрд╕-рдСрд░реНрдЧрдирд╛рдЗрдЬреЗрд╢рдирд▓ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡** рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред рдХреНрд░реЙрд╕-рдЧреНрд▓реЛрдмрд▓ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдИ рдкреНрд░рддрд┐рдмрдВрдз рд▓рд╛рдЧреВ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рд╕рд░рд▓ рд╢рдмреНрджреЛрдВ рдореЗрдВ, **рд╡рд┐рднрд┐рдиреНрди GCP рд╕рдВрдЧрдардиреЛрдВ рдХреЗ рд╕рд░реНрд╡рд┐рд╕ рдЕрдХрд╛рдЙрдВрдЯреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдЕрдиреНрдп Workspace рд╕рдВрдЧрдардиреЛрдВ рдкрд░ рдбреЛрдореЗрди-рд╡рд╛рдЗрдб рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**ред рдЗрд╕рдХрд╛ рдкрд░рд┐рдгрд╛рдо рдпрд╣ рд╣реЛрдЧрд╛ рдХрд┐ **рдХреЗрд╡рд▓ Workspace рдХреЗ рд▓рд┐рдП рд╕реБрдкрд░ рдПрдбрдорд┐рди рдПрдХреНрд╕реЗрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА**, рдФрд░ рдЙрд╕реА GCP рдЕрдХрд╛рдЙрдВрдЯ рддрдХ рдкрд╣реБрдВрдЪ рдХреА рдирд╣реАрдВ, рдХреНрдпреЛрдВрдХрд┐ рд╡рд┐рд░реЛрдзреА рдЕрдкрдиреЗ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдирд┐рдпрдВрддреНрд░рд┐рдд GCP рдЕрдХрд╛рдЙрдВрдЯ рдкрд░ рд╕рд░реНрд╡рд┐рд╕ рдЕрдХрд╛рдЙрдВрдЯреНрд╕ рдФрд░ рдкреНрд░рд╛рдЗрд╡реЗрдЯ рдХреАрдЬрд╝ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИред

### Workspace рдХреЛ рдЧрд┐рдирдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛рдирд╛

**рдбрд┐рдлрд╝реЙрд▓реНрдЯ** рд░реВрдк рд╕реЗ Workspace **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛** рдХреЗ рдкрд╛рд╕ рдирдП рдкреНрд░реЛрдЬреЗрдХреНрдЯреНрд╕ рдмрдирд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд╣реЛрддреА рд╣реИ, рдФрд░ рдЬрдм рдПрдХ рдирдпрд╛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддреЛ **рдирд┐рд░реНрдорд╛рддрд╛ рдХреЛ рдЙрд╕ рдкрд░ Owner рд░реЛрд▓ рдорд┐рд▓ рдЬрд╛рддрд╛ рд╣реИ**ред

рдЗрд╕рд▓рд┐рдП, рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ **рдПрдХ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИ**, **APIs рдХреЛ рд╕рдХреНрд╖рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИ** рдЕрдкрдиреЗ рдирдП рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ Workspace рдХреЛ рдЧрд┐рдирдиреЗ рдХреЗ рд▓рд┐рдП рдФрд░ рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдЗрд╕реЗ **рдЧрд┐рдирдиреЗ рдХреЗ рд▓рд┐рдП**ред

{% hint style="danger" %}
Workspace рдХреЛ рдЧрд┐рдирдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдкрд╛рд╕ рдкрд░реНрдпрд╛рдкреНрдд Workspace рдЕрдиреБрдорддрд┐рдпрд╛рдВ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП (рд╣рд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЛ рдЧрд┐рдирдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реЛрдЧрд╛)ред
{% endhint %}

{% code overflow="wrap" %}
```bash
# Create project
gcloud projects create <uniq-projec-name> --name=proj-name
# Set project
gcloud config set project <uniq-projec-name>
# Enable svcs
gcloud services enable admin.googleapis.com
gcloud services enable cloudidentity.googleapis.com
# Get org ID
gcloud organizations list
# Get currents email user groups
gcloud identity groups memberships search-transitive-groups --member-email <email> --labels=cloudidentity.googleapis.com/groups.discussion_forum

# FROM HERE THE USER NEEDS TO HAVE ENOUGH WORKSPACE ACCESS
gcloud beta identity groups preview --customer <org-cust-id>
```
{% endcode %}

**рдЕрдзрд┐рдХ рд╕реВрдЪрдирд╛ рдХреЗ рд▓рд┐рдП рджреЗрдЦреЗрдВ**:

{% content-ref url="../gcp-services/gcp-iam-and-org-policies-enum.md" %}
[gcp-iam-and-org-policies-enum.md](../gcp-services/gcp-iam-and-org-policies-enum.md)
{% endcontent-ref %}

## GWS рд╕реЗ GCP рддрдХ

### рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдкреНрд░рд╛рдкреНрдд GCP рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рддрдХ рдкрд╣реБрдБрдЪ

рдпрджрд┐ рд╣рдорд▓рд╛рд╡рд░ рдХреЛ GWS рдкрд░ рдкреВрд░реНрдг рдкрд╣реБрдБрдЪ рд╣реИ, рддреЛ рд╡рд╣ GCP рдкрд░ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдкреНрд░рд╛рдкреНрдд рд╕рдореВрд╣реЛрдВ рдпрд╛ рдпрд╣рд╛рдБ рддрдХ рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП GWS рд╕реЗ GCP рддрдХ рдЬрд╛рдирд╛ рдЖрдорддреМрд░ рдкрд░ "рд╕рд░рд▓" рд╣реЛрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ **GWS рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ GCP рдкрд░ рдЙрдЪреНрдЪ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд░рдЦрддреЗ рд╣реИрдВ**ред

### Google Groups рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд╡реГрджреНрдзрд┐

рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ **рд╕рдВрдЧрдарди рдХреЗ Workspace рд╕рдореВрд╣реЛрдВ рдореЗрдВ рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рд╢рд╛рдорд┐рд▓ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ** рдФрд░ рдЙрди рд╕рдореВрд╣реЛрдВ рдХреЗ рдкрд╛рд╕ **GCP рдЕрдиреБрдорддрд┐рдпрд╛рдБ** рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╣реЛ рд╕рдХрддреА рд╣реИрдВ (рдЕрдкрдиреЗ рд╕рдореВрд╣реЛрдВ рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ [https://groups.google.com/](https://groups.google.com/))ред

**google groups privesc** рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрдк GCP рддрдХ рдХреБрдЫ рдкреНрд░рдХрд╛рд░ рдХреА рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдкреНрд░рд╛рдкреНрдд рдкрд╣реБрдБрдЪ рд╡рд╛рд▓реЗ рд╕рдореВрд╣ рддрдХ рдЕрдкрдиреА рд╕реНрдерд┐рддрд┐ рдмрдврд╝рд╛ рд╕рдХрддреЗ рд╣реИрдВред

### рд╕рдВрджрд░реНрдн

* [https://www.hunters.security/en/blog/delefriend-a-newly-discovered-design-flaw-in-domain-wide-delegation-could-leave-google-workspace-vulnerable-for-takeover](https://www.hunters.security/en/blog/delefriend-a-newly-discovered-design-flaw-in-domain-wide-delegation-could-leave-google-workspace-vulnerable-for-takeover)

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert) рдХреЗ рд╕рд╛рде AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong></a><strong>!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ**, рддреЛ [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдУрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдореЗрдВ **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдпрд╛ [**telegram рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рдпрд╛ **Twitter** рдкрд░ рдореБрдЭреЗ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm) **рдХрд╛ рдЕрдиреБрд╕рд░рдг рдХрд░реЗрдВ**ред
* **HackTricks** рдХреЗ [**github repos**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ рдЕрдкрдиреА рд╣реИрдХрд┐рдВрдЧ рддрд░рдХреАрдмреЗрдВ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред

</details>
