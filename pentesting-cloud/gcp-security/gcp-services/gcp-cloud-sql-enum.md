# GCP - Cloud SQL Enum

<details>

<summary><strong>Leer AWS-hacking vanaf nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy geadverteer wil sien in HackTricks** of **HackTricks in PDF wil aflaai** Kyk na die [**INSKRYWINGSPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**Die PEASS Familie**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** my op **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Deel jou haktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)
*
*
* github-opslag.

</details>

## Basiese Inligting

Google Cloud SQL word erken as 'n **ten volle bestuurde databasisdiens**. Dit se prim√™re doel is om die prosesse wat betrokke is by die inisialisering, instandhouding, bestuur en administrasie van **verhoudingsdatabasisse** op die Google Cloud Platform te stroomlyn. Die diens is ontwerp om interaksie met bekende SQL-databasisse (**MySQL, PostgreSQL, en SQL Server**) te fasiliteer, wat die behoefte om roetine-operasionele take te bestuur, effektief uitskakel. Hierdie take sluit tipies die voorsiening van hardeware, die konfigurasie van databasisse, die toepassing van pleisters, en die uitvoering van rugsteune in.

Kernkenmerke van Google Cloud SQL sluit in:

1. **Ten Volle Bestuur**: Google Cloud SQL is 'n ten volle bestuurde diens, wat beteken dat Google databasisinstandhoudingstake soos pleistering, opdaterings, rugsteune, en konfigurasie hanteer.
2. **Skaalbaarheid**: Dit bied die vermo√´ om jou databasis se stoorvermo√´ en rekenaarbronne te skaal, dikwels sonder afbreektyd.
3. **Ho√´ Beskikbaarheid**: Bied ho√´ beskikbaarheidskonfigurasies, wat verseker dat jou databasisdienste betroubaar is en zone- of instansie-foute kan weerstaan.
4. **Sekuriteit**: Bied robuuste sekuriteitskenmerke soos dataversleuteling, Identiteit en Toegangsbestuur (IAM) beheer, en netwerk-isolasie deur die gebruik van privaat IP's en VPC.
5. **Rugsteune en Herstel**: Ondersteun outomatiese rugsteune en punt-in-tyd herstel, wat jou help om jou data te beskerm en te herstel.
6. **Integrasie**: Integreer naadloos met ander Google Cloud-diens, wat 'n omvattende oplossing bied vir die bou, implementering, en bestuur van programme.
7. **Prestasie**: Bied prestasiemetriek en diagnostiek om databasisprestasie te monitor, probleme op te los, en te verbeter.

### Wagwoord

In die webkonsol laat Cloud SQL die gebruiker toe om die **wagwoord** van die databasis **in te stel**, daar is ook 'n genereerfunksie, maar nog belangriker, **MySQL** laat toe om 'n le√´ wagwoord te **laat** en almal laat toe om net die karakter "a" as wagwoord in te stel:

<figure><img src="../../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

Dit is ook moontlik om 'n wagwoordbeleid te konfigureer wat **lengte**, **kompleksiteit**, **hergebruik uitskakel**, en **gebruikersnaam in wagwoord uitskakel** vereis. Almal is standaard gedeaktiveer.

**SQL Server** kan gekonfigureer word met **Aktiewe Gids-verifikasie**.

### Sone Beskikbaarheid

Die databasis kan **beskikbaar wees in 1 sone of in meervoudige**, natuurlik, dit word aanbeveel om belangrike databasisse in meervoudige sones te h√™.

### Versleuteling

Standaard word 'n deur Google bestuurde versleutelingssleutel gebruik, maar dit is ook **moontlik om 'n Kli√´nt-besuurde versleutelingssleutel (CMEK)** te kies.

### Verbindings

* **Privaat IP**: Dui die VPC-netwerk aan en die databasis sal 'n privaat IP binne die netwerk kry
* **Publieke IP**: Die databasis sal 'n publieke IP kry, maar standaard sal niemand in staat wees om te koppel
* **Gemagtigde netwerke**: Dui publieke **IP-reeks aan wat toegelaat moet word** om met die databasis te verbind
* **Privaat Pad**: As die DB in 'n VPC gekoppel is, is dit moontlik om hierdie opsie te aktiveer en ander GCP-diens soos BigQuery toegang daartoe te gee

<figure><img src="../../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

### Data Beskerming

* **Daaglikse rugsteune**: Voer outomatiese daaglikse rugsteune uit en dui die aantal rugsteune aan wat jy wil handhaaf.
* **Punt-in-tyd herstel**: Laat jou toe om data vanaf 'n spesifieke tydstip te herstel, tot op 'n fraksie van 'n sekonde.
* **Verwyderingsbeskerming**: Indien geaktiveer, sal die DB nie verwyder kan word totdat hierdie funksie gedeaktiveer is nie

### Enumerasie
```bash
# Get SQL instances
gcloud sql instances list
gcloud sql instances describe <inst-name> # get IPs, CACert, settings

# Get database names inside an instance (like information_schema, sys...)
gcloud sql databases list --instance <intance-name>
gcloud sql databases describe <db-name> --instance <intance-name>

# Get usernames inside the db instance
gcloud sql users list --instance <intance-name>

# Backups
gcloud sql backups list --instance <intance-name>
gcloud sql backups describe <backup-name> --instance <intance-name>
```
### Ongeverifieerde Enum

{% content-ref url="../gcp-unaunthenticated-enum-and-access/gcp-cloud-sql-unauthenticated-enum.md" %}
[gcp-cloud-sql-unauthenticated-enum.md](../gcp-unaunthenticated-enum-and-access/gcp-cloud-sql-unauthenticated-enum.md)
{% endcontent-ref %}

### Post Exploitatie

{% content-ref url="../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md" %}
[gcp-cloud-sql-post-exploitation.md](../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md)
{% endcontent-ref %}

### Volharding

{% content-ref url="../gcp-persistence/gcp-cloud-sql-persistence.md" %}
[gcp-cloud-sql-persistence.md](../gcp-persistence/gcp-cloud-sql-persistence.md)
{% endcontent-ref %}

<details>

<summary><strong>Leer AWS-hacking vanaf nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat** Kyk na die [**INSKRYWINGSPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**Die PEASS Familie**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** my op **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Deel jou haktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>
