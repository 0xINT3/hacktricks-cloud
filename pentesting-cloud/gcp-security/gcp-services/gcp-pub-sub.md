# GCP - рдкрдм / рд╕рдм

<details>

<summary><strong>рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ рдФрд░ рд▓рд╛рдн рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ!</strong></summary>

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **рд╣реИрдХрдЯреНрд░рд┐рдХреНрд╕ рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ рдпрджрд┐ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рдПрдХрд▓ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ рдореБрдЭреЗ **рдЯреНрд╡рд┐рдЯрд░** рдкрд░ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рджреНрд╡рд╛рд░рд╛ PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## рдкрдм / рд╕рдм <a href="#reviewing-cloud-pubsub" id="reviewing-cloud-pubsub"></a>

Google [**Cloud Pub/Sub**](https://cloud.google.com/pubsub/) рдПрдХ рд╕реЗрд╡рд╛ рд╣реИ рдЬреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреЛрдВ рдХреЛ **рд╕рдВрджреЗрд╢ рднреЗрдЬрдиреЗ** рдФрд░ **рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ** рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред рдореВрд▓ рд░реВрдк рд╕реЗ, рдпрд╣рд╛рдВ **рд╡рд┐рд╖рдп** рд╣реЛрддреЗ рд╣реИрдВ рдЬрд╣рд╛рдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕рдВрджреЗрд╢ рднреЗрдЬрдиреЗ рдФрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рд╕рджрд╕реНрдпрддрд╛** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рдЬрд┐рдирдореЗрдВ рд╕рдВрджреЗрд╢ рд╕рд╛рдордЧреНрд░реА рдФрд░ рдХреБрдЫ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рд╢рд╛рдорд┐рд▓ рд╣реЛрддреА рд╣реИ)ред

**рд╡рд┐рд╖рдп** рд╕рдВрджреЗрд╢ рднреЗрдЬрдиреЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдХрддрд╛рд░ рд╣реИ, рдЬрдмрдХрд┐ **рд╕рджрд╕реНрдпрддрд╛рдПрдВ** рд╡реЗ **рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕** рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╡рд┐рд╖рдпреЛрдВ рдореЗрдВ рд╕рдВрджреЗрд╢реЛрдВ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред рдПрдХ рд╡рд┐рд╖рдп рдкрд░ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ **1 рд╕рджрд╕реНрдпрддрд╛** рд╣реЛ рд╕рдХрддреА рд╣реИ рдФрд░ 3 рдкреНрд░рдХрд╛рд░ рдХреА рд╕рджрд╕реНрдпрддрд╛рдПрдВ рд╣реЛрддреА рд╣реИрдВ:

* **рдкреБрд▓**: рдЗрд╕ рд╕рджрд╕реНрдпрддрд╛ рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛(рдУрдВ) рдХреЛ рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рд▓рд┐рдП рдкреБрд▓ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред
* **рдкреБрд╢**: рдПрдХ URL рдПрдВрдбрдкреЙрдЗрдВрдЯ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рд╕рдВрджреЗрд╢ рддрддреНрдХрд╛рд▓ рдЙрд╕реЗ рднреЗрдЬреЗ рдЬрд╛рддреЗ рд╣реИрдВред
* **рдмрдбрд╝рд╛ рдкреНрд░рд╢реНрди рдкреНрд░рд╢реНрди рддрд╛рд▓рд┐рдХрд╛**: рдкреБрд╢ рдХреА рддрд░рд╣, рд▓реЗрдХрд┐рди рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдПрдХ рдмрдбрд╝рд╛ рдкреНрд░рд╢реНрди рдкреНрд░рд╢реНрди рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рд╕реЗрдЯ рдХрд░рдирд╛ред

**рдбрд┐рдлрд╝реЙрд▓реНрдЯ** рд░реВрдк рд╕реЗ, рдПрдХ рд╕рдВрджреЗрд╢ рдХреЛ **7 рджрд┐рди рддрдХ рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ**, рд▓реЗрдХрд┐рди рдпрд╣ рд╕рдордп **31 рджрд┐рди рддрдХ рдмрдврд╝рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**ред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрджрд┐ рдЗрд╕реЗ **10 рд╕реЗрдХрдВрдб рдореЗрдВ рдПрдХреНрдХ рдХрд░ рджрд┐рдпрд╛ рдирд╣реАрдВ рдЬрд╛рддрд╛ рд╣реИ**, рддреЛ рдпрд╣ рдХрддрд╛рд░ рдореЗрдВ рд╡рд╛рдкрд╕ рдЬрд╛рддрд╛ рд╣реИред

рдПрдХ рд╡рд┐рд╖рдп рдХреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдПрдХ **Google рджреНрд╡рд╛рд░рд╛ рдкреНрд░рдмрдВрдзрд┐рдд рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХреБрдВрдЬреА** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рд▓реЗрдХрд┐рди KMS рд╕реЗ рдПрдХ **CMEK** (рдЧреНрд░рд╛рд╣рдХ рдкреНрд░рдмрдВрдзрд┐рдд рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХреБрдВрдЬреА) рднреА рдЪреБрдирд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

**рдореГрдд рдкрддреНрд░**: рд╕рджрд╕реНрдпрддрд╛рдПрдВ рдПрдХ **рдЕрдзрд┐рдХрддрдо рдкрд╣реБрдВрдЪ рдкреНрд░рдпрд╛рд╕реЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛** рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░ рд╕рдХрддреА рд╣реИрдВред рдЬрдм рдПрдХ рд╕рдВрджреЗрд╢ рдкрд╣реБрдВрдЪрд╛рдпрд╛ рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдореГрдд рдкрддреНрд░ рд╡рд┐рд╖рдп рдореЗрдВ рдкреБрдирдГ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

### рдмреИрдХрдЕрдк рдФрд░ рд╕реНрдХреАрдорд╛

рд╡рд┐рд╖рдпреЛрдВ рдореЗрдВ **рдмреИрдХрдЕрдк** рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЖрдкрдХреЛ рд╡рд╣рд╛рдВ **рдкреБрд░рд╛рдиреА рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА** рднреА рдорд┐рд▓ рд╕рдХрддреА рд╣реИред рдмреИрдХрдЕрдк рдЙрд╕ рд╕рдордп рдХреЗ **рдЕрдирдПрдХреНрдб** рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдмрдирд╛рдП рд░рдЦрддреЗ рд╣реИрдВ рдФрд░ рдЙрд╕рдХреЗ рдмрд╛рдж рдХреЗ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ (рдФрд░ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд╡реЗ рдПрдХ рд╕рдкреНрддрд╛рд╣ рддрдХ рд░рд╣рддреЗ рд╣реИрдВ)ред

рдПрдХ рд╡рд┐рд╖рдп рдмрдирд╛рддреЗ рд╕рдордп, рдЖрдк рдпрд╣ рднреА рджрд░реНрд╢рд╛ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ **рд╡рд┐рд╖рдп рд╕рдВрджреЗрд╢ рдПрдХ рд╕реНрдХреАрдорд╛ рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВ**ред

### рдЧрдгрдирд╛
```bash
# Get a list of topics in the project
gcloud pubsub topics list
gcloud pubsub topics describe <topic>
gcloud pubsub topics list-subscriptions <topic>
gcloud pubsub topics get-iam-policy <topic>

# Get a list of subscriptions across all topics
gcloud pubsub subscriptions list
gcloud pubsub subscriptions describe <subscription>
gcloud pubsub subscriptions get-iam-policy <subscription>

# Get list of schemas
gcloud pubsub schemas list
gcloud pubsub schemas describe <snapshot>

# Get list of snapshots
gcloud pubsub snapshots list
gcloud pubsub snapshots describe <snapshot>
```
рдпрджрд┐ рдЖрдк [**рдПрдХ рдмрдбрд╝реЗ рд╕реЗрдЯ рдХреЗ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдЕрдиреБрд░реЛрдз рдХрд░рддреЗ рд╣реИрдВ**](https://cloud.google.com/pubsub/docs/replay-overview), рддреЛ рдЖрдкрдХреЛ рдмреЗрд╣рддрд░ рдкрд░рд┐рдгрд╛рдо рдорд┐рд▓ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ рдкреБрд░рд╛рдиреЗ рд╕рдВрджреЗрд╢ рднреА рд╢рд╛рдорд┐рд▓ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕рдХреЗ рдХреБрдЫ рдкреВрд░реНрд╡рд╛рдкреЗрдХреНрд╖рд╛рдПрдВ рд╣реЛрддреА рд╣реИрдВ рдФрд░ рдпрд╣ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдкрд░ рдкреНрд░рднрд╛рд╡ рдбрд╛рд▓ рд╕рдХрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдк рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдЖрдк рдХреНрдпрд╛ рдХрд░ рд░рд╣реЗ рд╣реИрдВред

### рдкреЛрд╕реНрдЯ рдШреБрд╕рдкреИрда

{% code overflow="wrap" %}
```bash
# Publish a message in a topic
gcloud pubsub topics publish <topic_name> --message "Hello!"

# This will retrive a non ACKed message (and won't ACK it)
gcloud pubsub subscriptions create my_subscription --topic <topic_name>
gcloud pubsub subscriptions pull <FULL SUBSCRIPTION NAME>

# Crete push subscription and recieve all the messages instantly in your web server
gcloud pubsub subscriptions create <subscription name> --topic <topic name> --push-endpoint <URL to push to>
```
{% endcode %}

## рдкрдм / рд╕рдм рд▓рд╛рдЗрдЯ

[**рдкрдм / рд╕рдм рд▓рд╛рдЗрдЯ**](https://cloud.google.com/pubsub/docs/choosing-pubsub-or-lite) рдПрдХ рдореИрд╕реЗрдЬрд┐рдВрдЧ рд╕реЗрд╡рд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ **рдЬреЛрдирд▓ рд╕реНрдЯреЛрд░реЗрдЬ** рд╣реЛрддрд╛ рд╣реИред рдкрдм / рд╕рдм рд▓рд╛рдЗрдЯ рдкрдм / рд╕рдм рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдХрдо рдХреАрдордд рдкрд░ рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдпрд╣ **рдЙрдЪреНрдЪ рдорд╛рддреНрд░рд╛ рдореЗрдВ рд╕реНрдЯреНрд░реАрдорд┐рдВрдЧ** (рд╣рд░ рд╕реЗрдХрдВрдб 10 рдорд┐рд▓рд┐рдпрди рдореИрд╕реЗрдЬ) рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдФрд░ рдЗрд╡реЗрдВрдЯ-рдбреНрд░рд╛рдЗрд╡рди рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд▓рд┐рдП рд╣реЛрддрд╛ рд╣реИ рдЬрд╣рд╛рдВ рдХрдо рдХреАрдордд рдкреНрд░рд╛рдердорд┐рдХ рдорд╛рдиреНрдпрддрд╛ рд╣реИред

рдкрдм / рд╕рдм рд▓рд╛рдЗрдЯ рдореЗрдВ **рдЯреЙрдкрд┐рдХреНрд╕** рдФрд░ **рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди** рд╣реЛрддреЗ рд╣реИрдВ, рд╡рд╣рд╛рдВ **рдмреИрдХрдЕрдк** рдФрд░ **рд╕реНрдХреАрдорд╛** рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рд╡рд╣рд╛рдВ рд╣реЛрддреЗ рд╣реИрдВ:

* **рд░рд┐рдЬрд░реНрд╡реЗрд╢рди**: рдкрдм / рд╕рдм рд▓рд╛рдЗрдЯ рд░рд┐рдЬрд░реНрд╡реЗрд╢рди рдПрдХ рд╕реБрд╡рд┐рдзрд╛ рд╣реИ рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдЙрдирдХреЗ рдореИрд╕реЗрдЬ рд╕реНрдЯреНрд░реАрдо рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рд╢реЗрд╖ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдХреНрд╖рдорддрд╛ рдЖрд░рдХреНрд╖рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред
* **рдСрдкрд░реЗрд╢рди**: рдкрдм / рд╕рдм рд▓рд╛рдЗрдЯ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдФрд░ рдкреНрд░рд╢рд╛рд╕рд┐рдд рдХрд░рдиреЗ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдФрд░ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рддрд╛ рд╣реИред

### рдЧрдгрдирд╛
```bash
# lite-topics
gcloud pubsub lite-topics list
gcloud pubsub lite-topics describe <topic>
gcloud pubsub lite-topics list-subscriptions <topic>

# lite-subscriptions
gcloud pubsub lite-subscriptions list
gcloud pubsub lite-subscriptions describe <subscription>

# lite-reservations
gcloud pubsub lite-reservations list
gcloud pubsub lite-reservations describe <topic>
gcloud pubsub lite-reservations list-topics <topic>

# lite-operations
gcloud pubsub lite-operations list
gcloud pubsub lite-operations describe <topic>
```
<details>

<summary><strong>рдмрдврд╝рд┐рдпрд╛ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ рдФрд░ рд▓рд╛рдн рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ!</strong></summary>

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА рдХрдВрдкрдиреА рдХреЛ **HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ рдпрджрд┐ рдЖрдк **PEASS рдХреЗ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдпрд╛ HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╕рдВрдЧреНрд░рд╣ рдЕрдирдиреНрдп [**NFTs**](https://opensea.io/collection/the-peass-family)
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рдпрд╛ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ рдореБрдЭреЗ **Twitter** рдкрд░ ЁЯРж [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
