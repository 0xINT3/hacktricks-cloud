# GCP - Security Enum

<details>

<summary><strong>Μάθετε το χάκινγκ του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Ειδικός Red Team του HackTricks AWS)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι υποστήριξης του HackTricks:

* Αν θέλετε να δείτε την **εταιρεία σας διαφημισμένη στο HackTricks** ή να **κατεβάσετε το HackTricks σε PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε** στην 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα τηλεγραφήματος**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε τα χάκινγκ κόλπα σας υποβάλλοντας PRs** στα [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>

## Βασικές Πληροφορίες

Η Ασφάλεια της Google Cloud Platform (GCP) περιλαμβάνει ένα **εκτεταμένο σύνολο εργαλείων** και πρακτικών σχεδιασμένων για να εξασφαλίσουν τη **ασφάλεια** των πόρων και δεδομένων εντός του περιβάλλοντος της Google Cloud, χωρισμένο σε τέσσερις κύριες ενότητες: **Κέντρο Ασφάλειας, Εντοπισμός και Ελέγχοι, Προστασία Δεδομένων και Zero Trust.**

## **Κέντρο Ασφάλειας**

Το Κέντρο Ασφάλειας της Google Cloud Platform (GCP) (SCC) είναι ένα **εργαλείο διαχείρισης ασφάλειας και κινδύνων για τους πόρους της GCP** που επιτρέπει στις οργανώσεις να αποκτήσουν ορατότητα και έλεγχο επί των νέφους τους πόρων. Βοηθά στο **εντοπισμό και αντίδραση σε απειλές** προσφέροντας περιεκτική ανάλυση ασφάλειας, **εντοπίζοντας λανθασμένες ρυθμίσεις**, εξασφαλίζοντας **συμμόρφωση** με πρότυπα ασφάλειας και **ενσωματώνοντας** με άλλα εργαλεία ασφάλειας για αυτόματο εντοπισμό και αντίδραση σε απειλές.

* **Επισκόπηση**: Πίνακας για να **οπτικοποιήσετε μια επισκόπηση** όλων των αποτελεσμάτων του Κέντρου Ασφάλειας.
* Απειλές: \[Απαιτείται Προνομιακή Έκδοση] Πίνακας για να οπτικοποιήσετε όλες τις **ανιχνευμένες απειλές. Δείτε περισσότερα σχετικά με τις Απειλές παρακάτω**
* **Ευπάθειες**: Πίνακας για να **οπτικοποιήσετε τις εντοπισμένες λανθασμένες ρυθμίσεις στο λογαριασμό GCP**.
* **Συμμόρφωση**: \[Απαιτείται Προνομιακή Έκδοση] Αυτή η ενότητα επιτρέπει να **δοκιμάσετε το περιβάλλον GCP σας έναντι διαφόρων ελέγχων συμμόρφωσης** (όπως PCI-DSS, NIST 800-53, CIS benchmarks...) πάνω στον οργανισμό.
* **Πόροι**: Αυτή η ενότητα **εμφανίζει όλους τους πόρους που χρησιμοποιούνται**, πολύ χρήσιμο για συστημικούς διαχειριστές (και ίσως επιτιθέμενους) για να δουν τι τρέχει σε μια μόνο σελίδα.
* **Ευρήματα**: Αυτό **συγκεντρώνει** σε έναν **πίνακα ευρημάτων** από διαφορετικές ενότητες της Ασφάλειας του GCP (όχι μόνο του Κέντρου Ελέγχου) για να είναι δυνατή η οπτικοποίηση ευρημάτων που έχουν σημασία.
* **Πηγές**: Δείχνει ένα **σύνοψη των ευρημάτων** όλων των διαφορετικών ενοτήτων της ασφάλειας του GCP **ανά ενότητα**.
* **Θέση**: \[Απαιτείται Προνομιακή Έκδοση] Η Θέση Ασφάλειας επιτρέπει να **ορίσετε, αξιολογήσετε και παρακολουθήσετε την ασφάλεια του περιβάλλοντος GCP**. Λειτουργεί δημιουργώντας πολιτική που ορίζει περιορισμούς ή περιορισμούς που ελέγχουν/παρακολουθούν τους πόρους στο GCP. Υπάρχουν αρκετά προκαθορισμένα πρότυπα θέσης που μπορούν να βρεθούν στο [https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy](https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy)

### **Απειλές**

Από την οπτική γωνία ενός επιτιθέμενου, αυτή είναι πιθανώς η **πιο ενδιαφέρουσα λειτουργία καθώς μπορεί να ανιχνεύσει τον επιτιθέμενο**. Ωστόσο, σημειώστε ότι αυτή η λειτουργία απαιτεί **Προνομιακή Έκδοση** (που σημαίνει ότι η εταιρεία θα πρέπει να πληρώσει περισσότερα), οπότε **ενδέχεται να μην είναι ακόμη ενεργοποιημένη**.

Υπάρχουν 3 τύποι μηχανισμών ανίχνευσης απειλών:

* **Απειλές Συμβάντων**: Ευρήματα που παράγονται με την αντιστοίχιση συμβάντων από το **Cloud Logging** βασισμένα σε **κανόνες που δημιουργήθηκαν** εσωτερικά από τη Google. Μπορεί επίσης να σαρώσει τα **logs του Google Workspace**.
* Είναι δυνατό να βρείτε την περιγραφή όλων των [**κανόνων ανίχνευσης στα έγγραφα**](https://cloud.google.com/security-command-center/docs/concepts-event-threat-detection-overview?authuser=2#how\_works)
* **Απειλές Εμπορίου**: Ευρήματα που παράγονται μετά την ανάλυση της χαμηλού επιπέδου συμπεριφοράς του πυρήνα των εμπορίων.
* **Προσαρμοσμένες Απειλές**: Κανόνες που δημιουργήθηκαν από την εταιρεία.

Είναι δυνατό να βρείτε συνιστώμενες απαντήσεις σε ανιχνευμένες απειλές και των δύο τύπων στο [https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event\_response](https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event\_response)

### Απαρίθμηση

{% code overflow="wrap" %}
```bash
# Get a source
gcloud scc sources describe <org-number> --source=5678
## If the response is that the service is disabled or that the source is not found, then, it isn't enabled

# Get notifications
gcloud scc notifications list <org-number>

# Get findings (if not premium these are just vulnerabilities)
gcloud scc findings list <org-number>
```
{% endcode %}

### Post Exploitation

{% content-ref url="../gcp-post-exploitation/gcp-security-post-exploitation.md" %}
[gcp-security-post-exploitation.md](../gcp-post-exploitation/gcp-security-post-exploitation.md)
{% endcontent-ref %}

## Εντοπισμός και Ελέγχοι

* **Chronicle SecOps**: Ένα προηγμένο σύνολο λειτουργιών ασφαλείας σχεδιασμένο για να βοηθήσει τις ομάδες να αυξήσουν την ταχύτητα και την επίδραση των λειτουργιών ασφαλείας, συμπεριλαμβανομένης της ανίχνευσης απειλών, της έρευνας και της ανταπόκρισης.
* **reCAPTCHA Enterprise**: Ένα υπηρεσία που προστατεύει τις ιστοσελίδες από απάτες όπως η ανάκτηση δεδομένων, η εισαγωγή διαπιστευτηρίων και οι αυτοματοποιημένες επιθέσεις, διακρίνοντας μεταξύ ανθρώπινων χρηστών και ρομπότ.
* **Web Security Scanner**: Αυτοματοποιημένο εργαλείο σάρωσης ασφάλειας που ανιχνεύει ευπάθειες και κοινά θέματα ασφαλείας σε web εφαρμογές που φιλοξενούνται στο Google Cloud ή σε άλλη υπηρεσία web.
* **Risk Manager**: Ένα εργαλείο διακυβέρνησης, κινδύνου και συμμόρφωσης (GRC) που βοηθά τις οργανώσεις να αξιολογήσουν, να τεκμηριώσουν και να κατανοήσουν τη θέση κινδύνου τους στο Google Cloud.
* **Binary Authorization**: Ένας έλεγχος ασφαλείας για containers που εξασφαλίζει ότι μόνο αξιόπιστες εικόνες container αναπτύσσονται σε συστάδες Kubernetes Engine σύμφωνα με τις πολιτικές που έχει ορίσει η επιχείρηση.
* **Ειδοποιήσεις Συμβουλών**: Μια υπηρεσία που παρέχει ειδοποιήσεις και συμβουλές σχετικά με πιθανά θέματα ασφάλειας, ευπάθειες και συνιστώμενες ενέργειες για τη διατήρηση των πόρων ασφαλείς.
* **Έγκριση Πρόσβασης**: Μια δυνατότητα που επιτρέπει στις οργανώσεις να απαιτούν ρητή έγκριση πριν οι υπάλληλοι της Google μπορέσουν να έχουν πρόσβαση στα δεδομένα ή τις ρυθμίσεις τους, παρέχοντας έτσι ένα επιπλέον επίπεδο ελέγχου και ελεγξιμότητας.
* **Managed Microsoft AD**: Μια υπηρεσία που προσφέρει διαχειριζόμενο Microsoft Active Directory (AD) που επιτρέπει στους χρήστες να χρησιμοποιούν τις υπάρχουσες εφαρμογές και φορτώσεις εργασίας που εξαρτώνται από το Microsoft AD στο Google Cloud.

## Προστασία Δεδομένων

* **Προστασία Ευαίσθητων Δεδομένων**: Εργαλεία και πρακτικές που στοχεύουν στη διασφάλιση των ευαίσθητων δεδομένων, όπως προσωπικές πληροφορίες ή πνευματική ιδιοκτησία, από μη εξουσιοδοτημένη πρόσβαση ή αποκάλυψη.
* **Πρόληψη Απώλειας Δεδομένων (DLP)**: Ένα σύνολο εργαλείων και διαδικασιών που χρησιμοποιούνται για την αναγνώριση, την παρακολούθηση και την προστασία δεδομένων σε χρήση, κίνηση και ανάπαυση μέσω βαθιάς επιθεώρησης περιεχομένου και την εφαρμογή ενός πλήρους συνόλου κανόνων προστασίας δεδομένων.
* **Υπηρεσία Αρχής Πιστοποίησης**: Μια κλιμακούμενη και ασφαλής υπηρεσία που απλοποιεί και αυτοματοποιεί τη διαχείριση, την ανάπτυξη και την ανανέωση πιστοποιητικών SSL/TLS για εσωτερικές και εξωτερικές υπηρεσίες.
* **Διαχείριση Κλειδιών**: Μια υπηρεσία βασισμένη στο cloud που σάς επιτρέπει να διαχειρίζεστε κρυπτογραφικά κλειδιά για τις εφαρμογές σας, συμπεριλαμβανομένης της δημιουργίας, εισαγωγής, περιστροφής, χρήσης και καταστροφής κλειδιών κρυπτογράφησης. Περισσότερες πληροφορίες στο:

{% content-ref url="gcp-kms-enum.md" %}
[gcp-kms-enum.md](gcp-kms-enum.md)
{% endcontent-ref %}

* **Διαχειριστής Πιστοποιητικών**: Μια υπηρεσία που διαχειρίζεται και αναπτύσσει πιστοποιητικά SSL/TLS, εξασφαλίζοντας ασφαλείς και κρυπτογραφημένες συνδέσεις στις υπηρεσίες και εφαρμογές σας στο web.
* **Διαχειριστής Μυστικών**: Ένα ασφαλές και βολικό σύστημα αποθήκευσης για κλειδιά API, κωδικούς πρόσβασης, πιστοποιητικά και άλλα ευαίσθητα δεδομένα, το οποίο επιτρέπει την εύκολη και ασφαλή πρόσβαση και διαχείριση αυτών των μυστικών σε εφαρμογές. Περισσότερες πληροφορίες στο:

{% content-ref url="gcp-secrets-manager-enum.md" %}
[gcp-secrets-manager-enum.md](gcp-secrets-manager-enum.md)
{% endcontent-ref %}

## Μηδενική Εμπιστοσύνη

* **BeyondCorp Enterprise**: Μια πλατφόρμα ασφαλείας μηδενικής εμπιστοσύνης που επιτρέπει την ασφαλή πρόσβαση σε εσωτερικές εφαρμογές χωρίς την ανάγκη για παραδοσιακό VPN, βασιζόμενη στον έλεγχο της εμπιστοσύνης του χρήστη και της συσκευής πριν χορηγηθεί πρόσβαση.
* **Εργαλείο Ανίχνευσης Πολιτικής**: Ένα εργαλείο σχεδιασμένο για να βοηθήσει τους διαχειριστές να κατανοήσουν και να επιλύσουν θέματα πρόσβασης στην οργάνωσή τους, αναγνωρίζοντας γιατί ένας χρήστης έχει πρόσβαση σε συγκεκριμένους πόρους ή γιατί αρνήθηκε η πρόσβαση, βοηθώντας έτσι στην εφαρμογή των πολιτικών μηδενικής εμπιστοσύνης.
* **Προϊόν Identity-Aware Proxy (IAP)**: Μια υπηρεσία που ελέγχει την πρόσβαση σε cloud εφαρμογές και εικονικές μηχανές που λειτουργούν στο Google Cloud, on-premises ή σε άλλα clouds, βασιζόμενη στην ταυτότητα και το πλαίσιο του αιτήματος αντί για το δίκτυο από το οποίο προέρχεται το αίτημα.
* **Ελέγχοι Υπηρεσιών VPC**: Περιορισμοί ασφαλείας που παρέχουν επιπλέον επίπεδα προστασίας σε πόρους και υπηρεσίες που φιλοξενούνται στο Virtual Private Cloud (VPC) του Google Cloud, αποτρέποντας τη διαρροή δεδομένων και παρέχοντας λεπτομερή έλεγχο πρόσβασης.
* **Διαχειριστής Περιβάλλοντος Πρόσβασης**: Μέρος του BeyondCorp Enterprise του Google Cloud, αυτό το εργαλείο βοηθά στον καθορισμό και την επιβολή πολιτικών ελέγχου πρόσβασης με βάση την ταυτότητα του χρήστη και το πλαίσιο του αιτήματός του, όπως η κατάσταση ασφάλειας της συσκευής, η διεύθυνση IP και άλλα.
