# GCP - Orodha ya Vyanzo vya Repositories

<details>

<summary><strong>Jifunze kuhusu udukuzi wa AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA USAJILI**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **fuata** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Shiriki mbinu zako za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## Taarifa Msingi <a href="#reviewing-cloud-git-repositories" id="reviewing-cloud-git-repositories"></a>

Google Cloud Source Repositories ni huduma kamili, inayoweza kupanuliwa, **huduma ya hifadhi ya Git binafsi**. Imetengenezwa kwa **kutunza msimbo wako chanzo katika mazingira yaliyosimamiwa kabisa**, ikishirikiana kwa urahisi na zana na huduma zingine za GCP. Inatoa mahali pa ushirikiano na salama kwa timu kuhifadhi, kusimamia, na kufuatilia msimbo wao.

Sifa muhimu za Repositories za Chanzo cha Cloud ni pamoja na:

1. **Hifadhi ya Git Iliyosimamiwa Kabisa**: Inatoa utendaji wa kawaida wa Git, maana unaweza kutumia amri na mifumo ya kazi ya kawaida ya Git.
2. **Ushirikiano na Huduma za GCP**: Inashirikiana na huduma zingine za GCP kama Cloud Build, Pub/Sub, na App Engine kwa ufuatiliaji kamili kutoka msimbo hadi kusambaza.
3. **Repositories Binafsi**: Inahakikisha msimbo wako unahifadhiwa kwa usalama na faragha. Unaweza kudhibiti ufikiaji kwa kutumia majukumu ya Utambulisho na Usimamizi wa Ufikiaji wa Cloud (IAM).
4. **Uchambuzi wa Msimbo wa Chanzo**: Inafanya kazi na zana zingine za GCP kutoa uchambuzi wa moja kwa moja wa msimbo wako chanzo, kutambua masuala yanayowezekana kama mende, mapungufu, au mazoea mabaya ya kuandika msimbo.
5. **Zana za Ushirikiano**: Inasaidia uandishi wa kushirikiana na zana kama maombi ya kuchanganya, maoni, na mapitio.
6. **Msaada wa Kioo**: Inakuruhusu kuunganisha Repositories za Chanzo cha Cloud na repositori zilizohifadhiwa kwenye GitHub au Bitbucket, ikiruhusu kusawazisha moja kwa moja na kutoa mtazamo mmoja wa repositori zako zote.

### Taarifa za OffSec <a href="#reviewing-cloud-git-repositories" id="reviewing-cloud-git-repositories"></a>

* Usanidi wa repositories za chanzo ndani ya mradi utakuwa na **Akaunti ya Huduma** inayotumiwa kutuma ujumbe wa Cloud Pub/Sub. Ile ya kawaida inayotumiwa ni **Compute SA**. Walakini, **Sifikiri ni rahisi kuiba token yake** kutoka kwa Repositories za Chanzo kwani inatekelezwa nyuma.
* Ili kuona msimbo ndani ya GCP Cloud Source Repositories kwenye konsoli ya wavuti ([https://source.cloud.google.com/](https://source.cloud.google.com/)), unahitaji msimbo uwe **ndani ya tawi la msingi kwa chaguo-msingi**.
* Unaweza pia **kuunda Kioo cha Repositori cha Cloud** kinachoelekeza kwenye repo kutoka **Github** au **Bitbucket** (ukiruhusu ufikiaji wa majukwaa hayo).
* Ni rahisi **kuandika na kurekebisha kutoka ndani ya GCP**.
* Kwa chaguo-msingi, Repositories za Chanzo **zinazuia funguo za faragha kusukumwa katika mabadiliko**, lakini hii inaweza kulemazwa.

### Fungua kwenye Cloud Shell

Inawezekana kufungua repositori kwenye Cloud Shell, dirisha kama hili litatokea:

<figure><img src="../../../.gitbook/assets/image (325).png" alt=""><figcaption></figcaption></figure>

Hii itakuruhusu kuandika na kurekebisha kwenye Cloud Shell (ambayo inaweza kudukuliwa). 

### Uorodheshaji

{% code overflow="wrap" %}
```bash
# Repos enumeration
gcloud source repos list #Get names and URLs
gcloud source repos describe <repo_name>
gcloud source repos get-iam-policy <repo_name>

# gcloud repo clone
gcloud source repos clone <REPO NAME>
gcloud source repos get-iam-policy <REPO NAME>
... git add & git commit -m ...
git push --set-upstream origin master
git push -u origin master

# Access via git
## To add a SSH key go to https://source.cloud.google.com/user/ssh_keys (no gcloud command)
git clone ssh://username@domain.com@source.developers.google.com:2022/p/<proj-name>/r/<repo-name>
git add, commit, push...
```
### Upandishaji wa Mamlaka & Baada ya Kudukuliwa

{% content-ref url="../gcp-privilege-escalation/gcp-sourcerepos-privesc.md" %}
[gcp-sourcerepos-privesc.md](../gcp-privilege-escalation/gcp-sourcerepos-privesc.md)
{% endcontent-ref %}

### Upimaji wa Enum Bila Kuthibitishwa

{% content-ref url="../gcp-unaunthenticated-enum-and-access/gcp-source-repositories-unauthenticated-enum.md" %}
[gcp-source-repositories-unauthenticated-enum.md](../gcp-unaunthenticated-enum-and-access/gcp-source-repositories-unauthenticated-enum.md)
{% endcontent-ref %}
