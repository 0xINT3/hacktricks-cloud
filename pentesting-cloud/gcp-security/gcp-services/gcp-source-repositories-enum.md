# GCP - Enumeratinga Repositories za Chanzo

<details>

<summary><strong>Jifunze kuhusu kuhack AWS kutoka mwanzo hadi mtaalamu na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalamu wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA USAJILI**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **fuata** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Shiriki mbinu zako za kuhack kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## Taarifa Msingi <a href="#reviewing-cloud-git-repositories" id="reviewing-cloud-git-repositories"></a>

Google Cloud Source Repositories ni huduma kamili, inayoweza kupanuliwa, **huduma ya hifadhi ya Git binafsi**. Imetengenezwa kwa lengo la **kutunza nambari yako ya chanzo katika mazingira yaliyosimamiwa kabisa**, ikishirikiana kwa urahisi na zana na huduma zingine za GCP. Inatoa mahali pa ushirikiano na salama kwa timu kuhifadhi, kusimamia, na kufuatilia nambari zao.

Sifa muhimu za Cloud Source Repositories ni pamoja na:

1. **Hifadhi ya Git Iliyosimamiwa Kabisa**: Inatoa utendaji wa kawaida wa Git, maana unaweza kutumia amri za kawaida za Git na mifumo ya kazi.
2. **Ushirikiano na Huduma za GCP**: Inashirikiana na huduma zingine za GCP kama Cloud Build, Pub/Sub, na App Engine kwa ufuatiliaji kamili kutoka kwa nambari hadi kwenye kupelekwa.
3. **Hifadhi Binafsi**: Inahakikisha nambari yako inahifadhiwa kwa usalama na faragha. Unaweza kudhibiti ufikiaji kwa kutumia majukumu ya Utambulisho na Usimamizi wa Upatikanaji wa Cloud (IAM).
4. **Uchambuzi wa Nambari ya Chanzo**: Inafanya kazi na zana zingine za GCP kutoa uchambuzi wa moja kwa moja wa nambari yako ya chanzo, kutambua masuala yanayowezekana kama mende, mapungufu, au mazoea mabaya ya kuandika nambari.
5. **Zana za Ushirikiano**: Inasaidia kuandika kwa ushirikiano na zana kama maombi ya kuchanganya, maoni, na mapitio.
6. **Msaada wa Kioo**: Inakuruhusu kuunganisha Cloud Source Repositories na hifadhi zilizohifadhiwa kwenye GitHub au Bitbucket, ikiruhusu kusawazisha moja kwa moja na kutoa mtazamo mmoja wa hifadhi zako zote.

### Taarifa za OffSec <a href="#reviewing-cloud-git-repositories" id="reviewing-cloud-git-repositories"></a>

* Mazingira ya hifadhi za chanzo ndani ya mradi yatakuwa na **Akaunti ya Huduma** inayotumiwa kutuma ujumbe wa Cloud Pub/Sub. Ile ya kawaida inayotumiwa ni **Compute SA**. Walakini, **Sifikiri ni rahisi kuiba token yake** kutoka kwa Repositories za Chanzo kwani inatekelezwa nyuma.
* Ili kuona nambari ndani ya GCP Cloud Source Repositories kwenye konsoli ya wavuti ([https://source.cloud.google.com/](https://source.cloud.google.com/)), unahitaji nambari iwe **katika tawi la msingi kwa chaguo-msingi**.
* Unaweza pia **kuunda Hifadhi ya Kioo ya Cloud** inayoelekeza kwenye repo kutoka kwa **Github** au **Bitbucket** (ikiruhusu ufikiaji wa majukwaa hayo).
* Ni rahisi **kuandika na kudebaji kutoka ndani ya GCP**.
* Kwa chaguo-msingi, Source Repositories **inazuia funguo za faragha kusukumwa kwenye mabadiliko**, lakini hii inaweza kuzimwa.

### Fungua kwenye Cloud Shell

Inawezekana kufungua hifadhi kwenye Cloud Shell, dirisha kama hili litatokea:

<figure><img src="../../../.gitbook/assets/image (136).png" alt=""><figcaption></figcaption></figure>

Hii itakuruhusu kuandika na kudebaji kwenye Cloud Shell (ambayo inaweza kusababisha kudukuliwa kwa cloudshell). 

### Uorodheshaji

{% code overflow="wrap" %}
```bash
# Repos enumeration
gcloud source repos list #Get names and URLs
gcloud source repos describe <repo_name>
gcloud source repos get-iam-policy <repo_name>

# gcloud repo clone
gcloud source repos clone <REPO NAME>
gcloud source repos get-iam-policy <REPO NAME>
... git add & git commit -m ...
git push --set-upstream origin master
git push -u origin master

# Access via git
## To add a SSH key go to https://source.cloud.google.com/user/ssh_keys (no gcloud command)
git clone ssh://username@domain.com@source.developers.google.com:2022/p/<proj-name>/r/<repo-name>
git add, commit, push...
```
### Upandishaji wa Mamlaka & Baada ya Kudukuliwa

{% content-ref url="../../gcp-pentesting/gcp-privilege-escalation/gcp-sourcerepos-privesc.md" %}
[gcp-sourcerepos-privesc.md](../../gcp-pentesting/gcp-privilege-escalation/gcp-sourcerepos-privesc.md)
{% endcontent-ref %}

### Upimaji wa Unauthenticated

{% content-ref url="../gcp-unaunthenticated-enum-and-access/gcp-source-repositories-unauthenticated-enum.md" %}
[gcp-source-repositories-unauthenticated-enum.md](../gcp-unaunthenticated-enum-and-access/gcp-source-repositories-unauthenticated-enum.md)
{% endcontent-ref %}

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikitangazwa kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**swag rasmi wa PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **fuata** kwenye **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/carlospolopm)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
