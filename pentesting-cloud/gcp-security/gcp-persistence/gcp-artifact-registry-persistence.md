# GCP - Uhifadhi wa Artifakti

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikionekana kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) za kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## Usajili wa Artifakti

Kwa habari zaidi kuhusu Usajili wa Artifakti angalia:

{% content-ref url="../gcp-services/gcp-artifact-registry-enum.md" %}
[gcp-artifact-registry-enum.md](../gcp-services/gcp-artifact-registry-enum.md)
{% endcontent-ref %}

### Kupotosha Kitegemezi

* Kuna nini kinachotokea ikiwa **maktaba za mbali na za kawaida** zinachanganywa katika moja ya **kielelezo** na pakiti inayozidi katika zote mbili?
* Ile iliyo na **kipaumbele cha juu kilichowekwa katika usajili wa kielelezo** ndio itatumika
* Ikiwa **kipaumbele ni sawa**:
* Ikiwa **toleo** ni **sawa**, jina la **sera kwa herufi kwanza** katika usajili wa kielelezo litatumika
* Vinginevyo, **toleo lililo juu** litatumika

{% hint style="danger" %}
Kwa hivyo, inawezekana **kutumia toleo lililo juu (kupotosha kitegemezi)** katika usajili wa pakiti ya umma ikiwa usajili wa mbali una kipaumbele cha juu au sawa
{% endhint %}

Mbinu hii inaweza kuwa na manufaa kwa **uhifadhi** na **upatikanaji usiothibitishwa** kwani kuitumia inahitaji tu **kujua jina la maktaba** iliyohifadhiwa kwenye Usajili wa Artifakti na **kuunda maktaba hiyo hiyo kwenye usajili wa umma (k.m. PyPi kwa python kwa mfano)** na toleo lililo juu.

Kwa uhifadhi, hizi ni hatua unazopaswa kufuata:

* **Mahitaji**: **Usajili wa kielelezo** lazima **uwepo** na kutumiwa, pakiti **ya ndani** yenye **jina** ambalo halipo katika **usajili wa umma** lazima itumiwe.
* Unda usajili wa mbali ikiwa haupo
* Ongeza usajili wa mbali kwenye usajili wa kielelezo
* Hariri sera za usajili wa kielelezo kutoa kipaumbele cha juu (au sawa) kwa usajili wa mbali.\
Chukua hatua kama:
* [gcloud artifacts repositories update --upstream-policy-file ...](https://cloud.google.com/sdk/gcloud/reference/artifacts/repositories/update#--upstream-policy-file)
* Pakua pakiti halali, ongeza nambari yako ya uovu na usajili kwenye usajili wa umma na toleo sawa. Kila wakati mwandishi wa programu anapoisakinisha, ataisakinisha yako!

Kwa habari zaidi kuhusu kupotosha kitegemezi angalia:

{% embed url="https://book.hacktricks.xyz/pentesting-web/dependency-confusion" %}

<details>

<summary><strong>Jifunze kuhusu kudukua AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya AWS ya HackTricks)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikionekana kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) za kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kudukua kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
